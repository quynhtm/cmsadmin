(this["webpackJsonpselling-b2b"]=this["webpackJsonpselling-b2b"]||[]).push([[0],{151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},276:function(e,t,a){},277:function(e,t,a){},294:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),l=a.n(n),s=a(16),i=a.n(s),r=(a(151),a(2)),o=(a(152),a(153),a(8)),d=a(28),u=a(14),b=a.n(u),j=a(19),h=a(358),O=a(362),m=a(44),E=a(361),v=a(13),_=a.n(v),N=a(25),A=a.n(N),f=a(37),C=function(e){var t=Object(n.useState)(e.selectedDay),a=Object(r.a)(t,2),l=a[0],s=a[1];Object(n.useEffect)((function(){console.log("props.selectedDay",e.selectedDay)}),[e.selectedDay]);var i={months:["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"],weekDays:[{name:"Sunday",short:"Th2",isWeekend:!0},{name:"Monday",short:"Th3"},{name:"Tuesday",short:"Th4"},{name:"Wednesday",short:"Th5"},{name:"Thursday",short:"Th6"},{name:"Friday",short:"Th7"},{name:"Saturday",short:"CN",isWeekend:!0}],weekStartingIndex:0,getToday:function(e){return e},toNativeDate:function(e){return new Date(e.year,e.month-1,e.day)},getMonthLength:function(e){return new Date(e.year,e.month,0).getDate()},transformDigit:function(e){return e},nextMonth:"Next Month",previousMonth:"Previous Month",openMonthSelector:"Open Month Selector",openYearSelector:"Open Year Selector",closeMonthSelector:"Close Month Selector",closeYearSelector:"Close Year Selector",defaultPlaceholder:"Select...",from:"from",to:"to",digitSeparator:",",yearLetterSkip:0,isRtl:!1};return Object(c.jsxs)("div",{className:"float-pophover",children:[Object(c.jsx)("div",{className:"popheader",children:Object(c.jsx)("p",{className:"stitle",children:e.label})}),Object(c.jsx)("div",{className:"select-body datw",children:Object(c.jsx)(f.Calendar,{value:l,onChange:function(t){s(t),setTimeout((function(){e.dateSelect(t)}),200)},minimumDate:e.minimumDate||null,maximumDate:e.maximumDate||null,locale:i,shouldHighlightWeekends:!0})})]})},D=a(90),p=a(172),g="https://dev-hyperservices.hdinsurance.com.vn/f/",S=function(e){return e.length>0&&e.map((function(e){return{value:e.TYPE_CODE,label:e.TYPE_NAME,discount_max:e.DISCOUNT_MAX?e.DISCOUNT_MAX:null,discount_unit:e.DISCOUNT_UNIT?e.DISCOUNT_UNIT:null}}))},x=function(e){var t=_()(e,"DD/MM/YYYY").format("YYYY-MM-DD");return{year:_()(t).year(),month:_()(t).month()+1,day:_()(t).date()}},T=function(e){if(e)return _()(e,"DD/MM/YYYY",!0).isValid()},I=function(e,t){return _()(e,"DD/MM/YYYY")<_()(t,"DD/MM/YYYY")},R=function(e,t){var a=e?e.split("/").reverse().join("-"):null,c=t?t.split("/").reverse().join("-"):null;return P(a,c)},L=function(){var e=new Date;return{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}},P=function(e,t){var a=new Date(new Date(e).toISOString().substr(0,10));t||(t=(new Date).toISOString().substr(0,10));var c=new Date(t);if(a>c){var n=a;a=c,c=n}var l=a.getFullYear(),s=[31,l%4===0&&l%100!==0||l%400===0?29:28,31,30,31,30,31,31,30,31,30,31],i=c.getFullYear()-l,r=c.getMonth()-a.getMonth();r<0&&(i--,r+=12);var o=c.getDate()-a.getDate();return o<0&&(r>0?r--:(i--,r=11),o+=s[a.getMonth()]),{month_diff:12*i+r,day_diff:o,year_diff:i}},k=function(e){if(e)return e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},y=function(e){if(e)return e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,".")},H=function(e){var t=Number(e?e.replace(/,/g,""):null);return new Intl.NumberFormat("en-US",{minimumFractionDigits:0}).format(t)},M=function(e){for(var t=e.indexOf(";base64,"),a=e.substring(5,t),c=e.substr(t+8),n=atob(c),l=new ArrayBuffer(n.length),s=new Uint8Array(l),i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return new Blob([l],{type:a})},V=function(e){var t=U(e);if(window.navigator&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(t,"pdfBase64.pdf");else{var a=URL.createObjectURL(t);window.open(a)}},U=function(e){for(var t=1024,a=atob(e),c=a.length,n=Math.ceil(c/t),l=new Array(n),s=0;s<n;++s){for(var i=s*t,r=Math.min(i+t,c),o=new Array(r-i),d=i,u=0;d<r;++u,++d)o[u]=a[d].charCodeAt(0);l[s]=new Uint8Array(o)}return new Blob(l,{type:"application/pdf"})},Y=function(e){Object(D.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(c.jsxs)("div",{className:"custom-content-dialog",children:[Object(c.jsx)("p",{children:e}),Object(c.jsx)("div",{className:"btn-confirm-dialog",onClick:a,children:"\u0110\u1ed3ng \xfd"})]})}})},B=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},w=function(){for(var e=(new Date).getFullYear(),t=[];e>=2e3;--e)t.push({value:e.toString(),label:"N\u0103m "+e});return t},F=function(e){Object(D.confirmAlert)({customUI:function(t){var a=t.onClose;return Object(c.jsxs)("div",{className:"custom-content-dialog",children:[Object(c.jsx)("img",{src:"data:image/png;base64,"+e,alt:"Scan Qr",style:{width:200,height:200}}),Object(c.jsx)("label",{className:"genqr-content",children:"Vui l\xf2ng qu\xe9t m\xe3 QR tr\xean \u0111i\u1ec7n tho\u1ea1i \u0111\u1ec3 b\u1ed5 sung th\xf4ng tin gi\xe1m \u0111\u1ecbnh b\u1eb1ng c\xe1ch ch\u1ee5p v\xe0 quay video xe"}),Object(c.jsx)("div",{className:"btn-confirm-dialog",onClick:a,children:"\u0110\xf3ng"})]})}})},G=function(e){var t=Object(n.useState)(e.value),a=Object(r.a)(t,2),s=a[0],i=a[1],d=Object(n.useState)(null),u=Object(r.a)(d,2),b=u[0],j=u[1];return Object(n.useEffect)((function(){i(e.value)}),[e.value]),Object(c.jsx)(l.a.Fragment,{children:Object(c.jsx)("div",{id:"cus-input-label",children:Object(c.jsxs)(O.a.Group,{style:{position:"relative"},children:[e.label&&Object(c.jsxs)(O.a.Label,{children:[e.label,e.required?Object(c.jsx)("span",{style:{color:"#DA2128"},children:"*"}):""]}),Object(c.jsx)(O.a.Control,Object(o.a)(Object(o.a)({},e),{},{placeholder:e.placeholder,disabled:e.disable,value:s||"",onFocus:e.onFocus,onBlur:e.onBlur,required:e.required,onChange:function(t){return function(t){if(e.readOnly)return t.preventDefault();e.date&&(T(t.target.value)?j(null):j("L\u1ed7i \u0111\u1ecbnh d\u1ea1ng ng\xe0y DD/MM/YYYY"));var a=t.target.value;e.changeEvent&&e.changeEvent(a),i(a)}(t)}})),e.icon?Object(c.jsx)("div",{className:"icon",onClick:e.onClickIc,children:Object(c.jsx)("i",{className:"fa ".concat(e.icon),"aria-hidden":"true"})}):null,e.error||b?Object(c.jsx)("label",{style:{color:"#DA2128",marginBottom:0},children:e.error||b}):null]})})})},X=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(e.value),d=Object(r.a)(i,2),u=d[0],b=d[1];Object(n.useEffect)((function(){T(e.value)&&b(e.value)}),[e.value]);var j={isOpen:l,place:"below",className:"custom-popover-date",preferPlace:"right",onOuterAction:function(){return s(!1)},body:[Object(c.jsx)(C,{selectedDay:e.selectedDay,minimumDate:e.minimumDate,maximumDate:e.maximumDate,dateSelect:function(t){T(u)&&(t&&b("".concat(t.day<10?"0".concat(t.day):t.day,"/").concat(t.month<10?"0".concat(t.month):t.month,"/").concat(t.year)),setTimeout((function(){e.changeEvent("".concat(t.day<10?"0".concat(t.day):t.day,"/").concat(t.month<10?"0".concat(t.month):t.month,"/").concat(t.year)),s(!1)}),200))}})]};return Object(c.jsx)(A.a,Object(o.a)(Object(o.a)({},j),{},{children:Object(c.jsx)(G,Object(o.a)(Object(o.a)({},e),{},{loading:e.loading,label:e.label,onFocus:function(e){return s(!1)},onKeyPress:function(e){var t=e.target;(e.charCode<47||e.charCode>57)&&e.preventDefault();var a=t.value.length;1===a&&3===a||47==e.charCode&&e.preventDefault(),2===a&&(t.value+="/"),5===a&&(t.value+="/")},value:u,date:!0,icon:"fa-calendar-alt",onClickIc:function(){T(e.value)?s(!0):s(!1)}}))}))},q=a(360),K=a(357),W=a(144),Q=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useRef)(null),d={control:function(e){return Object(o.a)(Object(o.a)({},e),{},{height:38,background:"#FFFFFF"})}};return Object(c.jsx)("div",{id:"cus-input-label",children:Object(c.jsxs)(O.a.Group,{children:[Object(c.jsxs)(O.a.Label,{children:[e.label,e.required?Object(c.jsx)("span",{style:{color:"#DA2128"},children:"*"}):"",e.tooltip?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("span",{className:"show-tooltip-select",ref:i,onClick:function(){return s(!l)},children:Object(c.jsx)("i",{className:"fas fa-info-circle"})}),Object(c.jsx)(q.a,{rootClose:!0,onHide:function(){return s(!1)},target:i.current,show:l,placement:"bottom",children:function(e){return Object(c.jsx)(K.a,Object(o.a)(Object(o.a)({id:"overlay-example"},e),{},{children:Object(c.jsxs)("p",{children:[Object(c.jsx)("p",{className:"text-center",children:Object(c.jsx)("strong",{children:"M\xd4 T\u1ea2 PH\u1ea0M VI B\u1ea2O HI\u1ec2M"})}),Object(c.jsx)("p",{style:{marginBottom:"10px"},children:"1. Ph\u1ea1m vi b\u1ea3o hi\u1ec3m A (B\u1ea3o hi\u1ec3m n\xe0y cung c\u1ea5p \u0111\u1ed9c l\u1eadp): N\u0110BH b\u1ecb tai n\u1ea1n l\xe0 nguy\xean nh\xe2n tr\u1ef1c ti\u1ebfp khi\u1ebfn cho N\u0110BH b\u1ecb t\u1eed vong ho\u1eb7c b\u1ecb th\u01b0\u01a1ng t\u1eadt to\xe0n b\u1ed9 v\u0129nh vi\u1ec5n t\u1eeb 80% tr\u1edf l\xean;"}),Object(c.jsx)("p",{children:"2. Ph\u1ea1m vi b\u1ea3o hi\u1ec3m B (B\u1ea3o hi\u1ec3m n\xe0y ch\u1ec9 cung c\u1ea5p khi N\u0110BH tham gia ph\u1ea1m vi b\u1ea3o hi\u1ec3m A): N\u0110BH b\u1ecb \u1ed1m \u0111au, b\u1ec7nh t\u1eadt, thai s\u1ea3n l\xe0 nguy\xean nh\xe2n tr\u1ef1c ti\u1ebfp khi\u1ebfn cho N\u0110BH b\u1ecb t\u1eed vong ho\u1eb7c b\u1ecb th\u01b0\u01a1ng t\u1eadt to\xe0n b\u1ed9 v\u0129nh vi\u1ec5n t\u1eeb 80% tr\u1edf l\xean;"}),Object(c.jsx)("p",{children:"3. Ph\u1ea1m vi b\u1ea3o hi\u1ec3m C (B\u1ea3o hi\u1ec3m n\xe0y ch\u1ec9 cung c\u1ea5p khi N\u0110BH tham gia ph\u1ea1m vi b\u1ea3o hi\u1ec3m A): Ng\u01b0\u1eddi \u0111\u01b0\u1ee3c b\u1ea3o hi\u1ec3m b\u1ecb T\xf2a \xe1n c\xf3 th\u1ea9m quy\u1ec1n tuy\xean b\u1ed1 m\u1ea5t t\xedch theo quy \u0111\u1ecbnh ph\xe1p lu\u1eadt Vi\u1ec7t Nam"})]})}))}})]}):""]}),Object(c.jsx)(W.a,Object(o.a)(Object(o.a)({},e),{},{isDisabled:e.disable,classNamePrefix:"cus-select",value:e.value,onChange:e.onChange,options:e.options,styles:d}))]})})},J=a(42),z=a.n(J),Z=a(69),$=a.n(Z);Object(J.registerLocale)("vi",$.a);var ee=a(70),te=a(71),ae=a(24),ce=a.n(ae),ne=null,le=function(){function e(){Object(ee.a)(this,e),this.domain="https://test-apipayment.hdinsurance.com.vn",this.domainAdd="https://beta-sdk.hdinsurance.com.vn",this.post=this.post.bind(this),this.patch=this.patch.bind(this),this.get=this.get.bind(this),this.handleError=this.handleError.bind(this),this.getHeader=this.getHeader.bind(this),ne=this}return Object(te.a)(e,[{key:"getHeader",value:function(){return{headers:{"Access-Control-Allow-Headers":"Content-Type","Access-Control-Allow-Methods":"POST","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}}},{key:"getParams",value:function(e,t,a){return{Device:{DeviceId:"",DeviceCode:"",DeviceName:null,IpPrivate:"123",IpPublic:"",PortPublic:null,X:"",Y:"",Province:"",District:"",Wards:"",Address:"",Environment:"",Browser:"",DeviceEnvironment:"WEB"},Action:e,Data:t,Signature:a||"034F0DA18BCBDDDB216211594505FB0D8877BB41BE73F6285AECFF7939FA051A",Process:null}}},{key:"post",value:function(e,t){var a=this;return new Promise((function(c,n){ce.a.post(a.domain+e,a.getParams(t.Action,t.Data,t.Signature),a.getHeader()).then((function(e){return c(e.data)})).catch((function(e){return n(e)}))}))}},{key:"patch",value:function(e,t){var a=this;return new Promise((function(c,n){ce.a.patch(a.domain+e,t).then((function(e){return c(e.data)})).catch((function(e){console.log(e),ne.handleError(e,n)}))}))}},{key:"get",value:function(e){var t=this;return new Promise((function(a,c){ce.a.get(t.domainAdd+e).then((function(e){return a(e.data)})).catch((function(e){ne.handleError(e,c)}))}))}},{key:"delete",value:function(e){var t=this;return new Promise((function(a,c){ce.a.delete(t.domain+e).then((function(e){return a(e.data)})).catch((function(e){ne.handleError(e,c)}))}))}},{key:"handleError",value:function(e,t){e.response&&(401==e.response.status||403==e.response.status)||(console.log("ERROR----\x3e",e),t(e,null))}}]),e}(),se=(a(85),function(e){var t=Object(n.useState)(e.value),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(null!=e.value),d=Object(r.a)(o,2),u=d[0],b=d[1],j=Object(n.useState)(null),h=Object(r.a)(j,2),m=h[0],E=h[1];return Object(n.useEffect)((function(){null!==e.value&&void 0!==e.value?b(!0):b(!1),e.dropdown&&null!==e.value&&void 0!==e.value&&(""!==e.value?b(!0):b(!1)),i(e.value)}),[e.value]),Object(c.jsxs)(l.a.Fragment,{children:[Object(c.jsxs)("div",{id:"float-label",className:e.disable?"ipt-disable":"",children:[Object(c.jsx)(O.a.Control,{type:"text",disabled:e.disable,value:s||"",onFocus:e.onFocus,onKeyPress:e.onKeyPress,className:e.hideborder?"no-border":"ah",required:e.required,readOnly:e.readonly,onChange:function(t){return function(t){if(e.readOnly)return t.preventDefault();e.date&&(T(t.target.value)?E(null):E("L\u1ed7i \u0111\u1ecbnh d\u1ea1ng ng\xe0y DD/MM/YYYY"));var a=t.target.value;e.changeEvent&&e.changeEvent(a),i(a),b(""!==a)}(t)}}),e.icon?Object(c.jsx)("div",{className:"icon",style:{cursor:"pointer"},onClick:e.onClickIc,children:Object(c.jsx)("i",{className:"fa ".concat(e.icon),"aria-hidden":"true"})}):null,e.dropdown?Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})}):null,Object(c.jsxs)("label",{className:u?"Active":"",htmlFor:"inp",children:[e.label||""," ",e.required?Object(c.jsx)("span",{style:{color:"#DA2128"},children:" *"}):""]})]}),e.error||m?Object(c.jsx)("label",{style:{color:"#DA2128",marginBottom:0},children:e.error||m}):null]})}),ie=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(e.value),d=Object(r.a)(i,2),u=d[0],b=d[1],j={isOpen:l,place:"below",className:"custom-popover-date",preferPlace:"right",onOuterAction:function(){return s(!1)},body:[Object(c.jsx)(C,{selectedDay:e.selectedDay,minimumDate:e.minimumDate,maximumDate:e.maximumDate,dateSelect:function(t){T(u)&&(t&&b("".concat(t.day<10?"0".concat(t.day):t.day,"/").concat(t.month<10?"0".concat(t.month):t.month,"/").concat(t.year)),setTimeout((function(){e.changeEvent("".concat(t.day<10?"0".concat(t.day):t.day,"/").concat(t.month<10?"0".concat(t.month):t.month,"/").concat(t.year)),s(!1)}),200))}})]};return Object(c.jsx)(A.a,Object(o.a)(Object(o.a)({},j),{},{children:Object(c.jsx)(se,Object(o.a)(Object(o.a)({},e),{},{loading:e.loading,label:e.label,onFocus:function(e){return s(!1)},onKeyPress:function(e){var t=e.target;(e.charCode<47||e.charCode>57)&&e.preventDefault();var a=t.value.length;1===a&&3===a||47===e.charCode&&e.preventDefault(),2===a&&(t.value+="/"),5===a&&(t.value+="/")},value:u,date:!0,icon:"fa-calendar-alt",onClickIc:function(){T(e.value)?s(!0):s(!1)}}))}))},re=(a(276),function(){return Object(c.jsx)("div",{className:"fm-loader",children:Object(c.jsxs)("div",{className:"loader-sdk",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})}),oe=new le,de=function(e){var t={},a=!0,l=Object(n.useState)(e.itemPack),s=Object(r.a)(l,2),i=s[0],o=s[1],d=Object(n.useState)(e.checkEditSt1),u=Object(r.a)(d,2),h=u[0],m=u[1],E=_()(new Date).format("DD/MM/YYYY"),v=_()(new Date).add(1,"years").format("DD/MM/YYYY"),N=Object(n.useState)(e.dataDefine),A=Object(r.a)(N,2),C=A[0],D=A[1],p=Object(n.useState)(i.effectiveDate||E),g=Object(r.a)(p,2),L=g[0],P=g[1],y=Object(n.useState)(i.expirationDate||v),M=Object(r.a)(y,2),V=M[0],U=M[1],B=Object(n.useState)(k(i.insurTotalAmout)),w=Object(r.a)(B,2),F=w[0],q=w[1],K=Object(n.useState)(i.selectDurationPay),W=Object(r.a)(K,2),J=W[0],z=W[1],Z=Object(n.useState)(i.selectRegion),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(i.selectInsurRange),ce=Object(r.a)(ae,2),ne=ce[0],le=ce[1],se=Object(n.useState)(i.packFess),ie=Object(r.a)(se,2),de=ie[0],ue=ie[1],be=Object(n.useState)(i.totalDiscount),je=Object(r.a)(be,2),he=je[0],Oe=je[1],me=Object(n.useState)(i.totalAmout),Ee=Object(r.a)(me,2),ve=Ee[0],_e=Ee[1],Ne=Object(n.useState)({month_diff:0,day_diff:0}),Ae=Object(r.a)(Ne,2),fe=Ae[0],Ce=Ae[1],De=Object(n.useState)(i.discount?i.discount:0),pe=Object(r.a)(De,2),ge=pe[0],Se=(pe[1],Object(n.useState)(null)),xe=Object(r.a)(Se,2),Te=xe[0],Ie=xe[1],Re=Object(n.useState)(!1),Le=Object(r.a)(Re,2),Pe=(Le[0],Le[1]),ke=Object(n.useState)(i.period?i.period:[]),ye=Object(r.a)(ke,2),He=ye[0],Me=ye[1],Ve=Object(n.useState)({}),Ue=Object(r.a)(Ve,2),Ye=Ue[0],Be=Ue[1],we=Object(n.useState)(i.packageInsur),Fe=Object(r.a)(we,2),Ge=Fe[0],Xe=Fe[1],qe=Object(n.useState)(!1),Ke=Object(r.a)(qe,2),We=Ke[0],Qe=Ke[1];Object(n.useEffect)((function(){m(e.checkEditSt1)}),[h]),Object(n.useEffect)((function(){if(e.paramSdk&&"EDIT"===e.paramSdk.action){if(o(e.itemPack),e.itemPack&&(P(e.itemPack.effectiveDate||E),U(e.itemPack.expirationDate||v),q(k(e.itemPack.insurTotalAmout)),_e(k(e.itemPack.totalAmout)),te(e.itemPack.selectRegion),le(e.itemPack.selectInsurRange),z(e.itemPack.selectDurationPay),o(e.itemPack),e.itemPack.selectInsurRange)){var t=e.itemPack.selectInsurRange.value;"A"===t?Xe({A:!0,B:!1,C:!1}):"ABC"===t?Xe({A:!0,B:!0,C:!0}):"AB"===t?Xe({A:!0,B:!0,C:!1}):"AC"===t&&Xe({A:!0,B:!1,C:!0})}}else if(e.paramSdk&&"ADD"===e.paramSdk.action&&h&&(P(E),U(v),q("0"),C)){var a=C[7]?[C[7][0]]:[];a.length>0&&le({value:a[0].TYPE_CODE,label:a[0].TYPE_NAME});var c=C[8]?[C[8][0]]:[];c.length>0&&z({value:c[0].TYPE_CODE,label:c[0].TYPE_NAME})}}),[e.paramSdk,e.itemPack,e.checkEditSt1]),Object(n.useEffect)((function(){ne&&("A"===ne.value?Xe({A:!0,B:!1,C:!1}):"ABC"===ne.value?Xe({A:!0,B:!0,C:!0}):"AB"===ne.value?Xe({A:!0,B:!0,C:!1}):"AC"===ne.value&&Xe({A:!0,B:!1,C:!0}))}),[ne]),Object(n.useEffect)((function(){if("DISBUR"===e.typeRadio&&C[8]&&C[8][0]){var t=[C[8][0]];t.length>0&&z({value:t[0].TYPE_CODE,label:t[0].TYPE_NAME})}}),[e.typeRadio]),Object(n.useEffect)((function(){L&&V&&(I(V,L)?(t.effectiveDate="Ng\xe0y hi\u1ec7u l\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n ng\xe0y k\u1ebft th\xfac",Be(t),a=!1):I(L,E)?(t.effectiveDate="Ng\xe0y hi\u1ec7u l\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i",Be(t),a=!1):(t.effectiveDate=null,Be(t),Ce(R(L,V))))}),[L,V]),Object(n.useEffect)((function(){if(D(e.dataDefine),e.dataDefine){if(e.dataDefine[8]&&!i.selectDurationPay&&e.dataDefine[8][0]){var t=[e.dataDefine[8][0]];t.length>0&&z({value:t[0].TYPE_CODE,label:t[0].TYPE_NAME,discount_max:null,discount_unit:null})}if(e.dataDefine[1]&&!i.selectRegion&&e.dataDefine[1][0]){var a=[e.dataDefine[1][0]];a.length>0&&te({value:a[0].TYPE_CODE,label:a[0].TYPE_NAME})}if(e.dataDefine[7]&&!i.selectInsurRange&&e.dataDefine[7][0]){var c=[e.dataDefine[7][0]];c.length>0&&("0"===c[0].DISCOUNT_MAX&&Pe(!0),le({value:c[0].TYPE_CODE,label:c[0].TYPE_NAME,discount_max:c[0].DISCOUNT_MAX,discount_unit:c[0].DISCOUNT_UNIT}))}D(e.dataDefine)}}),[e.dataDefine]),Object(n.useEffect)((function(){if(ne){var e=ne.discount_max;Pe("0"===e)}}),[ne]),Object(n.useEffect)((function(){L&&V&&F&&ee&&ne&&Ze()&&Je()}),[L,V,ee,ne]),Object(n.useEffect)((function(){if(J&&V){var t=J.value,a=fe.month_diff;if("Y"===t&&a&&a<12){if(Y("Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn thanh to\xe1n theo n\u0103m khi th\u1eddi h\u1ea1n b\u1ea3o hi\u1ec3m l\u1edbn h\u01a1n 1 n\u0103m."),C[8]&&!i.selectDurationPay&&C[8][0]){var c=[C[8][0]];c.length>0&&z({value:c[0].TYPE_CODE,label:c[0].TYPE_NAME,discount_max:null,discount_unit:null})}}else if("Y"===t&&a>12&&"DISBUR"!==e.typeRadio){for(var n=Math.ceil(a/12),l=[],s=0;s<n;s++){var r={};if(r.NAME="".concat(s),r.EFFECTIVE_DATE=_()(L,"DD/MM/YYYY").add(s,"years").format("DD/MM/YYYY"),r.CURRENCY="VND",s===n-1){var o=n-1;r.AMOUNT=ve-Te*o}else r.AMOUNT=Te;l.push(r)}Me(l)}else if("ALL"===t||"DISBUR"===e.typeRadio){var d={CODE:"",NAME:"0",EFFECTIVE_DATE:L,EXPIRATION_DATE:"",CURRENCY:"VND",AMOUNT:ve||0},u=[];u.push(d),Me(u)}}}),[fe.month_diff,L,V,e.dataDefine,J,Te,ve,e.typeRadio]);var Je=function(){var e=Object(j.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qe(!0),t={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"API0OVG3B1"},Data:{org_code:"HDBANK_VN",product_code:"ATTD",pack_code:ne.value?ne.value:"",dob:"",gender:"",region:ee.value?ee.value:"",insur_total_amount:F?F.split(",").join(""):"0",eff_date:L||"",exp_date:V||"",currency:"",discount:0,discount_unit:"M",gift_code:""}},e.prev=2,e.next=5,oe.post("/OpenApi/Post",t);case 5:if(!(a=e.sent).Success){e.next=11;break}try{a.Data.length>0&&a.Data[0].length>0&&(_e(a.Data[0][0].TOTAL_AMOUNT),ue(a.Data[0][0].PACK_FESS),Oe(a.Data[0][0].TOTAL_DISCOUNT),Ie(a.Data[0][0].TOTAL_1_YEAR),Qe(!1))}catch(c){console.log(c),Qe(!1)}return e.abrupt("return",a);case 11:Y(a.ErrorMessage),Qe(!1);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),Qe(!1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}(),ze=function(t,a){switch(a){case"PVDL":te(t);break;case"PVBH":le(t);break;case"HTTT":"Y"===t.value&&"DISBUR"===e.typeRadio?Y("C\u1ea5p \u0111\u01a1n theo kh\u1ebf \u01b0\u1edbc nh\u1eadn n\u1ee3 ch\u1ec9 \u0111\u01b0\u1ee3c thanh to\xe1n 1 l\u1ea7n !"):z(t)}},Ze=function(){return F?I(V,L)?(t.effectiveDate="Ng\xe0y hi\u1ec7u l\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n ng\xe0y k\u1ebft th\xfac",Be(t),a=!1):I(L,E)?(t.effectiveDate="Ng\xe0y hi\u1ec7u l\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i",Be(t),a=!1):I(V,E)&&(t.expirationDate="Ng\xe0y k\u1ebft th\xfac kh\xf4ng \u0111\u01b0\u1ee3c nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i",Be(t),a=!1):(a=!1,t.insurTotalAmout="Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n b\u1ea3o hi\u1ec3m"),Be(t),a};return Object(c.jsxs)("form",{className:"",id:"id-step-1",children:[We&&Object(c.jsx)(re,{}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(X,{disable:!1,value:L,changeEvent:function(e){T(e)&&P(e)},selectedDay:x(L),minimumDate:Object(f.utils)().getToday(),label:"Ng\xe0y hi\u1ec7u l\u1ef1c",required:!0,error:Ye.effectiveDate})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(X,{disable:!1,value:V,changeEvent:function(e){T(e)&&(U(e),Ce(R(L,e)))},selectedDay:x(V),minimumDate:Object(f.utils)().getToday(),label:"Ng\xe0y k\u1ebft th\xfac",required:!0,error:Ye.expirationDate})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsxs)(O.a.Group,{children:[Object(c.jsx)(O.a.Label,{children:"Th\u1eddi h\u1ea1n b\u1ea3o hi\u1ec3m :"}),Object(c.jsx)(O.a.Text,{className:"txt-duration-insur",children:fe.month_diff+" th\xe1ng "+fe.day_diff+" ng\xe0y"})]})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:F,changeEvent:function(e){q(H(e))},onBlur:function(){L&&V&&F&&ee&&ne&&Ze()&&Je()},label:"S\u1ed1 ti\u1ec1n BH (VN\u0110)",required:!0,error:Ye.insurTotalAmout})})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Q,{required:!0,label:"Ph\u1ea1m vi \u0111\u1ecba l\xfd",placeholder:"Ch\u1ecdn ph\u1ea1m vi \u0111\u1ecba l\xfd",value:ee,options:S(C.length>0?C[1]:[]),onChange:function(e){return ze(e,"PVDL")}})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Q,{required:!0,label:"Ph\u1ea1m vi b\u1ea3o hi\u1ec3m",placeholder:"Ch\u1ecdn ph\u1ea1m vi b\u1ea3o hi\u1ec3m",value:ne,options:S(C.length>0?C[7]:[]),onChange:function(e){return ze(e,"PVBH")},tooltip:!0})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsxs)(O.a.Group,{children:[Object(c.jsx)(O.a.Label,{children:"T\u1ed5ng ti\u1ec1n thanh to\xe1n :"}),Object(c.jsx)(O.a.Text,{className:"txt-total-payment",children:ve?k(ve):"0 VN\u0110"})]})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Q,{required:!0,label:"H\xecnh th\u1ee9c thanh to\xe1n",placeholder:"Ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n",value:J,options:S(C.length>0?C[8]:[]),onChange:function(e){return ze(e,"HTTT")}})})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-6",style:{margin:"0 auto"},children:Object(c.jsx)("div",{className:"form-table",children:Object(c.jsx)("table",{id:"payment-expected",children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"STT"}),Object(c.jsx)("th",{children:"Ng\xe0y thanh to\xe1n d\u1ef1 ki\u1ebfn"}),Object(c.jsx)("th",{children:"S\u1ed1 ti\u1ec1n"})]}),He.map((function(e,t){var a=e.EFFECTIVE_DATE,n=e.AMOUNT;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t+1}),Object(c.jsx)("td",{children:a}),Object(c.jsx)("td",{children:n?k(n):"0 VN\u0110"})]},t.toString())}))]})})})})}),Object(c.jsx)("div",{className:"btn-next-step",onClick:function(){Ze()&&(Je().then((function(t){if(t.Success){try{if(t.Data.length>0&&t.Data[0].length>0){var a=[];if("0"===ve){var c={CODE:"",NAME:"0",EFFECTIVE_DATE:L,EXPIRATION_DATE:"",CURRENCY:"VND",AMOUNT:t.Data[0][0].TOTAL_AMOUNT};a.push(c)}e.setItemPack({effectiveDate:L,expirationDate:V,insurTotalAmout:F?F.split(",").join(""):"0",selectDurationPay:J,selectRegion:ee,selectInsurRange:ne,packFess:de,discount:ge,totalDiscount:he,totalAmout:t.Data[0][0].TOTAL_AMOUNT,period:"0"===ve?a:He,packageInsur:Ge})}}catch(n){console.log(n)}Qe(!1)}else Y(t.ErrorMessage),Qe(!1)})),e.onNextStep())},children:"Ti\u1ebfp t\u1ee5c"})]})},ue=(a(277),a(137)),be=new le,je={},he=function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(null),o=Object(r.a)(i,2),u=o[0],h=o[1],O=Object(n.useState)(null),m=Object(r.a)(O,2),E=m[0],v=m[1],_=Object(n.useState)(null),N=Object(r.a)(_,2),A=N[0],f=N[1],C=Object(n.useState)(null),D=Object(r.a)(C,2),p=(D[0],D[1],Object(n.useState)(0)),g=Object(r.a)(p,2),S=g[0],x=g[1],T=Object(n.useState)("Ch\u1ecdn T\u1ec9nh / TP"),I=Object(r.a)(T,2),R=I[0],L=I[1],P=Object(n.useState)([]),k=Object(r.a)(P,2),y=k[0],H=k[1],M=Object(n.useState)([]),V=Object(r.a)(M,2),U=V[0],Y=V[1],B=Object(n.useState)([]),w=Object(r.a)(B,2),F=w[0],G=w[1],X=Object(n.useState)(""),q=Object(r.a)(X,2),K=q[0],W=q[1],Q=Object(n.useState)("ul-select location"),J=Object(r.a)(Q,2),z=J[0],Z=J[1],$=Object(n.useState)("ul-select location"),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ce=Object(n.useState)("ul-select location"),ne=Object(r.a)(ce,2),le=ne[0],se=ne[1];Object(n.useEffect)((function(){var e=!0;return e&&0===y.length&&ie(),function(){return e=!1}}),[e]);var ie=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,be.get("/api/location/1/0");case 3:(t=e.sent).data[0]&&H(Object(d.a)(t.data[0])),s(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(b.a.mark((function e(t,a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(""),Z("ul-select location animate__animated animate__fadeOutLeft"),ae("ul-select location animate__animated animate__fadeInRight"),L("B\u1ea1n \u1edf Qu\u1eadn/ Huy\u1ec7n n\xe0o?"),s(!0),e.next=7,be.get("/api/location/2/".concat(t));case 7:(c=e.sent).data[0]&&Y(c.data[0]),s(!1),x(1),h({name:a,nation:t});case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(j.a)(b.a.mark((function e(t,a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(""),ae("ul-select location animate__animated animate__fadeOutLeft"),se("ul-select location animate__animated animate__fadeInRigh"),L("B\u1ea1n \u1edf Ph\u01b0\u1eddng/X\xe3 n\xe0o?"),s(!0),e.next=7,be.get("/api/location/3/".concat(t));case 7:(c=e.sent).data[0]&&G(Object(d.a)(c.data[0])),s(!1),x(2),v({name:a,nation:t});case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),de=function(e){for(var t=["a\xe0\u1ea3\xe3\xe1\u1ea1\u0103\u1eb1\u1eb3\u1eb5\u1eaf\u1eb7\xe2\u1ea7\u1ea9\u1eab\u1ea5\u1ead","A\xc0\u1ea2\xc3\xc1\u1ea0\u0102\u1eb0\u1eb2\u1eb4\u1eae\u1eb6\xc2\u1ea6\u1ea8\u1eaa\u1ea4\u1eac","d\u0111","D\u0110","e\xe8\u1ebb\u1ebd\xe9\u1eb9\xea\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7","E\xc8\u1eba\u1ebc\xc9\u1eb8\xca\u1ec0\u1ec2\u1ec4\u1ebe\u1ec6","i\xec\u1ec9\u0129\xed\u1ecb","I\xcc\u1ec8\u0128\xcd\u1eca","o\xf2\u1ecf\xf5\xf3\u1ecd\xf4\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u01a1\u1edd\u1edf\u1ee1\u1edb\u1ee3","O\xd2\u1ece\xd5\xd3\u1ecc\xd4\u1ed2\u1ed4\u1ed6\u1ed0\u1ed8\u01a0\u1edc\u1ede\u1ee0\u1eda\u1ee2","u\xf9\u1ee7\u0169\xfa\u1ee5\u01b0\u1eeb\u1eed\u1eef\u1ee9\u1ef1","U\xd9\u1ee6\u0168\xda\u1ee4\u01af\u1eea\u1eec\u1eee\u1ee8\u1ef0","y\u1ef3\u1ef7\u1ef9\xfd\u1ef5","Y\u1ef2\u1ef6\u1ef8\xdd\u1ef4"],a=0;a<t.length;a++){var c=new RegExp("["+t[a].substr(1)+"]","g"),n=t[a][0];e=e.replace(c,n)}return e},he=function(e,t){var a=de(e.toString()).toLowerCase(),c=de(t).toLowerCase();return a.includes(c)};return Object(c.jsxs)("div",{className:"float-pophover",children:[Object(c.jsxs)("div",{className:"popheader",children:[S>0?Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"backpopup",onClick:function(){1===S?(x(0),h(null),L("Ch\u1ecdn T\u1ec9nh / TP"),Z("ul-select location animate__animated animate__fadeInLeft"),ae("ul-select location animate__animated animate__fadeOutRight")):2===S&&(x(1),v(null),L("B\u1ea1n \u1edf Qu\u1eadn/ Huy\u1ec7n n\xe0o?"),ae("ul-select location animate__animated animate__fadeInLeft"),se("ul-select location animate__animated animate__fadeOutRight"))},children:Object(c.jsx)("i",{className:"fa fa-chevron-left","aria-hidden":"true"})}),Object(c.jsxs)("p",{className:"country-name",children:[u?"".concat(u.name):null,E?" - ".concat(E.name):null,A?" - ".concat(A.name):null]})]}):null,Object(c.jsx)("p",{className:"stitle",children:R}),Object(c.jsx)("div",{className:"sform",children:Object(c.jsx)("input",{type:"text",placeholder:"Nh\u1eadp \u0111\u1ec3 t\xecm ki\u1ebfm",value:K,onChange:function(e){if(W(e.target.value),0==S){var t=je.filter((function(t){var a=t.PROVINCE_NAME;return he(a,e.target.value)}));H(t)}else if(1==S){t=je.filter((function(t){var a=t.DISTRICT_NAME;return he(a,e.target.value)}));Y(t)}else if(2==S){t=je.filter((function(t){var a=t.WARD_NAME;return he(a,e.target.value)}));G(t)}},onFocus:function(e){0===S?je=y:1===S?je=U:2===S&&(je=F)},onBlur:function(e){console.log("seachBlur")}})})]}),Object(c.jsxs)("div",{className:"select-body",children:[l?Object(c.jsx)("div",{className:"mk-loading",children:Object(c.jsx)(ue.StageSpinner,{color:"#329945"})}):null,Object(c.jsx)("ul",{className:z,children:y.map((function(e,t){return Object(c.jsx)("li",{onClick:function(t){return re(e.PROVINCE_CODE,e.PROVINCE_NAME)},children:e.PROVINCE_NAME})}))}),Object(c.jsx)("ul",{className:te,children:U.map((function(e,t){return Object(c.jsx)("li",{onClick:function(t){return oe(e.DISTRICT_CODE,e.DISTRICT_NAME)},children:e.DISTRICT_NAME})}))}),Object(c.jsx)("ul",{className:le,children:F.map((function(t,a){return Object(c.jsx)("li",{onClick:function(a){return function(t,a){W(""),f({name:a,nation:t});var c={label:u.name+" - "+E.name+" - "+a,prov:u.nation,dist:E.nation,ward:t};e.addressSelect(c)}(t.WARD_CODE,t.WARD_NAME)},children:t.WARD_NAME})}))})]})]})},Oe=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(e.value?e.value.label:""),d=Object(r.a)(i,2),u=d[0],b=d[1];Object(n.useEffect)((function(){b(e.value?e.value.label:"")}),[e.value]);var j={isOpen:l,place:"column",preferPlace:"column",className:"custom-popover-address",onOuterAction:function(){return s(!1)},body:[Object(c.jsx)(he,{addressSelect:function(t){b(t.label),e.changeEvent(t),setTimeout((function(){s(!1)}),200)}})]};return Object(c.jsx)(A.a,Object(o.a)(Object(o.a)({},j),{},{children:Object(c.jsx)(G,Object(o.a)(Object(o.a)({},e),{},{loading:e.loading,label:e.label,onFocus:function(e){return s(!0)},readonly:!0,value:u,required:!0,icon:"far fa-map-marker-alt"}))}))},me=function(e){var t=Object(n.useState)(e.loanInsured),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(e.checkEditSt2),o=Object(r.a)(i,2),d=o[0],u=o[1],b=_()(new Date).format("DD/MM/YYYY"),j=Object(n.useState)([]),h=Object(r.a)(j,2),O=h[0],m=h[1],E=Object(n.useState)(l.lo_contract),v=Object(r.a)(E,2),N=v[0],A=v[1],f=Object(n.useState)(l.duration_unnit),C=Object(r.a)(f,2),D=C[0],p=C[1],g=Object(n.useState)(l.beneficiary_unit),P=Object(r.a)(g,2),y=P[0],M=P[1],V=Object(n.useState)(l.duration),U=Object(r.a)(V,2),Y=U[0],w=U[1],F=Object(n.useState)(l.lo_total),q=Object(r.a)(F,2),K=q[0],W=q[1],J=Object(n.useState)(l.lo_date||b),z=Object(r.a)(J,2),Z=z[0],$=z[1],ee=Object(n.useState)(l.gender),te=Object(r.a)(ee,2),ae=te[0],ce=te[1],ne=Object(n.useState)(l.name),le=Object(r.a)(ne,2),se=le[0],ie=le[1],re=Object(n.useState)(l.phone),oe=Object(r.a)(re,2),de=oe[0],ue=oe[1],be=Object(n.useState)(l.email),je=Object(r.a)(be,2),he=je[0],me=je[1],Ee=Object(n.useState)(l.idcard),ve=Object(r.a)(Ee,2),_e=ve[0],Ne=ve[1],Ae=Object(n.useState)(l.idcard_d?l.idcard_d:b),fe=Object(r.a)(Ae,2),Ce=fe[0],De=fe[1],pe=Object(n.useState)(l.idcard_p),ge=Object(r.a)(pe,2),Se=ge[0],xe=ge[1],Te=Object(n.useState)(l.dob?l.dob:b),Ie=Object(r.a)(Te,2),Re=Ie[0],Le=Ie[1],Pe=Object(n.useState)(l.address),ke=Object(r.a)(Pe,2),ye=ke[0],He=ke[1],Me=Object(n.useState)(l.provide?l.provide:{}),Ve=Object(r.a)(Me,2),Ue=Ve[0],Ye=Ve[1],Be=Object(n.useState)(l.seller_name),we=Object(r.a)(Be,2),Fe=we[0],Ge=we[1],Xe=Object(n.useState)(l.seller_code),qe=Object(r.a)(Xe,2),Ke=qe[0],We=qe[1],Qe=Object(n.useState)(l.seller_email),Je=Object(r.a)(Qe,2),ze=Je[0],Ze=Je[1],$e=Object(n.useState)(l.disbursement?l.disbursement.DISBUR_CODE:""),et=Object(r.a)($e,2),tt=et[0],at=et[1],ct=Object(n.useState)(l.disbursement?l.disbursement.DISBUR_NUM:""),nt=Object(r.a)(ct,2),lt=nt[0],st=nt[1],it=Object(n.useState)(l.disbursement?l.disbursement.DISBUR_AMOUNT:0),rt=Object(r.a)(it,2),ot=rt[0],dt=rt[1],ut=Object(n.useState)({}),bt=Object(r.a)(ut,2),jt=bt[0],ht=bt[1];Object(n.useEffect)((function(){u(e.checkEditSt2)}),[e.checkEditSt2]),Object(n.useEffect)((function(){e.paramSdk&&"EDIT"===e.paramSdk.action?(s(e.loanInsured),e.loanInsured&&(A(e.loanInsured.lo_contract),w(e.loanInsured.duration),W(k(e.loanInsured.lo_total)),$(e.loanInsured.lo_date),ce(e.loanInsured.gender),ie(e.loanInsured.name),ue(e.loanInsured.phone),me(e.loanInsured.email),Ne(e.loanInsured.idcard),De(e.loanInsured.idcard_d),xe(e.loanInsured.idcard_p),Le(e.loanInsured.dob),He(e.loanInsured.address),M(e.loanInsured.beneficiary_unit),We(e.loanInsured.seller_code),Ge(e.loanInsured.seller_name),Ze(e.loanInsured.seller_email),dt(e.loanInsured.disbursement?k(e.loanInsured.disbursement.DISBUR_AMOUNT):0),Ye(e.loanInsured.provide),s(e.loanInsured))):e.paramSdk&&"ADD"===e.paramSdk.action&&d&&(A(""),W(""),$(b),w(null),at(null),at(null),dt(null),ie(null),ue(null),me(null),Ne(null),De(b),xe(null),Le(b),He(null),Ye({}),We(""),Ge(""),Ze(""))}),[e.paramSdk,e.loanInsured,e.checkEditSt2]),Object(n.useEffect)((function(){if(m(e.dataDefine),e.dataDefine){if(m(e.dataDefine),B(D)&&e.dataDefine[3]&&!l.duration_unnit&&e.dataDefine[3][0]){var t=[e.dataDefine[3][0]];t.length>0&&p({value:t[0].TYPE_CODE,label:t[0].TYPE_NAME})}if(B(ae)&&e.dataDefine[4]&&e.dataDefine[4][0]){var a=[e.dataDefine[4][0]];a.length>0&&ce({value:a[0].TYPE_CODE,label:a[0].TYPE_NAME})}if(B(y)&&e.dataDefine[6]&&!l.beneficiary_unit&&e.dataDefine[6][0]){var c=[e.dataDefine[6][0]];c.length>0&&M({value:c[0].TYPE_CODE,label:c[0].TYPE_NAME})}m(e.dataDefine)}}),[e.dataDefine]);var Ot=function(e,t){switch(t){case"DU":p(e);break;case"DX":ce(e);break;case"DVTH":M(e)}},mt=function(){var e={},t=!0;T(Z)&&(I(_()(new Date).format("DD/MM/YYYY"),Z)&&(t=!1,e.loanDate="Ng\xe0y k\xed h\u1ee3p \u0111\u1ed3ng vay kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i"));(se||(t=!1,e.name="Vui l\xf2ng nh\u1eadp t\xean ng\u01b0\u1eddi \u0111\u01b0\u1ee3c b\u1ea3o hi\u1ec3m"),de||(t=!1,e.phone="Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),""!==de||void 0!==de)&&(new RegExp(/^(\d{10}|\d{11})$/i).test(de)||(t=!1,e.phone="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ch\u1ec9 \u0111\u01b0\u1ee3c t\u1eeb 10-11 s\u1ed1"));""===he&&void 0===he||(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(he)||(t=!1,e.mail="Vui l\xf2ng nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng Email"));if(he||(t=!1,e.mail="Vui l\xf2ng nh\u1eadp email "),_e||(t=!1,e.idCard="Vui l\xf2ng nh\u1eadp CMND ho\u1eb7c CCCD"),""!==_e||void 0!==_e){var a=_e||"";(a.length<7||a.length>13)&&(t=!1,e.idCard="S\u1ed1 CMND/CCCD ch\u1ec9 \u0111\u01b0\u1ee3c t\u1eeb 7 \u0111\u1ebfn 13 k\xed t\u1ef1")}if(Ce||(t=!1,e.idCardDate="Vui l\xf2ng nh\u1eadp ng\xe0y c\u1ea5p "),I(b,Ce)&&(t=!1,e.idCardDate="Ng\xe0y c\u1ea5p ph\u1ea3i nh\u1ecf h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i"),Se||(t=!1,e.idCardPlace="Vui l\xf2ng nh\u1eadp n\u01a1i c\u1ea5p "),Re||(t=!1,e.dob="Vui l\xf2ng nh\u1eadp ng\xe0y sinh"),Re){var c=R(Re,_()(new Date).format("DD/MM/YYYY")).year_diff;parseInt(c)<18&&(t=!1,e.dob="Tu\u1ed5i ng\u01b0\u1eddi \u0111\u01b0\u1ee3c b\u1ea3o hi\u1ec3m ph\u1ea3i t\u1eeb 18 tu\u1ed5i")}return ye||(t=!1,e.address="Vui l\xf2ng nh\u1eadp s\u1ed1 nh\xe0, ng\xf5/ ng\xe1ch, \u0111\u01b0\u1eddng"),B(Ue)&&(t=!1,e.addressCode="Vui l\xf2ng ch\u1ecdn T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3"),Ke||(t=!1,e.sellerCode="Vui l\xf2ng nh\u1eadp m\xe3 c\xe1n b\u1ed9 ng\xe2n h\xe0ng "),Fe||(t=!1,e.sellerName="Vui l\xf2ng nh\u1eadp t\xean c\xe1n b\u1ed9 ng\xe2n h\xe0ng"),ht(e),t};return Object(c.jsxs)("div",{className:"active-step-2 form-content",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Th\xf4ng tin vay"}),Object(c.jsxs)("div",{className:"row",children:["EDIT"===e.paramSdk.action&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:N,changeEvent:A,label:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng vay",required:!1})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Q,{required:!1,label:"Lo\u1ea1i th\u1eddi h\u1ea1n vay",placeholder:"Ch\u1ecdn lo\u1ea1i th\u1eddi h\u1ea1n vay",value:D,options:S(O.length>0?O[3]:[]),onChange:function(e){return Ot(e,"DU")}})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:Y,changeEvent:w,label:"Th\u1eddi h\u1ea1n vay"})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:K,changeEvent:function(e){W(H(e))},label:"S\u1ed1 ti\u1ec1n vay"})})]}),Object(c.jsxs)("div",{className:"row",children:["EDIT"===e.paramSdk.action&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(X,{disable:!1,value:Z,changeEvent:function(e){e&&T(e)&&$(e)},selectedDay:x(Z),maximumDate:L(),label:"Ng\xe0y k\xfd h\u1ee3p \u0111\u1ed3ng vay",required:!1,error:jt.loanDate})}),"DISBUR"===e.typeRadio||"EDIT"===e.paramSdk.action&&"TOTAL"===e.typeRadio?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:lt,changeEvent:st,label:"L\u1ea7n gi\u1ea3i ng\xe2n"})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:tt,changeEvent:at,label:"M\xe3 kh\u1ebf \u01b0\u1edbc nh\u1eadn n\u1ee3"})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:ot,changeEvent:function(e){dt(H(e))},label:"S\u1ed1 ti\u1ec1n gi\u1ea3i ng\xe2n"})})]}):null]}),Object(c.jsx)("label",{className:"col-form-label",children:"Ng\u01b0\u1eddi \u0111\u01b0\u1ee3c b\u1ea3o hi\u1ec3m"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Q,{required:!0,label:"Danh x\u01b0ng",placeholder:"Ch\u1ecdn danh x\u01b0ng",value:ae,options:S(O.length>0?O[4]:[]),onChange:function(e){return Ot(e,"DX")}})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:se,changeEvent:ie,label:"T\xean",required:!0,error:jt.name})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:de,changeEvent:ue,label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ",required:!0,error:jt.phone})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:he,changeEvent:me,label:"Email",placeholder:"Email N\u0110BH ho\u1eb7c CB ng\xe2n h\xe0ng",required:!0,error:jt.mail})})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:_e,changeEvent:Ne,label:"S\u1ed1 CMND/CCCD",required:!0,error:jt.idCard})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(X,{disable:!1,label:"Ng\xe0y c\u1ea5p",value:Ce,changeEvent:function(e){e&&T&&De(e)},selectedDay:x(Ce),maximumDate:L(),required:!0,error:jt.idCardDate})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,required:!0,value:Se,changeEvent:xe,label:"N\u01a1i c\u1ea5p",error:jt.idCardPlace})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(X,{disable:!1,label:"Ng\xe0y sinh",value:Re,changeEvent:function(e){e&&T(e)&&Le(e)},selectedDay:x(Re),maximumDate:L(),required:!0,error:jt.dob})})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(G,{disable:!1,value:ye,changeEvent:He,label:"S\u1ed1 nh\xe0, ng\xf5/ ng\xe1ch, \u0111\u01b0\u1eddng",required:!0,error:jt.address})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(Oe,{disable:!1,changeEvent:Ye,value:Ue,label:"T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3",required:!0,error:jt.addressCode})})]}),Object(c.jsx)("label",{className:"col-form-label",children:"Th\u1ee5 h\u01b0\u1edfng, c\xe1n b\u1ed9 ng\xe2n h\xe0ng"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Q,{required:!0,label:"\u0110\u01a1n v\u1ecb th\u1ee5 h\u01b0\u1edfng ",value:y,options:S(O.length>0?O[6]:[]),onChange:function(e){return Ot(e,"DVTH")}})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:Ke,changeEvent:We,label:"M\xe3 c\xe1n b\u1ed9 ng\xe2n h\xe0ng",required:!0,error:jt.sellerCode})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:Fe,changeEvent:Ge,label:"T\xean c\xe1n b\u1ed9 ng\xe2n h\xe0ng",required:!0,error:jt.sellerName})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(G,{disable:!1,value:ze,changeEvent:Ze,label:"Mail c\xe1n b\u1ed9 ng\xe2n h\xe0ng",error:jt.sellerEmail})})]}),Object(c.jsx)("div",{className:"btn-next-step",onClick:function(){mt()&&(e.setLoanInSured({lo_contract:N||"",duration_unnit:D||"",duration:Y||0,lo_total:K||"",lo_date:Z||"",gender:ae||"",name:se||"",phone:de||"",email:he||"",idcard:_e||"",idcard_d:Ce||"",idcard_p:Se||"",dob:Re||"",address:ye||"",provide:Ue||"",district:"",wards:"",beneficiary_unit:y||"",seller_name:Fe||"",seller_code:Ke||"",seller_email:ze||"",disbursement:{BRANCH_CODE:"",DISBUR_CODE:tt||"",DISBUR_NUM:lt||"",DISBUR_DATE:"",DISBUR_AMOUNT:ot?ot.split(",").join(""):0,INSUR_TOTAL:e.itemPack?e.itemPack.insurTotalAmout:0}}),e.onNextStep())},children:"Ti\u1ebfp t\u1ee5c"})]})},Ee=a(139),ve=a.n(Ee),_e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvzSURBVHgB7d1NbBzlHcfx/4zXa3u96xibjYEW4jiiVKUFFDUqKhVQVS2lUkVVqHpqo3KoWi4UIpVe2sS5gYCGC1EvRYFjaQuXonJooZBKBQqBihcFsN1eCNkmjr32et+H5xl7bK+9fnZ3vEu883w/YrOzk/Gs2cxvnnle5llHDKanp4fV072e592qHuNqedy0fTqdllQqJWFMTU1JGPr99PuGkclkJJvNShgTExMShn4//b5h8Pk21uTne8FxnFPq8Yxafnbv3r0zW23o1lupw6Aef1cfzGy1Wj2iAyINwgF0kWF9TKtj+9jo6Oi0Wn5ipQDYxNm4Qm14r3o6oneidiCzs7PS398vfX19EovFBOh25XJZCoWC5PN5UQEJVs+qx1FVqhxbv21NQFQ4DstyOAAbeeoxqUIyGaxYDchKyXFMALvpkNwflCR+QFauv95Qj2EBoC+39quQzASV9CNCOIDAJerxe73gqKbccV2TD9t8CESNbpxSFXjv9OnTIzH14nu63bhYLK6v0QPW0i23c3NzztDQ0C9cVf+4Q6/UTbkA1rKg6iA3u+qPG/QL3c8BYC0LuvFKV9L9yjmdgMCydVkYdwXAlggIYEBAAAMCAhgQEMCAgAAGBAQwcObn5/XwXmEsFrBm5VZhz1G9hZ4AqMfjEgswICCAAQEBDAgIYEBAAAMCAhgQEMCAgAAGBAQwICCAAQEBDAgIYEBAAINY8M1DYb/RB4iiIBeUIIABAQEMCAhgQEAAAwICGDBj9Qp9a/78wqIUCkUplcpS9aoSJR9nzsn1114jvUxS3hJKECWvQnHm7P9lPrsghWIxcuHQ5uazcvJfr0upXBY0z/qALOXzkjl3XsqVikTdnDoBEJLWWB2QigrFhbms2ISQtMbqgMzNL1hRcmxESJpndUB0fcNWhKQ51gZEf9WvjaXHeoSkMXsDwoyrPkJi5upJq5m42m6EZLMgF9ZOXq0vrz76OCO2OP3hjCws5ozb7Eol5aav7KczcQ2TV2MNJclmBAQ1CEktAoJNdEheOPmK5JbyYjsCgrp0OE6+8rr1ISEg2BIhISBowPaQEBA0ZHNICAiaYmtICAiaZmNICAhaYltICAhaZlNICAhCsSUkBMQSPT090m42hMTNZDKiH4i2vnivdEJUQxLkws1ms6IfiLZdQ5275yeKIQlywSWWJVLJQYn3dqYU0aJakhAQi+y58grppCiGhIBYRJciez5LSFpBQCwzOjIsX/z81ZIcTEinRCkk3Hxsobhq0frcvnEpFktyYW7evz9/cakg7fbWu+/Ljfu/JN2MgFhMB2V3etRfXsoXZW5hSVCLSyz4Bvrjsis5IKhFQLCKkGxGQFCDkNQiINhEh2R4KCGO44jtCAjq6lcV+JFdg9aHhIBgS72xHutDQkBgZHtImLwaTSmVK3J+blFaPVwOXHeNdDEmr0ZzbC1JCAiaZmNICAhaYltICAhaZlNICAhCsSUkBASh2RASAoJtiXpICAi2LcohISBoi6iGhICgbaIYEgKCtopaSAgI2i5KISEg6IggJN0uFszLm0p1bu5W2EmHpFsFuYgFM7sTEGBNkAsusQCDSEwc5y0uSPEvf5Rq5uOmf6ZarcpAof2zCUaFN5CQ4s3flupIWmzW9QGpZs7I4uQh8dRzq+ICk97//Ftyd98nlc/sEVt1/SVW4Q9PhgoHGnPPZ6T/mafEZl0fkPJrJwWdE/vgPXHO23vvftcHRNc/gE6hFQswICCAAQEBDAgIYEBAAAMCAhgQEMAglk7bPdZGc5JJkUTSvFFuQfW5LKqOl2Ymb3b8/xoKNW94k/tefY/VP9CCIBcx24e5xw7cJAM//6U4g8mG21ZmPvQHRZb+8fyWB7ebHpP+ex5Qz5cZ96U7OPU4svKrJ6X8zinxmhho6e6+TPrV79po3xvfZ+nxB6X63w8FzQty0fVffzD/w2/IdiQOPyqxL1zf0s+YBkiG3V/pxef9cWVbn+0dte9HWt63Vn77lOSOHpJwHJn/9W/FCzmq98ormg/zDsTXH4Shz+CD6mCtV+r0pFs/IPT++u76sQw++Du1z/aX6A6XWKFF4n6QdtKXUBvHd+kgxL78VXWJc/nqOn1Qx2//vhSeftK4v+rM+8t1lw30Pt09+9TCWoWiZ3yfJH7ziCw+8FNphnf2o4bb6NIpd/xhQTgEZIOCDki9+sCJx/2zfN8PDq6uin/nTik+9yfjgMnFhw9vWb8ISo7eW29bXadDotc1Cp6uAy0cPdRU3QXhcYnVAn3Qlt95c/W1XwpcOiZh6bP70vGHVN3jRM16XTI102iAziMgLSq/+nLNa1ed8ber8PRTtcFLpvyQ4OIjIC2qV59ow143lSI9194guPiog7Qodm1tM6uXa09gqv+bqnndc9WE+QdU5T524GuqkrN1/UeXStyOvD0EpAW6o673lttq1unOw3bQFX1d4XbSy3UaXQfRy6ZK+MDBexrtVnUSPqT6WP4qCIeAbOCmL5dqnTll4yoYG+sFlXfe2PFn6Pgt3yQg20BANtAdgM3KPd7m/oXEhrlst3v5ppqC21XC2YqAhOJJXvWLNCw9WhjFo1vD1jft+pdcDSakqNepuf69y+++pUq5NwXhEZCWqDPy26ckr5pl23vgOdJ3+501axruXwVgy05NtE1samq59WRiYkKg+zleUmflXM06L7fgT2tamfmgI2dkd/eYqvx/a90belJ6lfm+LqYgF5QgGyydOP4pnpUdcffuk8ShyZq1/uhePaQeFx0B6SRnebxVvVYxvb73wE2be8xV6ZF/8rhgZyAgHeWoVrFHm9/cW+5RL3N5tWMQkHbaxnfyeQtZKTx9QorP/Vmwc1g/Fku3SgWqZz/aXv3Dr1y/3NL2OhjlV16ShV/9rEE4vHW/q+fXU2jB6jzrSxA9hF23UOk+iHa0HOn+Ed0556ZNw+BVMHI5/yDXrWLNTsC9+ruqDsXSa/8UdB6XWEq7h2J0cmgHw0Y+XQx3BwwICGBAQAADAgIYEBDAgIAABl0/N6/uv+CLPDvIUR2ofQkJP0agOwW5cPUs1t08w3vNMHG0Xe6qq6U6MCC2CXLR9ZdYfXcdFGd3V0+QvGOVhkflzHd/JDbr+tndA0XVw+ydPeMPxWhGuVKRC3NcmtVTUSVGedeozF13o1T7E5IeSUmPG+5c2u2zu0dmqEl8w3Q8jRSKJTnz3pSgMce6GsgaWrFglOiPi+sSEGATHY6hpH0V9PWsHc3rOo6M7BoU1Bfr6bG65AhYGxBH/ePHexntDzMusQADAgIYEBDAgIAABgQEMCAggEEsk8n4C908ohc7Uzf3owS5iGWzWX/BtoDojjDHccXzqoLO6I31SrcKcmH1JdZQMiHonMFE9w9TsTogycGEX4qg/XQJTUC6nOu6MnrJkKC9XHXSSV86IlFg/elzoL9fdo+O+Gc8bJ/+HMd2j0bm82S0ntLXF/fPeIVCURZzS1IqlaVK5b1pusTo7Y2pk02fpJLRGiFNQFboM15MXTNH4boZ7UMNFTAgIIABAQEMCAhgQEAAAwICGBAQwCAyU48CHeBRggAGBAQwICCAAQEBDAgIYEBAAAMCAhgQEMCAgAAGBAQwICCAAQEBDAgIYLA6N28qlRIAy4JcrM7uTkCANUEuuMQCDAgIYEBAAAMCAhgQEMCAgAAGBAQw0AGZ0QvlclkA1GThgut53oxeKhQKAmAtC47jnNIBeVG/yOfzAmA1C16lUnnWmZ6eHk6n07MDAwP+l1oC8MdieefOnZtw9AtVivxNPX1dAASeUJdYdwcBGVdPr6vHJQJgVj32q4DM+NdUekE9HRUAejL3yZVMrPWDqBXH9F+sbADYKAjHY8GKmlq5+osj6ul+WS5ifKqiIrlcjn4SRIY+lvUxre/5qFarwWp9zN+nMjC5flun3g5W6iSHVU3+4MqNI440QbWGhb7xampqSsLQ76ffNwz9/xbcOdaqiYkJCUO/X3AzTqv4fBtr8fP1xsbGZHBw8AW1fHdwWbVerN5PrWz4E9UEPKmafu9Q7cF3qHU3qHXDAnS/Gd1BrvsAVZgeSyaTF7ba8BM3g9xJ5+7sTgAAAABJRU5ErkJggg==",Ne=function(e){var t=Object(n.useState)(e.dataValue),a=Object(r.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(!1),u=Object(r.a)(o,2),b=u[0],j=u[1],h=Object(n.useState)(null),O=Object(r.a)(h,2),m=O[0],E=O[1];Object(n.useEffect)((function(){i(e.dataValue)}),[e.dataValue]);var v=function(e,t,a,c){if(e.preventDefault(),"pdf"===t){var n=a?a.split(",")[1]:null;V(n)}else E(c),j(!b)},_=function(t,a){var c=e.deleteItem(t,a);switch(E(0),i(Object(d.a)(c)),e.checkListImg){case"0":e.setListImgGYC(c);break;case"1":e.setListImgCMND(c);break;case"2":e.setListImgOther(c)}},N=function(e,t,a){e.preventDefault(),_(t,a)};return Object(c.jsxs)(l.a.Fragment,{children:[Object(c.jsx)(ve.a,{prefixCls:"cus-tom-carousel",showDots:!0,responsive:{desktop:{breakpoint:{max:3e3,min:1024},items:3,slidesToSlide:3},tablet:{breakpoint:{max:1024,min:464},items:2,slidesToSlide:2},mobile:{breakpoint:{max:464,min:0},items:1,slidesToSlide:1}},deviceType:"desktop",itemClass:"image-item",children:s&&s.map((function(e,t){var a=e?e.split(";")[0].split("/")[1]:"";return Object(c.jsxs)("div",{className:"item-image-file",children:[Object(c.jsx)("div",{onClick:function(c){return v(c,a,e,t)},children:"pdf"===a?Object(c.jsx)("img",{style:{width:"100%",height:"100%",borderRadius:6},src:_e,alt:"pdf"}):Object(c.jsx)("img",{style:{width:"100%",height:"100%",borderRadius:6},src:e,alt:"img"})}),"pdf"===a&&Object(c.jsx)("label",{className:"hover-text-pdf",onClick:function(c){return v(c,a,e,t)},children:"Xem File PDF"}),Object(c.jsx)("div",{className:"remove-item-img",onClick:function(t){return N(t,s,e)},children:Object(c.jsx)("i",{className:"fas fa-times"})})]},t)}))}),b&&Object(c.jsxs)("div",{className:"preview-image",children:[Object(c.jsxs)("div",{className:"item-choose",children:[function(e){var t=e?e.split(";")[0].split("/")[1]:"";return Object(c.jsx)("div",{children:"pdf"===t?Object(c.jsx)("img",{className:"img-fluid",src:_e,alt:"pdf"}):Object(c.jsx)("img",{className:"img-fluid",src:e,alt:"img upload"})})}(s?s[m]:null),Object(c.jsxs)("div",{className:"btn-remove-img-preview",onClick:function(){return _(s,s[m])},children:[Object(c.jsx)("i",{className:"far fa-trash-alt"}),Object(c.jsx)("label",{children:"X\xf3a \u1ea3nh n\xe0y"})]})]}),Object(c.jsx)("div",{className:"list-preview-img",children:s&&s.map((function(e,t){var a=e?e.split(";")[0].split("/")[1]:"";return Object(c.jsxs)("div",{className:m===t?"item-preview-active":"item-preview",children:[Object(c.jsx)("div",{onClick:function(){return function(e,t,a){if("pdf"===e){var c=t?t.split(",")[1]:null;V(c)}else E(a)}(a,e,t)},children:"pdf"===a?Object(c.jsx)("img",{className:"img-fluid",src:_e,alt:"pdf"}):Object(c.jsx)("img",{className:"img-fluid",src:e,alt:"img upload"})}),m!==t?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"remove-item-img",onClick:function(t){return N(t,s,e)},children:Object(c.jsx)("i",{className:"fas fa-times"})})}):null]},t)}))}),Object(c.jsxs)("div",{className:"btn-close-preview-img",onClick:v,children:[Object(c.jsx)("i",{className:"fas fa-times"}),Object(c.jsx)("label",{children:"Tho\xe1t"})]})]})]})},Ae={product_code:"XCG_TNDSBB",customer_type:"CN",relationship:"BAN_THAN",check_type_car:["XE_OTO_CHONGUOI","XE_OTO_CHOHANG","XE_OTO_NGUOIHANG","XE_OTO_CDUNG"],check_weigh:["XE_OTO_CHOHANG","XE_OTO_NGUOIHANG","XE_OTO_CDUNG"],xe_may:["XE_MAY","XE_MAYCD"],vehicle_group:"NHOM_XE",vehicle_type:"LOAI_XE",hang_xe:"HANG_XE",muc_dich_kd:"MD_KD",hieu_xe:"HIEU_XE",dl_chup:"DLCA",gd_theo_kh:"GDLKH",thiet_hai_than_the_hk:["XE_OTO_CHONGUOI","XE_OTO_NGUOIHANG"],muc_dich_use:"KD",don_le:"0",payment_mix:["CTT_TM","CT_TM"],ord_status_ed:["WAIT_PAY","DRAFT"],ord_status_paid:"PAID"},fe={TYPE:"",NAME:"",DOB:"",GENDER:"",ADDRESS:"",IDCARD:"",EMAIL:"",PHONE:"",PROV:"",DIST:"",WARDS:"",IDCARD_D:"",IDCARD_P:"",FAX:"",TAXCODE:""},Ce={CONTRACT_CODE:"",TYPE:"",NAME:"",DOB:"",GENDER:"",PROV:"",DIST:"",WARDS:"",ADDRESS:"",IDCARD:"",IDCARD_D:"",IDCARD_P:"",EMAIL:"",PHONE:"",FAX:"",TAXCODE:"",IS_SPLIT_ORDER:"0",IS_SEND_MAIL:"0",VEHICLE_GROUP:"",VEHICLE_TYPE:"",VEHICLE_USE:"",NONE_NUMBER_PLATE:"",NUMBER_PLATE:"",CHASSIS_NO:"",ENGINE_NO:"",SEAT_NO:"",SEAT_CODE:"",WEIGH:"",WEIGH_CODE:"",BRAND:"",MODEL:"",CAPACITY:"",REF_VEHICLE_VALUE:"",MFG:"",VEHICLE_REGIS:"",VEHICLE_REGIS_CODE:"",IS_COMPULSORY:"",IS_VOLUNTARY_ALL:"",IS_PHYSICAL:"",IS_VOLUNTARY:"",IS_DRIVER:"",IS_CARGO:"",VEHICLE_VALUE:"",VEHICLE_VALUE_CODE:"",COMPULSORY_CIVIL:{DETAIL_CODE:"",PRODUCT_CODE:"XCG_TNDSBB",PACK_CODE:"TNDSBB",IS_SERIAL_NUM:"",SERIAL_NUM:"",EFF:"",TIME_EFF:"",EXP:"",TIME_EXP:"",AMOUNT:0,VAT:0,DISCOUNT:0,DISCOUNT_UNIT:0,TOTAL_DISCOUNT:0,TOTAL_AMOUNT:0},VOLUNTARY_CIVIL:{PRODUCT_CODE:"XCG_TNDSTN",PACK_CODE:"TNDSTN",INSUR_3RD:"",INSUR_3RD_ASSETS:"",INSUR_PASSENGER:"",TOTAL_LIABILITY:"",DRIVER_NUM:"",DRIVER_INSUR:"",WEIGHT_CARGO:"",CARGO_INSUR:"",TOTAL_VOLUNTARY_3RD:"",TOTAL_DRIVER:"",TOTAL_CARGO:"",TOTAL_3RD_INSUR:"",TOTAL_3RD_ASSETS:"",TOTAL_PASSENGER:""},PHYSICAL_DAMAGE:{DETAIL_CODE:"",PRODUCT_CODE:"XCG_VCX_NEW",PACK_CODE:"",INSUR_DEDUCTIBLE:"",EFF:"",TIME_EFF:"",EXP:"",TIME_EXP:"",IS_VEHICLE_LOSS:"",VEHICLE_LOSS_NUM:"",VEHICLE_LOSS_AMOUNT:"0",IS_DISCOUNT:"",DISCOUNT:"",REASON_DISCOUNT:"",DISCOUNT_UNIT:"",IS_SEND_HD:"",SURVEYOR_TYPE:"",CALENDAR_EFF:"",CALENDAR_EXP:"",CALENDAR_TIME_F:"",CALENDAR_TIME_T:"",CALENDAR_CONTACT:"",CALENDAR_PHONE:"",CALENDAR_PROV:"",CALENDAR_DIST:"",CALENDAR_WARDS:"",CALENDAR_ADDRESS:"",CALENDAR_ADDRESS_FORM:"",ADDITIONAL:[],BENEFICIARY:[],FILE:[]}},De=[{KEY_CODE:"BBPLA_LXE",VAL_CODE:"VH_TYPE"},{KEY_CODE:"BBPLA_TTAI",VAL_CODE:"VH_TYPE@CAR_WEIGHT"},{KEY_CODE:"BBPLA_CNGOI",VAL_CODE:"VH_TYPE@CAR_SEAT"},{KEY_CODE:"BBPLA_MDKD",VAL_CODE:"VH_TYPE@CAR_PURPOSE"},{KEY_CODE:"BBPLA_MDKD_CNGOI",VAL_CODE:"VH_TYPE@CAR_PURPOSE@CAR_SEAT"},{KEY_CODE:"HS_T30D",VAL_CODE:"0",TYPE_CODE:"CONSTANT"},{KEY_CODE:"HS_D30D",VAL_CODE:"0",TYPE_CODE:"CONSTANT"}],pe=[{KEY_CODE:"TN_NTX",VAL_CODE:"BH_NTX"},{KEY_CODE:"TN_TH_HK",VAL_CODE:"VH_TYPE@CAR_PURPOSE@TH_HK"},{KEY_CODE:"TN_TSN3_TTAI",VAL_CODE:"VH_TYPE@CAR_WEIGHT@TH_TSN3"},{KEY_CODE:"TN_N3_TTAI",VAL_CODE:"VH_TYPE@CAR_WEIGHT@TH_N3"},{KEY_CODE:"TN_N3_CNGOI",VAL_CODE:"VH_TYPE@CAR_SEAT@TH_N3"},{KEY_CODE:"TN_TSN3_CNGOI",VAL_CODE:"VH_TYPE@CAR_SEAT@TH_TSN3"},{KEY_CODE:"TN_TSN3_LXE",VAL_CODE:"VH_TYPE@TH_TSN3"},{KEY_CODE:"TN_N3_LXE",VAL_CODE:"VH_TYPE@TH_N3"},{KEY_CODE:"TN_BH_HH",VAL_CODE:"BH_HH"},{KEY_CODE:"TN_TTAI_HH",VAL_CODE:"TTAI_TAN",TYPE_CODE:"CONSTANT"},{KEY_CODE:"TN_TGBH",VAL_CODE:"NUM_OF_DAY",TYPE_CODE:"CONSTANT"},{KEY_CODE:"TN_CNGOI",VAL_CODE:"CAR_SEAT"}],ge=[{KEY_CODE:"STBH",VAL_CODE:"STBH_VCX",TYPE_CODE:"CONSTANT"},{KEY_CODE:"XCG_PL1_1",VAL_CODE:"VH_TYPE@CAR_WEIGHT@CAR_PRICE@YEAR_OF_USE",TYPE_CODE:"CACHE"},{KEY_CODE:"XCG_PL1_2",VAL_CODE:"VH_TYPE@CAR_PRICE@YEAR_OF_USE",TYPE_CODE:"CACHE"},{KEY_CODE:"XCG_TGBH",VAL_CODE:"DAY_OF_VCX",TYPE_CODE:"CONSTANT"},{KEY_CODE:"XCG_VCX_BS",VAL_CODE:"BOSUNG",TYPE_CODE:"FORMULA"},{KEY_CODE:"XCGTN_BH_HH",VAL_CODE:"BH_HH",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_CNGOI",VAL_CODE:"CAR_SEAT",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_N3_CNGOI",VAL_CODE:"VH_TYPE@CAR_SEAT@TH_N3",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_N3_LXE",VAL_CODE:"VH_TYPE@TH_N3",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_N3_TTAI",VAL_CODE:"VH_TYPE@CAR_WEIGHT@TH_N3",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_NTX",VAL_CODE:"BH_NTX",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_TH_HK",VAL_CODE:"VH_TYPE@CAR_PURPOSE@TH_HK",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_TSN3_CNGOI",VAL_CODE:"VH_TYPE@CAR_SEAT@TH_TSN3",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_TSN3_LXE",VAL_CODE:"VH_TYPE@TH_TSN3",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_TSN3_TTAI",VAL_CODE:"VH_TYPE@CAR_WEIGHT@TH_TSN3",TYPE_CODE:"CACHE"},{KEY_CODE:"XCGTN_TTAI_HH",VAL_CODE:"TTAI_TAN",TYPE_CODE:"CONSTANT"}],Se=new le,xe=[{value:"CK",label:"Chuy\u1ec3n kho\u1ea3n"},{value:"CTT",label:"Qua m\xe3 QR"}],Te=function(e){var t=Object(n.useState)(e.sdk_params),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)({}),u=Object(r.a)(i,2),v=u[0],N=u[1],A=Object(n.useState)({}),f=Object(r.a)(A,2),C=f[0],D=f[1],S=Object(n.useState)("2"),R=Object(r.a)(S,2),P=R[0],H=R[1],V=Object(n.useState)("2"),U=Object(r.a)(V,2),B=U[0],w=U[1],F=Object(n.useState)(!1),q=Object(r.a)(F,2),K=q[0],W=q[1],J=Object(n.useState)(!0),z=Object(r.a)(J,2),Z=z[0],$=z[1],ee=Object(n.useState)(!0),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],le=Object(n.useState)("TOTAL"),se=Object(r.a)(le,2),ie=se[0],oe=se[1],ue=Object(n.useState)(null),be=Object(r.a)(ue,2),je=be[0],he=be[1],Oe=Object(n.useState)([]),Ee=Object(r.a)(Oe,2),ve=Ee[0],_e=Ee[1],fe=Object(n.useState)([]),Ce=Object(r.a)(fe,2),De=Ce[0],pe=Ce[1],ge=Object(n.useState)([]),Te=Object(r.a)(ge,2),Ie=Te[0],Re=Te[1],Le=Object(n.useState)([]),Pe=Object(r.a)(Le,2),ke=Pe[0],ye=Pe[1],He=Object(n.useState)(!1),Me=Object(r.a)(He,2),Ve=Me[0],Ue=Me[1],Ye=Object(n.useState)(!1),Be=Object(r.a)(Ye,2),we=Be[0],Fe=Be[1],Ge=Object(n.useState)(!1),Xe=Object(r.a)(Ge,2),qe=Xe[0],Ke=Xe[1],We=Object(n.useState)(!1),Qe=Object(r.a)(We,2),Je=Qe[0],ze=Qe[1],Ze=Object(n.useState)(!1),$e=Object(r.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(n.useState)(!1),ct=Object(r.a)(at,2),nt=ct[0],lt=ct[1],st=Object(n.useState)({value:"CK",label:"Chuy\u1ec3n kho\u1ea3n"}),it=Object(r.a)(st,2),rt=it[0],ot=it[1],dt=Object(n.useState)(!1),ut=Object(r.a)(dt,2),bt=ut[0],jt=ut[1],ht=Object(n.useState)(!1),Ot=Object(r.a)(ht,2),mt=Ot[0],Et=Ot[1],vt=Object(n.useState)(""),_t=Object(r.a)(vt,2),Nt=_t[0],At=_t[1],ft=Object(n.useState)(null),Ct=Object(r.a)(ft,2),Dt=Ct[0],pt=Ct[1],gt=Object(n.useState)(null),St=Object(r.a)(gt,2),xt=St[0],Tt=St[1],It=Object(n.useState)(""),Rt=Object(r.a)(It,2),Lt=Rt[0],Pt=Rt[1],kt=Object(n.useState)(""),yt=Object(r.a)(kt,2),Ht=yt[0],Mt=yt[1],Vt=Object(n.useState)(""),Ut=Object(r.a)(Vt,2),Yt=Ut[0],Bt=Ut[1],wt=Object(n.useState)([]),Ft=Object(r.a)(wt,2),Gt=Ft[0],Xt=Ft[1],qt=Object(n.useState)(!1),Kt=Object(r.a)(qt,2),Wt=Kt[0],Qt=Kt[1],Jt=function(e){oe(e.target.value)};Object(n.useEffect)((function(){C&&Tt(C.lo_date)}),[C]),Object(n.useEffect)((function(){zt()}),[]),Object(n.useEffect)((function(){s(e.sdk_params),e.sdk_params&&(ze(!1),lt(!1),tt(!1),"EDIT"===e.sdk_params.action?(H("2"),w("2"),Zt(e.sdk_params.contract_code,e.sdk_params.detail_code)):(W(!0),H("0"),w("0"),N({}),D({}),Bt(""),oe("TOTAL"),Tt(""),pt(""),pe([]),_e([]),Re([])),s(e.sdk_params))}),[e.sdk_params]),Object(n.useEffect)((function(){"DECREASE"===ie&&Y("H\xecnh th\u1ee9c n\xe0y \u0111ang \u0111\u01b0\u1ee3c x\xe9t duy\u1ec7t. Vui l\xf2ng ch\u1ecdn h\xecnh th\u1ee9c kh\xe1c.")}),[ie]);var zt=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qt(!0),t={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"APISZ0XSJ1"},Data:{channel:"SDK_LO",username:"",org_code:"HDBANK_VN",product_code:"ATTD",language:""}},e.prev=2,e.next=5,Se.post("/OpenApi/Post",t).then((function(e){e.Success?(ye(e.Data),Qt(!1)):(Y(e.ErrorMessage),Qt(!1))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(){return e.apply(this,arguments)}}(),Zt=function(){var t=Object(j.a)(b.a.mark((function t(a,c){var n,l,s,i,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"API4CQ0Z1U"},Data:{channel:"WEB_B2B",username:"ATTD",language:"VN",category:"CN.04",product_code:"ATTD",contract_code:a,detail_code:c}},t.prev=1,t.next=4,Se.post("/OpenApi/Post",n);case 4:(l=t.sent).Success?"EDIT"===e.sdk_params.action&&l.Data.length>0&&(l.Data[0].length>0&&l.Data[3].length>0&&(s=l.Data[0][0],i={},s.STATUS===Ae.ord_status_paid?W(!1):W(!0),"A"===s.PACK_CODE?i={A:!0,B:!1,C:!1}:"ABC"===s.PACK_CODE?i={A:!0,B:!0,C:!0}:"AB"===s.PACK_CODE?i={A:!0,B:!0,C:!1}:"AC"===s.PACK_CODE&&(i={A:!0,B:!1,C:!0}),Bt(s.LO_CODE),oe(s.LO_TYPE),N({effectiveDate:s.EFFECTIVE_DATE,expirationDate:s.EXPIRATION_DATE,insurTotalAmout:s.INSUR_TOTAL,selectDurationPay:{value:s.DURATION_PAYMENT,label:s.DURATION_NAME},selectRegion:{value:s.REGION,label:s.REGION_NAME},selectInsurRange:{value:s.PACK_CODE,label:s.PACK_NAME},packFess:"",discount:"",totalDiscount:"",totalAmout:s.TOTAL_AMOUNT,period:l.Data[3],packageInsur:i})),l.Data[1].length>0&&(r=l.Data[1][0],D({lo_contract:r.LO_NO,contract_code:r.CONTRACT_CODE,duration_unnit:{label:r.UNIT_NAME,value:r.UNIT},duration:r.DURATION,lo_total:r.LO_TOTAL_AMOUNT,lo_date:r.BORROW_DATE_SIGN,gender:{value:r.GENDER,label:r.GENDER_NAME},name:r.NAME,phone:r.PHONE,email:r.EMAIL,idcard:r.IDCARD,idcard_d:r.IDCARD_D,idcard_p:r.IDCARD_P,dob:r.DOB,address:r.ADDRESS,provide:{label:r.ADDRESS_FORM,prov:r.PROVINCE,dist:r.DISTRICT,ward:r.WARDS},beneficiary_unit:{value:r.BEN_ORG_CODE,label:r.BEN_NAME},seller_name:r.TELLER_NAME,seller_code:r.TELLER_CODE,seller_email:r.TELLER_EMAIL,disbursement:{BRANCH_CODE:"",DISBUR_CODE:r.DISBUR_CODE,DISBUR_NUM:r.DISBUR_NUM,DISBUR_DATE:"",DISBUR_AMOUNT:r.DISBUR_AMOUNT,INSUR_TOTAL:v?v.insurTotalAmout:0}})),l.Data[2].length>0&&$t(l.Data[2])):Y(l.ErrorMessage),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){if(Gt&&Gt.length>0){var e=[],t=[],a=[],c=Gt.filter((function(e){return"GYC"===e.type})),n=Gt.filter((function(e){return"CMND"===e.type})),l=Gt.filter((function(e){return"KHAC"===e.type}));c.map((function(t,a){e.push(t.file)})),_e(e),n.map((function(e,a){t.push(e.file)})),pe(t),l.map((function(e,t){a.push(e.file)})),Re(a)}}),[Gt]);var $t=function(e){var t=[];e.map((function(e,a){var c,n;"pdf"===e.FILE_FORMAT?(c=g+e.FILE_ID,n=function(a){t.push({type:e.FILE_TYPE,file:a})},p(c).then((function(e){n("data:application/pdf;base64,"+e)}))):function(e,t){var a=new Image;a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height,e.getContext("2d").drawImage(a,0,0);var c=e.toDataURL("image/png");t(c)},a.setAttribute("crossOrigin","anonymous"),a.src=e}(g+e.FILE_ID,(function(a){t.push({type:e.FILE_TYPE,file:a})}))})),setTimeout((function(){Xt(t)}),700)},ea=function(e,t){he(t),document.getElementById("cus-input-img").click()},ta=function(e,t,a){return e.filter((function(e){return e!==t}))},aa=function(e){if("SAVE"===e?Fe(!0):"PAY"===e&&Ke(!0),0===ve.length||0===De.length)return Fe(!1),Y("Vui l\xf2ng t\u1ea3i t\xe0i li\u1ec7u");(function(){var e=new FormData;return ve.length>0&&ve.map((function(t,a){var c=t?t.split(";")[0].split("/")[1]:"",n=M(t);return e.append("files",n,"GYC_"+a+"."+c)})),Ie.length>0&&Ie.map((function(t,a){var c=t?t.split(";")[0].split("/")[1]:"",n=M(t);return e.append("files",n,"KHAC_"+a+"."+c)})),De.length>0&&De.map((function(t,a){var c=t?t.split(";")[0].split("/")[1]:"",n=M(t);return e.append("files",n,"CMND_"+a+"."+c)})),ce.a.post("https://dev-hyperservices.hdinsurance.com.vn/upload/",e,{headers:{ParentCode:"HDI_UPLOAD",UserName:"HDI_UPLOAD",Secret:"HDI_UPLOAD_198282911FASE1239212",environment:"LIVE",DeviceEnvironment:"WEB",ActionCode:"UPLOAD_SIGN"}})})().then((function(t){if(t.data.success){var a=t.data.data,c=[];a.filter((function(e){return e.file_org_name.includes("GYC_")})).map((function(e){var t=ca(e.file_org_name,e.file_key,"GYC");c.push(t)})),a.filter((function(e){return e.file_org_name.includes("CMND_")})).map((function(e){var t=ca(e.file_org_name,e.file_key,"CMND");c.push(t)})),a.filter((function(e){return e.file_org_name.includes("KHAC_")})).map((function(e){var t=ca(e.file_org_name,e.file_key,"KHAC");c.push(t)})),c.length>0&&na(c,e)}else Y("L\u1ed7i t\u1ea3i file d\u1eef li\u1ec7u"),Fe(!1)}))},ca=function(e,t,a){var c=e?e.split(".")[1]:"";return{FILE_TYPE:a,FILE_NAME:e,FILE_ID:t,IS_DEL:"0",FILE_EXTENSION:c}},na=function(){var t=Object(j.a)(b.a.mark((function t(a,c){var n,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="","SAVE"===c?n="/OpenApi/orders/create":"PAY"===c&&(n="/OpenApi/orders/create_pay"),s={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"API0OVG3B1"},Data:{Channel:"HDBANK_VN",UserName:"Mem_01",COMMON:{SELLER:{SELLER_CODE:C.seller_code?C.seller_code:"",SELLER_NAME:C.seller_name?C.seller_name:"",SELLER_EMAIL:C.seller_email?C.seller_email:"",SELLER_PHONE:"",SELLER_GENDER:"",STRUCT_CODE:"",ORG_CODE:"HDBANK_VN",BRANCH_CODE:null,ORG_TRAFFIC:null,TRAFFIC_LINK:null,ENVIROMENT:"SDK_HD_BANK"},BUYER:{CUS_ID:null,TYPE:"CN",NAME:C.name,DOB:C.dob,GENDER:C.gender?C.gender.value:"",PROV:C.provide.prov,DIST:C.provide.dist,WARDS:C.provide.ward,ADDRESS:C.address,IDCARD:C.idcard,IDCARD_D:C.idcard_d,IDCARD_P:C.idcard_p,EMAIL:C.email,PHONE:C.phone,FAX:null,TAXCODE:null},RECEIVER:null,ORDER:{FIELD:"BH",ORDER_CODE:null,TYPE:"ADD"===l.action?"BH_M":"BH_S",TITLE:"\u0110\u01a1n b\u1ea3o hi\u1ec3m ATTD",SUMMARY:"\u0110\u01a1n b\u1ea3o hi\u1ec3m ATTD",AMOUNT:v.totalAmout,DISCOUNT:v.discount?v.discount:0,DISCOUNT_UNIT:v.selectInsurRange.discount_unit,VAT:0,TOTAL_AMOUNT:v.totalAmout,CURRENCY:"VND",GIF_CODE:"",STATUS:"",PAY_METHOD:"ON_HDI_CHANNEL"},ORDER_DETAIL:[{FIELD:"BH",PRODUCT_MODE:"TOTAL"===ie?"TRUC_TIEP":"HD_BAO",PRODUCT_TYPE:"CN.04",PRODUCT_CODE:"ATTD",REF_ID:l.contract_code,ORG_STORE:null,WEIGHT:null,COUNT:1,AMOUNT:v.totalAmout,DISCOUNT:v.discount?v.discount:0,DISCOUNT_UNIT:v.selectInsurRange.discount_unit,VAT:0,TOTAL_AMOUNT:v.totalAmout,DESCRIPTION:"\u0110\u01a1n b\u1ea3o hi\u1ec3m ATTD",EFFECTIVE_DATE:v.effectiveDate,EXPIRATION_DATE:v.expirationDate}],PAY_INFO:{PAYMENT_TYPE:rt?rt.value:"",IS_EMAIL:nt?"1":"0",IS_SMS:et?"1":"0"}},BUSINESS:{LOAN:null,FLIGHT:null,HEALTH_CARE:null,LO:{INSURED:[{BANK_CODE:"HDBANK_VN",BRANCH_CODE:"HDBANK_VN",LO_CONTRACT:C?C.lo_contract:"",LO_CODE:Yt||"",LO_TYPE:ie,LO_MODE:"TOTAL"===ie?"TRUC_TIEP":"HD_BAO",PAYER:"C",CURRENCY:"VND",LO_TOTAL_AMOUNT:C.lo_total?C.lo_total.split(",").join(""):0,LO_EFFECTIVE_DATE:"",LO_EXPIRATION_DATE:"",LO_DATE:C.lo_date,INTEREST_RATE:"0",DURATION:parseInt(C.duration),DURATION_UNIT:C.duration_unnit?C.duration_unnit.value:"",INSUR_TOTAL_AMOUNT:v.insurTotalAmout,DISBUR:C.disbursement,ID_COMMON:"8b824db4-d7c7-4527-9ea3-73d26b3e14b2",RELATIONSHIP:"BAN_THAN",DETAIL_CODE:l.detail_code,CERTIFICATE_NO:null,PRODUCT_CODE:"ATTD",PACK_CODE:v.selectInsurRange?v.selectInsurRange.value:"",PACK_FEES:v.packFess,REGION:v.selectRegion?v.selectRegion.value:"",EFFECTIVE_DATE:v.effectiveDate,EXPIRATION_DATE:v.expirationDate,ADDIITIONAL:null,ADDITIONAL_FEES:0,AMOUNT:v.totalAmout,DISCOUNT:v.discount?v.discount:0,DISCOUNT_UNIT:v.selectInsurRange.discount_unit,VAT:0,TOTAL_AMOUNT:v.totalAmout,CUS_ID:"",TYPE:"CN",NAME:C.name,DOB:C.dob,GENDER:C.gender?C.gender.value:"",PROV:C.provide.prov,DIST:C.provide.dist,WARDS:C.provide.ward,ADDRESS:C.address,IDCARD:C.idcard,IDCARD_D:C.idcard_d,IDCARD_P:C.idcard_p,EMAIL:C.email,PHONE:C.phone,FAX:null,TAXCODE:null,DURATION_PAYMENT:v.selectDurationPay?v.selectDurationPay.value:"",PERIOD:v.period,BENEFICIARY:[{ORG_CODE:C.beneficiary_unit?C.beneficiary_unit.value:"",TYPE:"CQ"}],FILES:a}]}}}},t.prev=3,t.next=6,Se.post(n,s).then((function(t){t.Success?("SAVE"===c?(Fe(!1),"ADD"===l.action?Y("T\u1ea1o \u0111\u01a1n th\xe0nh c\xf4ng"):Y("C\u1eadp nh\u1eadt \u0111\u01a1n th\xe0nh c\xf4ng")):"PAY"===c&&(Ke(!1),"CTT"===rt.value?window.open(t.Data.url_redirect,"_self"):"TM"!==rt.value&&"CK"!==rt.value||t.Data&&t.Data[0]&&t.Data[0][0]&&(Et(!0),At(t.Data[0][0].CONTENT_PAY))),e.sdk_params.onClose((function(e){return console.log(e),e}))):(Y(t.ErrorMessage),Fe(!1),Ke(!1))}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e,a){return t.apply(this,arguments)}}(),la=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=P,e.next="0"===e.t0?3:"1"===e.t0?7:"2"===e.t0?12:13;break;case 3:return H("1"),w("1"),"EDIT"===l.action?($(!0),ne(!0)):$(!1),e.abrupt("break",14);case 7:return H("2"),w("2"),ne(!1),"EDIT"===l.action?ne(!0):ne(!1),e.abrupt("break",14);case 12:case 13:return e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sa=function(e){(ve?ve.length:"")>0&&Y("Ch\u1ec9nh s\u1eeda s\u1ebd \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn th\xf4ng tin gi\u1ea5y y\xeau c\u1ea7u b\u1ea3o hi\u1ec3m \u0111\xe3 t\u1ea3i l\xean!"),H(e),w(e),"EDIT"===l.action?($(!0),ne(!0)):($(!1),ne(!1))},ia=function(){var e=Object(j.a)(b.a.mark((function e(){var t,a,c,n,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ue(!0),t=v?v.packageInsur:{},a=C.provide?C.provide.label.split("-"):"",c=a[2]+","+a[1]+","+a[0],n=parseInt(C.duration)+" "+(C.duration_unnit?C.duration_unnit.label:""),"/hdi/service/getPDFJson",l={Action:{ParentCode:"HDI_B2B2C",UserName:"USR_0006",Secret:"B72088C7067CBF9FE0551F6E21B40329",ActionCode:"GET_TEMPLATE"},Data:{USER_NAME:"USR_0006",TEMP_CODE:"ATTD_YCBH",TYPE_RES:"BASE64",TRANSACTION_ID:"fff5c44223112020",DATA_TYPE:"JSON",PRODUCT_CODE:"ATTD",PACK_CODE:"null",MASTER:{CREATE_DATE:_()(new Date).format("DD/MM/YYYY"),NAME:C.name,DOB:C.dob,GENDER:C.gender?"M"===C.gender.value?"Nam":"N\u1eef":"",IDCARD:C.idcard,IDCARD_DATE:C.idcard_d,CONTRACT_LOAN:C?C.lo_contract:"",ADDRESS:C.address+" "+c,CONTRACT_LOAN_DATE:C.lo_date,TOTAL_BOR:C.lo_total?C.lo_total.split(",").join("."):0,EXPIRATION_DATE_LOAN:"",RELATIONSHIP:"L\xe0 ng\u01b0\u1eddi \u0111\u01b0\u1ee3c b\u1ea3o hi\u1ec3m",IDCARD_PLACE:C.idcard_p,DURATION:n,UNIT:C.duration_unnit?C.duration_unnit.label:"",TOTAL_AMOUNT:y(v.totalAmout),DECISION:"",DECISION_DATE:"",REGION:v.selectRegion?v.selectRegion.value:"",CURRENCY:"VN\u0110",EFFECTIVE_DATE:v.effectiveDate,TOTAL_INS:y(v.insurTotalAmout),A:t.A.toString(),B:t.B.toString(),C:t.C.toString()}},Signature:"450F4EAC05ED87F03C04011B1978148DB9CE0103FA90F01C7707149068A147E2"},e.prev=7,e.next=10,Se.post("/hdi/service/getPDFJson",l).then((function(e){if(e.Success){var t=document.createElement("a");t.setAttribute("href","data:image/png;base64,"+e.Data.FILE_BASE64),t.setAttribute("download",e.Data.FILE_NAME),t.click(),Ue(!1)}else Y(e.error_message),Ue(!1)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Dt&&Mt("")}),[Dt]);Object(n.useEffect)((function(){Je&&(C.lo_contract&&T(C.lo_date)||jt(!0))}),[Je]);return Object(c.jsxs)("div",{className:"form-create-ord",children:[Wt&&Object(c.jsx)(re,{}),Object(c.jsxs)("div",{className:"step-vertical-timeline",children:[Object(c.jsxs)("div",{className:"header-step-timeline",children:[Object(c.jsx)("label",{className:"title-step-timeline",children:"Th\xf4ng tin g\xf3i"}),"0"!==B&&K&&Object(c.jsx)("label",{className:"edit-step-1",onClick:function(){return sa("0")},children:"S\u1eeda"})]}),Object(c.jsxs)("div",{className:"content-step-timeline",children:["0"===P&&"0"===B&&Object(c.jsxs)("div",{className:"active-step-1",children:[Object(c.jsxs)("div",{className:"form-choose-type",children:[Object(c.jsx)("p",{children:"Ch\u1ecdn lo\u1ea1i c\u1ea5p \u0111\u01a1n *"}),Object(c.jsxs)("div",{className:"rd-group",children:[Object(c.jsxs)("label",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"radio",value:"TOTAL",onChange:Jt,checked:"TOTAL"===ie}),"C\u1ea5p \u0111\u01a1n theo h\u1ea1n m\u1ee9c"]}),Object(c.jsxs)("label",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"radio",value:"DISBUR",onChange:Jt,checked:"DISBUR"===ie}),"C\u1ea5p \u0111\u01a1n theo kh\u1ebf \u01b0\u1edbc nh\u1eadn n\u1ee3"]}),Object(c.jsxs)("label",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"radio",value:"DECREASE",onChange:Jt,checked:"DECREASE"===ie}),"Ng\xe2n h\xe0ng mua t\u1eb7ng KH"]})]})]}),Object(c.jsx)(de,{onNextStep:la,dataDefine:ke,setItemPack:N,itemPack:v,typeRadio:ie,paramSdk:l,checkEditSt1:Z})]}),"0"!==B&&Object(c.jsxs)("div",{className:"unactive-step-1 typing-value-form",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ea3n ph\u1ea9m:"}),Object(c.jsx)("label",{className:"col-form-label",children:"An t\xe2m t\xedn d\u1ee5ng"})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Lo\u1ea1i H\u0110:"}),Object(c.jsx)("label",{className:"col-form-label",children:function(){var e="";return"TOTAL"===ie?e="C\u1ea5p \u0111\u01a1n theo h\u1ea1n m\u1ee9c":"DISBUR"===ie?e="C\u1ea5p \u0111\u01a1n theo kh\u1ebf \u01b0\u1edbc nh\u1eadn n\u1ee3":"DECREASE"===ie&&(e="Ng\xe2n h\xe0ng mua t\u1eb7ng KH"),e}()})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ng\xe0y hi\u1ec7u l\u1ef1c:"}),Object(c.jsx)("label",{className:"col-form-label",children:v.effectiveDate})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ng\xe0y k\u1ebft th\xfac:"}),Object(c.jsx)("label",{className:"col-form-label",children:v.expirationDate})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 ti\u1ec1n BH:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[k(v.insurTotalAmout)," VN\u0110"]})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ph\xed b\u1ea3o hi\u1ec3m:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[v.totalAmout?k(v.totalAmout):""," VN\u0110"]})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"T\u1ed5ng thanh to\xe1n:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[v.totalAmout?k(v.totalAmout):""," VN\u0110"]})]})]})]})]}),Object(c.jsx)("div",{className:"number-step-timeline",children:"1"})]}),Object(c.jsxs)("div",{className:"step-vertical-timeline",children:[Object(c.jsxs)("div",{className:"header-step-timeline",children:[Object(c.jsx)("label",{className:"title-step-timeline",children:"Th\xf4ng tin vay, N\u0110BH, c\xe1n b\u1ed9 ng\xe2n h\xe0ng, th\u1ee5 h\u01b0\u1edfng"}),"2"===P&&"1"!==B&&K&&Object(c.jsx)("label",{className:"edit-step-2",onClick:function(){return sa("1")},children:"S\u1eeda"})]}),Object(c.jsxs)("div",{className:"content-step-timeline",children:["1"===P&&"1"===B&&Object(c.jsx)(me,{onNextStep:la,dataDefine:ke,setLoanInSured:D,loanInsured:C,itemPack:v,typeRadio:ie,paramSdk:l,checkEditSt2:ae}),"2"===P&&"1"!==B&&Object(c.jsxs)("div",{className:"unactive-step-2 typing-value-form",children:[Object(c.jsx)("p",{className:"txt-sumary-st2",children:"Th\xf4ng tin vay"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4 ",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 H\u0110 vay:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.lo_contract})]}),Object(c.jsxs)("div",{className:"col-4 ",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ng\xe0y k\xfd H\u0110 vay:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.lo_date})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 ti\u1ec1n vay:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[k(C.lo_total)," VN\u0110"]})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Th\u1eddi h\u1ea1n vay:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[C.duration+" ",C.duration_unnit?C.duration_unnit.label:""]})]})]}),"EDIT"===l.action&&Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4 ",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 l\u1ea7n gi\u1ea3i ng\xe2n:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.disbursement?C.disbursement.DISBUR_NUM:""})]}),Object(c.jsxs)("div",{className:"col-4 ",children:[Object(c.jsx)("label",{className:"col-form-label",children:"M\xe3 KUNN:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.disbursement?C.disbursement.DISBUR_CODE:""})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 ti\u1ec1n gi\u1ea3i ng\xe2n:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[C.disbursement?k(C.disbursement.DISBUR_AMOUNT):""," VN\u0110"]})]})]}),Object(c.jsx)("p",{className:"txt-sumary-st2",children:"Th\xf4ng tin N\u0110BH"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"T\xean N\u0110BH:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.name})]}),Object(c.jsxs)("div",{className:"col-8",children:[Object(c.jsx)("label",{className:"col-form-label",children:"\u0110\u1ecba ch\u1ec9:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.address+" -"}),Object(c.jsx)("label",{className:"col-form-label",children:C.provide?C.provide.label:""})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 CMND/CCCD:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.idcard})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ng\xe0y c\u1ea5p:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.idcard_d})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"N\u01a1i c\u1ea5p:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.idcard_p})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u0110T:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.phone})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Email:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.email})]})]}),Object(c.jsx)("p",{className:"txt-sumary-st2",children:"\u0110\u01a1n v\u1ecb th\u1ee5 h\u01b0\u1edfng"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"\u0110V th\u1ee5 h\u01b0\u1edfng:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.beneficiary_unit?C.beneficiary_unit.label:""})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"CBNH c\u1ea5p \u0111\u01a1n:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.seller_code+" - "+C.seller_name})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Email CBNH:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.seller_email})]})]})]})]}),Object(c.jsx)("div",{className:"number-step-timeline",children:"2"})]}),Object(c.jsxs)("div",{className:"step-vertical-timeline",children:[Object(c.jsx)("div",{className:"header-step-timeline",children:Object(c.jsx)("label",{className:"title-step-timeline",children:"Upload File"})}),Object(c.jsx)("div",{className:"content-step-timeline",children:"2"===P&&"2"===B&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"header-content-step-download",children:[Object(c.jsx)("label",{children:"T\u1ea3i gi\u1ea5y y\xeau c\u1ea7u b\u1ea3o hi\u1ec3m:"}),Ve?Object(c.jsxs)("div",{className:"btn-download-document",children:[Object(c.jsx)(h.a,{animation:"border",role:"status",style:{width:18,height:18,marginRight:8}}),"Vui l\xf2ng \u0111\u1ee3i..."]}):Object(c.jsx)("div",{className:"btn-download-document",onClick:ia,children:"T\u1ea3i v\u1ec1"})]}),Object(c.jsx)("div",{className:"active-step-3",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("input",{type:"file",id:"cus-input-img",multiple:!0,accept:".jpg,.jpeg,.png,.pdf",hidden:!0,onChange:function(e){var t=Array.from(e.target.files);Promise.all(t.map((function(e){return new Promise((function(t,a){var c=new FileReader;c.addEventListener("load",(function(e){t(e.target.result)})),c.addEventListener("error",a),c.readAsDataURL(e)}))}))).then((function(e){switch(je){case 0:ve.length>0?_e([].concat(Object(d.a)(ve),[e[0]])):_e(e);break;case 1:De.length>0?pe([].concat(Object(d.a)(De),[e[0]])):pe(e);break;case 2:Ie.length>0?Re([].concat(Object(d.a)(Ie),[e[0]])):Re(e)}}),(function(e){console.error(e)}))}}),Object(c.jsx)("div",{className:"col-12 col-md-4",children:Object(c.jsxs)(O.a.Group,{className:"form-group-download",children:[Object(c.jsxs)(O.a.Label,{children:["Gi\u1ea5y y\xeau c\u1ea7u BH ",Object(c.jsx)("span",{style:{color:"#DA2128"},children:"*"})]}),ve.length>0&&Object(c.jsx)(O.a.Label,{className:"add-img",onClick:function(e){return ea(0,0)},children:"Th\xeam File"}),ve.length>0?Object(c.jsx)(Ne,{dataValue:ve,setListImgGYC:_e,deleteItem:ta,checkListImg:"0"}):Object(c.jsxs)("div",{className:"btn-item-download",onClick:function(e){return ea(0,0)},children:[Object(c.jsx)("i",{className:"fas fa-cloud-upload-alt"}),Object(c.jsx)("p",{children:"\u1ea4n v\xe0o \u0111\xe2y \u0111\u1ec3 ch\u1ecdn file"})]})]})}),Object(c.jsx)("div",{className:"col-12 col-md-4",children:Object(c.jsxs)(O.a.Group,{className:"form-group-download",children:[Object(c.jsxs)(O.a.Label,{children:["CMND/ CCCD/ H\u1ed9 chi\u1ebfu ",Object(c.jsx)("span",{style:{color:"#DA2128"},children:"*"})]}),De.length>0&&Object(c.jsx)(O.a.Label,{className:"add-img",onClick:function(e){return ea(0,1)},children:"Th\xeam File"}),De.length>0?Object(c.jsx)(Ne,{dataValue:De,setListImgCMND:pe,deleteItem:ta,checkListImg:"1"}):Object(c.jsxs)("div",{className:"btn-item-download",onClick:function(e){return ea(0,1)},children:[Object(c.jsx)("i",{className:"fas fa-cloud-upload-alt"}),Object(c.jsx)("p",{children:"\u1ea4n v\xe0o \u0111\xe2y \u0111\u1ec3 ch\u1ecdn file"})]})]})}),Object(c.jsx)("div",{className:"col-12 col-md-4",children:Object(c.jsxs)(O.a.Group,{className:"form-group-download",children:[Object(c.jsx)(O.a.Label,{children:"C\xe1c file kh\xe1c"}),Ie.length>0&&Object(c.jsx)(O.a.Label,{className:"add-img",onClick:function(e){return ea(0,2)},children:"Th\xeam File"}),Ie.length>0?Object(c.jsx)(Ne,{dataValue:Ie,setListImgOther:Re,deleteItem:ta,checkListImg:"2"}):Object(c.jsxs)("div",{className:"btn-item-download",onClick:function(e){return ea(0,2)},children:[Object(c.jsx)("i",{className:"fas fa-cloud-upload-alt"}),Object(c.jsx)("p",{children:"\u1ea4n v\xe0o \u0111\xe2y \u0111\u1ec3 ch\u1ecdn file"})]})]})})]})}),"EDIT"===l.action&&K&&Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsxs)(m.a,{custom:!0,type:"switch",children:[Object(c.jsx)(m.a.Input,{checked:Je}),Object(c.jsx)(m.a.Label,{onClick:function(e){ze(!Je)},children:"Thanh to\xe1n lu\xf4n"})]}),Object(c.jsxs)(E.a,{show:bt,onHide:function(){ze(!1),jt(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(E.a.Header,{closeButton:!0,children:Object(c.jsx)(E.a.Title,{className:"header-cbbshs",children:"C\u1ea3nh b\xe1o"})}),Object(c.jsxs)(E.a.Body,{children:[Object(c.jsx)("label",{children:"B\u1ea1n c\u1ea7n b\u1ed5 sung th\xf4ng tin s\u1ed1 h\u1ee3p \u0111\u1ed3ng vay \u0111\u1ec3 c\xf3 th\u1ec3 thanh to\xe1n lu\xf4n"}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(G,{disable:!1,value:Dt,changeEvent:function(e){pt(e)},label:"S\u1ed1 h\u1ee3p \u0111\u1ed3ng vay",required:!0,error:Ht})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(X,{disable:!1,value:xt,changeEvent:function(e){if(e&&T(e)){var t=I(_()(new Date).format("DD/MM/YYYY"),e);Pt(t?"Ng\xe0y k\xed h\u1ee3p \u0111\u1ed3ng vay kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i":""),Tt(e)}},selectedDay:x(xt),maximumDate:L(),label:"Ng\xe0y k\xfd h\u1ee3p \u0111\u1ed3ng vay",required:!0,error:Lt})})]}),Object(c.jsx)("div",{className:"btn-save-dkbs",onClick:function(){var e=I(_()(new Date).format("DD/MM/YYYY"),xt);e&&Pt("Ng\xe0y k\xed h\u1ee3p \u0111\u1ed3ng vay kh\xf4ng \u0111\u01b0\u1ee3c l\u1edbn h\u01a1n ng\xe0y hi\u1ec7n t\u1ea1i"),Dt||Mt("Vui l\xf2ng nh\u1eadp s\u1ed1 h\u1ee3p \u0111\u1ed3ng vay"),!e&&Dt&&(Mt(""),Pt(""),D(Object(o.a)(Object(o.a)({},C),{},{lo_contract:Dt,lo_date:xt})),jt(!1))},children:"L\u01b0u"})]})]})]}),Je&&Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Q,{required:!0,menuPlacement:"top",label:"Ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n ",placeholder:"Ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n",value:rt,options:xe,onChange:function(e){return function(e){ot(e)}(e)}})}),"CTT"!==rt.value&&Object(c.jsx)("div",{className:"col-3",style:{margin:"auto 0"},children:Object(c.jsxs)(m.a,{custom:!0,type:"switch",children:[Object(c.jsx)(m.a.Input,{checked:et}),Object(c.jsx)(m.a.Label,{onClick:function(e){tt(!et)},children:"G\u1eedi n\u1ed9i dung chuy\u1ec3n kho\u1ea3n qua SMS"})]})}),"CTT"!==rt.value&&Object(c.jsx)("div",{className:"col-3",style:{margin:"auto 0"},children:Object(c.jsxs)(m.a,{custom:!0,type:"switch",children:[Object(c.jsx)(m.a.Input,{checked:nt}),Object(c.jsx)(m.a.Label,{onClick:function(e){lt(!nt)},children:"G\u1eedi n\u1ed9i dung chuy\u1ec3n kho\u1ea3n qua Email"})]})})]})})]}),K&&Object(c.jsxs)("div",{className:"form-btn-confirm",children:["EDIT"===l.action&&Je&&Object(c.jsx)("div",{children:qe?Object(c.jsxs)("div",{className:"btn-next-step",children:[Object(c.jsx)(h.a,{animation:"border",role:"status",style:{width:18,height:18,marginRight:8}}),"Vui l\xf2ng \u0111\u1ee3i..."]}):Object(c.jsx)("div",{className:"btn-next-step",onClick:function(){return aa("PAY")},children:"L\u01b0u v\xe0 thanh to\xe1n"})}),we?Object(c.jsxs)("div",{className:"btn-download-document",children:[Object(c.jsx)(h.a,{animation:"border",role:"status",style:{width:18,height:18,marginRight:8}}),"Vui l\xf2ng \u0111\u1ee3i..."]}):Object(c.jsx)("div",{className:"btn-next-step",onClick:function(){return aa("SAVE")},children:"L\u01b0u"})]})]})}),Object(c.jsx)("div",{className:"number-step-timeline",children:"3"})]}),Object(c.jsxs)(E.a,{show:mt,onHide:function(){return Et(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(E.a.Header,{closeButton:!0,children:Object(c.jsx)(E.a.Title,{className:"header-sms",children:"Th\xf4ng b\xe1o"})}),Object(c.jsxs)(E.a.Body,{children:[Object(c.jsxs)("label",{children:['Qu\xfd kh\xe1ch vui l\xf2ng Chuy\u1ec3n kho\u1ea3n v\u1edbi n\u1ed9i dung "',Object(c.jsx)("label",{className:"sms-ck",children:Nt}),'" cho t\xe0i kho\u1ea3n:']}),Object(c.jsx)("p",{children:"- Ch\u1ee7 t\xe0i kho\u1ea3n: C\xd4NG TY TNHH B\u1ea2O HI\u1ec2M HD"}),Object(c.jsx)("p",{children:"- STK: 168704079888888"}),Object(c.jsx)("p",{children:"- Ng\xe2n h\xe0ng HD Bank chi nh\xe1nh Nguy\u1ec5n \u0110\xecnh Chi\u1ec3u"}),Object(c.jsx)("div",{className:"btn-save-dkbs",onClick:function(){return Et(!1)},children:"\u0110\xf3ng"})]})]})]})},Ie=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)({label:null,value:e.value}),d=Object(r.a)(i,2),u=d[0],b=d[1],j=Object(n.useState)(e.data),h=Object(r.a)(j,2),O=h[0],m=h[1],E=Object(n.useState)(""),v=Object(r.a)(E,2),_=v[0],N=v[1];Object(n.useEffect)((function(){if(m(e.data),e.data&&null===e.value)b({label:null,value:null});else{var t=e.data?e.data.filter((function(t){return t.value===e.value})):{};t[0]&&b(t[0])}}),[e.data,e.value]);var f=function(e){for(var t=["a\xe0\u1ea3\xe3\xe1\u1ea1\u0103\u1eb1\u1eb3\u1eb5\u1eaf\u1eb7\xe2\u1ea7\u1ea9\u1eab\u1ea5\u1ead","A\xc0\u1ea2\xc3\xc1\u1ea0\u0102\u1eb0\u1eb2\u1eb4\u1eae\u1eb6\xc2\u1ea6\u1ea8\u1eaa\u1ea4\u1eac","d\u0111","D\u0110","e\xe8\u1ebb\u1ebd\xe9\u1eb9\xea\u1ec1\u1ec3\u1ec5\u1ebf\u1ec7","E\xc8\u1eba\u1ebc\xc9\u1eb8\xca\u1ec0\u1ec2\u1ec4\u1ebe\u1ec6","i\xec\u1ec9\u0129\xed\u1ecb","I\xcc\u1ec8\u0128\xcd\u1eca","o\xf2\u1ecf\xf5\xf3\u1ecd\xf4\u1ed3\u1ed5\u1ed7\u1ed1\u1ed9\u01a1\u1edd\u1edf\u1ee1\u1edb\u1ee3","O\xd2\u1ece\xd5\xd3\u1ecc\xd4\u1ed2\u1ed4\u1ed6\u1ed0\u1ed8\u01a0\u1edc\u1ede\u1ee0\u1eda\u1ee2","u\xf9\u1ee7\u0169\xfa\u1ee5\u01b0\u1eeb\u1eed\u1eef\u1ee9\u1ef1","U\xd9\u1ee6\u0168\xda\u1ee4\u01af\u1eea\u1eec\u1eee\u1ee8\u1ef0","y\u1ef3\u1ef7\u1ef9\xfd\u1ef5","Y\u1ef2\u1ef6\u1ef8\xdd\u1ef4"],a=0;a<t.length;a++){var c=new RegExp("["+t[a].substr(1)+"]","g"),n=t[a][0];e=e.replace(c,n)}return e},C={isOpen:l,place:e.positionSelect?e.positionSelect:"below",preferPlace:e.positionSelect?e.positionSelect:"below",onOuterAction:function(){return s(!1)},className:"flselect-cus",body:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"popsheader",children:[e.label,e.search&&Object(c.jsxs)("div",{className:"search-select-sdk",children:[Object(c.jsx)("input",{type:"text",placeholder:"Nh\u1eadp \u0111\u1ec3 t\xecm ki\u1ebfm",value:_,onChange:function(t){N(t.target.value);var a=e.data.filter((function(e){return function(e,t){var a=f(e.toString()).toLowerCase(),c=f(t).toLowerCase();return a.includes(c)}(e.label,t.target.value)}));m(a)}}),Object(c.jsx)("i",{className:"fas fa-search"})]})]}),Object(c.jsx)("div",{className:"list-item",style:{overflowY:"auto",maxHeight:300},children:O?O.map((function(t,a){return Object(c.jsx)("div",{className:t.value==u.value?"sx-item active":"sx-item",onClick:function(a){e.changeEvent(t.value)||(b(t),s(!1))},children:t.label},a)})):[]})]})]};return Object(c.jsx)(A.a,Object(o.a)(Object(o.a)({},C),{},{children:Object(c.jsx)(se,Object(o.a)(Object(o.a)({},e),{},{disable:e.disable,readonly:!0,loading:e.loading,label:e.label,hideborder:e.hideborder,onFocus:function(e){return s(!0)},value:u.label,required:!0,dropdown:!0}))}))},Re=function(e){var t=Object(n.useState)(!1),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(e.value.label),d=Object(r.a)(i,2),u=d[0],b=d[1],j={isOpen:l,place:e.positionSelect?e.positionSelect:"below",preferPlace:e.positionSelect?e.positionSelect:"below",className:"custom-popover-address",onOuterAction:function(){return s(!1)},body:[Object(c.jsx)(he,{addressSelect:function(t){b(t.label),e.changeEvent(t),setTimeout((function(){s(!1)}),200)}})]};return Object(c.jsx)(A.a,Object(o.a)(Object(o.a)({},j),{},{children:Object(c.jsx)(se,Object(o.a)(Object(o.a)({},e),{},{loading:e.loading,label:e.label,onFocus:function(e){return s(!0)},readOnly:!0,value:u,required:!0,icon:"far fa-map-marker-alt",dropdown:!0}))}))},Le=function(e){var t=Object(n.useState)(e.vehicleInsur),a=Object(r.a)(t,2),s=a[0],i=a[1],d=e.listDefineCar.length>0?e.listDefineCar[1]:[],u=e.listDefineCar.length>0?e.listDefineCar[0]:[],b=Object(n.useState)(s.TYPE?s.TYPE:Ae.customer_type),j=Object(r.a)(b,2),h=j[0],O=j[1],E=Object(n.useState)(s.NAME?s.NAME:null),v=Object(r.a)(E,2),_=v[0],N=v[1],A=Object(n.useState)(s.GENDER?s.GENDER:null),f=Object(r.a)(A,2),C=f[0],D=f[1],p=Object(n.useState)("1"===s.IS_SEND_MAIL),g=Object(r.a)(p,2),S=g[0],x=g[1],T=Object(n.useState)(s.TAXCODE?s.TAXCODE:null),I=Object(r.a)(T,2),R=I[0],L=I[1],P=Object(n.useState)(s.PHONE?s.PHONE:null),k=Object(r.a)(P,2),y=k[0],H=k[1],M=Object(n.useState)(s.EMAIL?s.EMAIL:null),V=Object(r.a)(M,2),U=V[0],Y=V[1],B=Object(n.useState)(s.IDCARD?s.IDCARD:null),w=Object(r.a)(B,2),F=w[0],G=w[1],X=Object(n.useState)(s.ADDRESS?s.ADDRESS:null),q=Object(r.a)(X,2),K=q[0],W=q[1],Q=Object(n.useState)({label:s.ADDRESS_LABEL,prov:s.PROV,dist:s.DIST,ward:s.WARDS}||{}),J=Object(r.a)(Q,2),z=J[0],Z=J[1],$=Object(n.useState)({}),ee=Object(r.a)($,2),te=ee[0],ae=ee[1];Object(n.useEffect)((function(){i(e.vehicleInsur)}),[e.vehicleInsur]);var ce=function(e){O(e.target.value)};return Object(c.jsxs)(l.a.Fragment,{children:[Object(c.jsxs)("div",{className:"row form-choose-type",children:[Object(c.jsx)("p",{className:"col-12 col-md-3 col-xl-3 col-sm-12",children:"Ch\u1ee7 xe l\xe0 ai? *"}),Object(c.jsx)("div",{className:"col-12 col-md-9 col-xl-9 col-sm-12 rd-group",children:d?d.map((function(e,t){return Object(c.jsxs)("label",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"radio",value:e.value,onChange:ce,checked:h===e.value}),e.label]},t)})):null})]}),Object(c.jsx)("div",{className:"row form-group",children:Object(c.jsxs)(m.a,{custom:!0,type:"switch",children:[Object(c.jsx)(m.a.Input,{checked:S}),Object(c.jsx)(m.a.Label,{onClick:function(e){x(!S)},children:"G\u1eedi gi\u1ea5y ch\u1ee9ng nh\u1eadn qua email"})]})}),Object(c.jsxs)("div",{className:"row",children:[h===Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(Ie,{disable:!1,label:"Danh x\u01b0ng",value:C,changeEvent:D,dropdown:!0,required:!0,data:u.length>0?u:[],error:te.gender})}),h===Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"T\xean ch\u1ee7 xe ",value:_,changeEvent:N,required:!0,error:te.name})}),h!==Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"T\xean c\u01a1 quan",value:_,changeEvent:N,required:!0,error:te.name})}),h!==Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"M\xe3 s\u1ed1 thu\u1ebf",value:R,changeEvent:L,required:!0,error:te.taxCode})}),Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:y,changeEvent:H,required:!0,error:te.phone})}),Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"Email",value:U,changeEvent:Y,required:!!S,error:te.email})})]}),Object(c.jsxs)("div",{className:"row",children:[h===Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"CMND/ CCCD/ H\u1ed9 chi\u1ebfu",value:F,changeEvent:G,required:!0,error:te.IdCard})}),Object(c.jsx)("div",{className:"col-12 col-md-9 form-group",children:Object(c.jsxs)("div",{className:"group-ipu-cus",children:[Object(c.jsx)("div",{className:"col-12 col-md-6",children:Object(c.jsx)(se,{label:"S\u1ed1 nh\xe0, ng\xf5 / ng\xe1ch, \u0111\u01b0\u1eddng",value:K,changeEvent:W,required:!0,error:te.address})}),Object(c.jsx)("div",{className:"col-12 col-md-6 form-group",children:Object(c.jsx)(Re,{disable:!1,changeEvent:Z,value:z,label:"T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3",required:!0,error:te.addressCodeInfo})})]})})]}),Object(c.jsx)("div",{className:"btn-next-step",onClick:function(){(function(){var e={},t=!0;return h===Ae.customer_type?(C||(t=!1,e.gender="Vui l\xf2ng chon danh x\u01b0ng"),_||(t=!1,e.name="Vui l\xf2ng nh\u1eadp t\xean ch\u1ee7 xe"),F||(t=!1,e.IdCard="Vui l\xf2ng nh\u1eadp CMND ho\u1eb7c CCCD ")):(_||(t=!1,e.name="Vui l\xf2ng nh\u1eadp t\xean c\u01a1 quan"),R||(t=!1,e.taxCode="Vui l\xf2ng nh\u1eadp m\xe3 s\u1ed1 thu\u1ebf")),y||(t=!1,e.phone="Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),S&&(U||(t=!1,e.email="Vui l\xf2ng nh\u1eadp Email"),(""!==U||void 0!==U)&&(new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(U)||(t=!1,e.email="Vui l\xf2ng nh\u1eadp \u0111\xfang \u0111\u1ecbnh d\u1ea1ng Email"))),K||(t=!1,e.address="Vui l\xf2ng nh\u1eadp s\u1ed1 nh\xe0, ng\xf5/ ng\xe1ch, \u0111\u01b0\u1eddng"),z&&void 0===z.label&&(t=!1,e.addressCodeInfo="Vui l\xf2ng ch\u1ecdn T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3"),ae(e),t})()&&(e.setVehicleInsur(Object(o.a)(Object(o.a)({},e.vehicleInsur),{},{TYPE:h,IS_SEND_MAIL:S?"1":"0",GENDER:C,NAME:_,PHONE:y,TAXCODE:R,EMAIL:U,IDCARD:F,ADDRESS:K,PROV:z?z.prov:"",DIST:z?z.dist:"",WARDS:z?z.ward:"",ADDRESS_LABEL:z?z.label:""})),e.setBuyer({TYPE:h,NAME:_,DOB:"",GENDER:C,ADDRESS:K,IDCARD:F,EMAIL:U,PHONE:y,PROV:z?z.prov:"",DIST:z?z.dist:"",WARDS:z?z.ward:"",IDCARD_D:"",IDCARD_P:"",FAX:"",TAXCODE:R}),e.onNextStep())},style:{margin:0},children:"Ti\u1ebfp t\u1ee5c"})]})};Object(J.registerLocale)("vi",$.a);var Pe=function(e){var t=Object(n.useState)(""),a=Object(r.a)(t,2),l=a[0],s=a[1],i=Object(n.useState)(null!=e.value),d=Object(r.a)(i,2),u=d[0],b=d[1];Object(n.useEffect)((function(){var t=function(e,t){var a="";if(e&&t){var c=_()(t,"DD/MM/YYYY").format("MM/DD/YYYY");a=new Date(c);var n=e.split(":"),l=Object(r.a)(n,2),s=l[0],i=l[1];a.setHours(+s),a.setMinutes(i)}return a.toString()}(e.value,e.eff);t&&s(t)}),[e.value,e.eff]);var j=function(t){var a=t.onChange,n=t.value,l=t.onClick,s=t.label;return b(""!==n),Object(c.jsxs)("div",{id:"float-label",className:e.disable?"ipt-disable":"",children:[Object(c.jsx)(O.a.Control,{type:"text",value:n?_()(n).format("HH:mm"):null,onChange:a}),Object(c.jsx)("div",{className:"icon",onClick:l,style:{cursor:"pointer"},children:Object(c.jsx)("i",{className:"fas fa-clock"})}),e.dropdown?Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsx)("i",{className:"fa fa-caret-down","aria-hidden":"true"})}):null,Object(c.jsxs)("label",{className:u||null!=e.value?"Active":"",htmlFor:"inp",children:[s||""," ",e.required?Object(c.jsx)("span",{style:{color:"#DA2128"},children:"*"}):""]})]})};return Object(c.jsx)(z.a,{value:l,onChange:function(t){s(t),e.changeEvent(_()(t).format("HH:mm"))},customInput:Object(c.jsx)(j,Object(o.a)({},e)),showTimeSelect:!0,showTimeSelectOnly:!0,timeIntervals:15,timeCaption:e.label,dateFormat:"HH:mm"})},ke=a(49),ye=function(e){var t,a=Object(n.useState)(e.value),s=Object(r.a)(a,2),i=s[0],o=s[1],d=Object(n.useState)(null!=e.value),u=Object(r.a)(d,2),b=u[0],j=u[1];return l.a.useEffect((function(){o(e.value)}),[e.value]),Object(c.jsxs)("div",{id:"float-label",className:e.disable?"ipt-disable":"",children:[Object(c.jsx)("textarea",(t={type:"text",className:"fl-text-area",rows:"4",disabled:e.disable,value:i||"",onFocus:e.onFocus,onBlur:e.onBlur},Object(ke.a)(t,"className",e.hideborder?"no-border":""),Object(ke.a)(t,"onChange",(function(t){return a=t.target.value,e.changeEvent&&e.changeEvent(a),o(a),void j(""!==a);var a})),t)),e.icon?Object(c.jsx)("div",{className:"icon",children:Object(c.jsx)("i",{class:"fa ".concat(e.icon),"aria-hidden":"true"})}):null,e.dropdown?Object(c.jsx)("div",{className:"dropdown",children:Object(c.jsx)("i",{class:"fa fa-caret-down","aria-hidden":"true"})}):null,Object(c.jsxs)("label",{className:b||null!=e.value?"Active":"",htmlFor:"inp",children:[e.label||""," ",e.required?Object(c.jsx)("span",{style:{color:"#DA2128"},children:"*"}):""]})]})},He=new le,Me=[{value:"BAN_THAN",label:"Ch\u1ee7 xe"},{value:"KHAC",label:"Kh\xe1c"}],Ve=function(e){var t,a,s,i,u,v,N,A,f,C,D,p,g,S,T,I,R,L,P,y,M,V,U,B,G,X,q,K,W,Q,J,z,Z,$,ee,te,ae,ce,ne,le,re=_()(new Date).format("DD/MM/YYYY"),oe=_()(new Date).add(1,"years").format("DD/MM/YYYY"),de=_()(new Date).format("HH:mm"),ue=Object(n.useState)(e.vehicleInsur),be=Object(r.a)(ue,2),je=be[0],he=be[1],Oe=Object(n.useState)(je.objFeeTNDS?je.objFeeTNDS:De),me=Object(r.a)(Oe,2),Ee=(me[0],me[1]),ve=Object(n.useState)(je.objFeeTN?je.objFeeTN:pe),_e=Object(r.a)(ve,2),Ne=(_e[0],_e[1]),fe=Object(n.useState)(e.listDefineCar),Ce=Object(r.a)(fe,2),Se=Ce[0],xe=Ce[1],Te=Object(n.useState)([]),Le=Object(r.a)(Te,2),ke=Le[0],Ve=Le[1],Ue=Object(n.useState)([]),Ye=Object(r.a)(Ue,2),Be=Ye[0],we=Ye[1],Fe=Object(n.useState)([]),Ge=Object(r.a)(Fe,2),Xe=Ge[0],qe=Ge[1],Ke=Object(n.useState)([]),We=Object(r.a)(Ke,2),Qe=We[0],Je=We[1],ze=Object(n.useState)([]),Ze=Object(r.a)(ze,2),$e=Ze[0],et=Ze[1],tt=Object(n.useState)([]),at=Object(r.a)(tt,2),ct=at[0],nt=at[1],lt=Object(n.useState)([]),st=Object(r.a)(lt,2),it=st[0],rt=st[1],ot=e.listDefineCar?e.listDefineCar[7]:[],dt=e.listDefineCar?e.listDefineCar[8]:[],ut=e.listDefineCar?e.listDefineCar[9]:[],bt=(e.listDefineCar&&e.listDefineCar[10],e.listDefineCar?e.listDefineCar[11]:[]),jt=e.listDefineCar?e.listDefineCar[12]:[],ht=e.listDefineCar?e.listDefineCar[13]:[],Ot=e.listDefineCar?e.listDefineCar[14]:[],mt=(e.listDefineCar&&e.listDefineCar[17],e.listDefineCar.length>0?e.listDefineCar[1]:[]),Et=e.listDefineCar.length>0?e.listDefineCar[0]:[],vt=Object(n.useState)(je.VEHICLE_GROUP?je.VEHICLE_GROUP:null),_t=Object(r.a)(vt,2),Nt=_t[0],At=_t[1],ft=Object(n.useState)(je.VEHICLE_TYPE?je.VEHICLE_TYPE:null),Ct=Object(r.a)(ft,2),Dt=Ct[0],pt=Ct[1],gt=Object(n.useState)(je.VEHICLE_USE?je.VEHICLE_USE:null),St=Object(r.a)(gt,2),xt=St[0],Tt=St[1],It=Object(n.useState)(je.BRAND?je.BRAND:null),Rt=Object(r.a)(It,2),Lt=Rt[0],Pt=Rt[1],kt=Object(n.useState)(je.MODEL?je.MODEL:null),yt=Object(r.a)(kt,2),Ht=yt[0],Mt=yt[1],Vt=Object(n.useState)(je.SEAT_NO?je.SEAT_NO:null),Ut=Object(r.a)(Vt,2),Yt=Ut[0],Bt=Ut[1],wt=Object(n.useState)(je.WEIGH?je.WEIGH:null),Ft=Object(r.a)(wt,2),Gt=Ft[0],Xt=Ft[1],qt=Object(n.useState)(je.NUMBER_PLATE?je.NUMBER_PLATE:null),Kt=Object(r.a)(qt,2),Wt=Kt[0],Qt=Kt[1],Jt=Object(n.useState)(je.CHASSIS_NO?je.CHASSIS_NO:null),zt=Object(r.a)(Jt,2),Zt=zt[0],$t=zt[1],ea=Object(n.useState)(je.ENGINE_NO?je.ENGINE_NO:null),ta=Object(r.a)(ea,2),aa=ta[0],ca=ta[1],na=Object(n.useState)(je.MFG?je.MFG:null),la=Object(r.a)(na,2),sa=la[0],ia=la[1],ra=Object(n.useState)(je.VEHICLE_REGIS||re),oa=Object(r.a)(ra,2),da=oa[0],ua=oa[1],ba=Object(n.useState)(!!je.COMPULSORY_CIVIL&&"1"===(null===(t=je.COMPULSORY_CIVIL)||void 0===t?void 0:t.IS_SERIAL_NUM)),ja=Object(r.a)(ba,2),ha=ja[0],Oa=ja[1],ma=Object(n.useState)(je.COMPULSORY_CIVIL?je.COMPULSORY_CIVIL.SERIAL_NUM:""),Ea=Object(r.a)(ma,2),va=Ea[0],_a=Ea[1],Na=Object(n.useState)((null===(a=je.COMPULSORY_CIVIL)||void 0===a?void 0:a.EFF)||re),Aa=Object(r.a)(Na,2),fa=Aa[0],Ca=Aa[1],Da=Object(n.useState)((null===(s=je.COMPULSORY_CIVIL)||void 0===s?void 0:s.TIME_EFF)||de),pa=Object(r.a)(Da,2),ga=pa[0],Sa=pa[1],xa=Object(n.useState)((null===(i=je.COMPULSORY_CIVIL)||void 0===i?void 0:i.EXP)||oe),Ta=Object(r.a)(xa,2),Ia=Ta[0],Ra=Ta[1],La=Object(n.useState)((null===(u=je.COMPULSORY_CIVIL)||void 0===u?void 0:u.TIME_EXP)||de),Pa=Object(r.a)(La,2),ka=Pa[0],ya=Pa[1],Ha=Object(n.useState)("0"===je.NONE_NUMBER_PLATE),Ma=Object(r.a)(Ha,2),Va=Ma[0],Ua=Ma[1],Ya=Object(n.useState)(null===(v=je.VOLUNTARY_CIVIL)||void 0===v?void 0:v.INSUR_3RD),Ba=Object(r.a)(Ya,2),wa=Ba[0],Fa=Ba[1],Ga=Object(n.useState)(null===(N=je.VOLUNTARY_CIVIL)||void 0===N?void 0:N.INSUR_3RD_ASSETS),Xa=Object(r.a)(Ga,2),qa=Xa[0],Ka=Xa[1],Wa=Object(n.useState)(null===(A=je.VOLUNTARY_CIVIL)||void 0===A?void 0:A.INSUR_PASSENGER),Qa=Object(r.a)(Wa,2),Ja=Qa[0],za=Qa[1],Za=Object(n.useState)(null===(f=je.VOLUNTARY_CIVIL)||void 0===f?void 0:f.DRIVER_INSUR),$a=Object(r.a)(Za,2),ec=$a[0],tc=$a[1],ac=Object(n.useState)((null===(C=je.VOLUNTARY_CIVIL)||void 0===C?void 0:C.WEIGHT_CARGO)||null),cc=Object(r.a)(ac,2),nc=cc[0],lc=cc[1],sc=Object(n.useState)(null===(D=je.VOLUNTARY_CIVIL)||void 0===D?void 0:D.CARGO_INSUR),ic=Object(r.a)(sc,2),rc=ic[0],oc=ic[1],dc=Object(n.useState)(Ae.don_le),uc=Object(r.a)(dc,2),bc=uc[0],jc=(uc[1],Object(n.useState)(!0)),hc=Object(r.a)(jc,2),Oc=hc[0],mc=hc[1],Ec=Object(n.useState)(!0),vc=Object(r.a)(Ec,2),_c=vc[0],Nc=vc[1],Ac=Object(n.useState)(!!je.IS_VOLUNTARY&&"1"===je.IS_VOLUNTARY),fc=Object(r.a)(Ac,2),Cc=fc[0],Dc=fc[1],pc=Object(n.useState)(!!je.IS_DRIVER&&"1"===je.IS_DRIVER),gc=Object(r.a)(pc,2),Sc=gc[0],xc=gc[1],Tc=Object(n.useState)(!!je.IS_CARGO&&"1"===je.IS_CARGO),Ic=Object(r.a)(Tc,2),Rc=Ic[0],Lc=Ic[1],Pc=Object(n.useState)(!0),kc=Object(r.a)(Pc,2),yc=kc[0],Hc=(kc[1],Object(n.useState)((null===(p=je.PHYSICAL_DAMAGE)||void 0===p?void 0:p.PACK_CODE)||null)),Mc=Object(r.a)(Hc,2),Vc=Mc[0],Uc=Mc[1],Yc=Object(n.useState)((null===(g=je.PHYSICAL_DAMAGE)||void 0===g?void 0:g.INSUR_DEDUCTIBLE)||null),Bc=Object(r.a)(Yc,2),wc=Bc[0],Fc=Bc[1],Gc=Object(n.useState)((null===je||void 0===je?void 0:je.VEHICLE_VALUE)?k(null===je||void 0===je?void 0:je.VEHICLE_VALUE):"0"),Xc=Object(r.a)(Gc,2),qc=Xc[0],Kc=Xc[1],Wc=Object(n.useState)(je.REF_VEHICLE_VALUE),Qc=Object(r.a)(Wc,2),Jc=Qc[0],zc=Qc[1],Zc=Object(n.useState)((null===(S=je.PHYSICAL_DAMAGE)||void 0===S?void 0:S.ADDITIONAL)||[]),$c=Object(r.a)(Zc,2),en=$c[0],tn=$c[1],an=Object(n.useState)((null===(T=je.PHYSICAL_DAMAGE)||void 0===T?void 0:T.ADDITIONAL)||[]),cn=Object(r.a)(an,2),nn=cn[0],ln=cn[1],sn=Object(n.useState)((null===(I=je.PHYSICAL_DAMAGE)||void 0===I?void 0:I.EFF)||re),rn=Object(r.a)(sn,2),on=rn[0],dn=rn[1],un=Object(n.useState)((null===(R=je.PHYSICAL_DAMAGE)||void 0===R?void 0:R.TIME_EFF)||de),bn=Object(r.a)(un,2),jn=bn[0],hn=bn[1],On=Object(n.useState)((null===(L=je.PHYSICAL_DAMAGE)||void 0===L?void 0:L.EXP)||oe),mn=Object(r.a)(On,2),En=mn[0],vn=mn[1],_n=Object(n.useState)((null===(P=je.PHYSICAL_DAMAGE)||void 0===P?void 0:P.TIME_EXP)||de),Nn=Object(r.a)(_n,2),An=Nn[0],fn=Nn[1],Cn=Object(n.useState)(null===(y=je.PHYSICAL_DAMAGE)||void 0===y?void 0:y.IS_VEHICLE_LOSS),Dn=Object(r.a)(Cn,2),pn=Dn[0],gn=Dn[1],Sn=Object(n.useState)((null===(M=je.PHYSICAL_DAMAGE)||void 0===M?void 0:M.VEHICLE_LOSS_AMOUNT)?k(null===(V=je.PHYSICAL_DAMAGE)||void 0===V?void 0:V.VEHICLE_LOSS_AMOUNT):"0"),xn=Object(r.a)(Sn,2),Tn=xn[0],In=xn[1],Rn=Object(n.useState)((null===(U=je.PHYSICAL_DAMAGE)||void 0===U?void 0:U.VEHICLE_LOSS_NUM)||null),Ln=Object(r.a)(Rn,2),Pn=Ln[0],kn=Ln[1],yn=Object(n.useState)("1"===(null===(B=je.PHYSICAL_DAMAGE)||void 0===B?void 0:B.IS_DISCOUNT)),Hn=Object(r.a)(yn,2),Mn=Hn[0],Vn=(Hn[1],Object(n.useState)((null===(G=je.PHYSICAL_DAMAGE)||void 0===G?void 0:G.DISCOUNT)||null)),Un=Object(r.a)(Vn,2),Yn=Un[0],Bn=Un[1],wn=Object(n.useState)((null===(X=je.PHYSICAL_DAMAGE)||void 0===X?void 0:X.DISCOUNT_UNIT)||null),Fn=Object(r.a)(wn,2),Gn=Fn[0],Xn=Fn[1],qn=Object(n.useState)((null===(q=je.PHYSICAL_DAMAGE)||void 0===q?void 0:q.REASON_DISCOUNT)||null),Kn=Object(r.a)(qn,2),Wn=Kn[0],Qn=Kn[1],Jn=Object(n.useState)("1"===(null===(K=je.PHYSICAL_DAMAGE)||void 0===K?void 0:K.IS_SEND_HD)),zn=Object(r.a)(Jn,2),Zn=zn[0],$n=zn[1],el=Object(n.useState)((null===(W=je.PHYSICAL_DAMAGE)||void 0===W?void 0:W.SURVEYOR_TYPE)||Ae.dl_chup),tl=Object(r.a)(el,2),al=tl[0],cl=tl[1],nl=Object(n.useState)((null===(Q=je.PHYSICAL_DAMAGE)||void 0===Q?void 0:Q.CALENDAR_EFF)||re),ll=Object(r.a)(nl,2),sl=ll[0],il=ll[1],rl=Object(n.useState)(re),ol=Object(r.a)(rl,2),dl=(ol[0],ol[1],Object(n.useState)((null===(J=je.PHYSICAL_DAMAGE)||void 0===J?void 0:J.CALENDAR_TIME_F)||de)),ul=Object(r.a)(dl,2),bl=ul[0],jl=ul[1],hl=Object(n.useState)((null===(z=je.PHYSICAL_DAMAGE)||void 0===z?void 0:z.CALENDAR_TIME_T)||de),Ol=Object(r.a)(hl,2),ml=Ol[0],El=Ol[1],vl=Object(n.useState)((null===(Z=je.PHYSICAL_DAMAGE)||void 0===Z?void 0:Z.CALENDAR_CONTACT)||null),_l=Object(r.a)(vl,2),Nl=_l[0],Al=_l[1],fl=Object(n.useState)((null===($=je.PHYSICAL_DAMAGE)||void 0===$?void 0:$.CALENDAR_PHONE)||null),Cl=Object(r.a)(fl,2),Dl=Cl[0],pl=Cl[1],gl=Object(n.useState)((null===(ee=je.PHYSICAL_DAMAGE)||void 0===ee?void 0:ee.CALENDAR_ADDRESS)||null),Sl=Object(r.a)(gl,2),xl=Sl[0],Tl=Sl[1],Il=Object(n.useState)({label:null===(te=je.PHYSICAL_DAMAGE)||void 0===te?void 0:te.CALENDAR_ADDRESS_FORM,prov:null===(ae=je.PHYSICAL_DAMAGE)||void 0===ae?void 0:ae.CALENDAR_PROV,dist:null===(ce=je.PHYSICAL_DAMAGE)||void 0===ce?void 0:ce.CALENDAR_DIST,ward:null===(ne=je.PHYSICAL_DAMAGE)||void 0===ne?void 0:ne.CALENDAR_WARDS}||{}),Rl=Object(r.a)(Il,2),Ll=Rl[0],Pl=Rl[1],kl=null===je||void 0===je||null===(le=je.PHYSICAL_DAMAGE)||void 0===le?void 0:le.BENEFICIARY[0],yl=Object(n.useState)((null===kl||void 0===kl?void 0:kl.RELATIONSHIP)?null===kl||void 0===kl?void 0:kl.RELATIONSHIP:Ae.relationship),Hl=Object(r.a)(yl,2),Ml=Hl[0],Vl=Hl[1],Ul=Object(n.useState)((null===kl||void 0===kl?void 0:kl.TYPE)?null===kl||void 0===kl?void 0:kl.TYPE:Ae.customer_type),Yl=Object(r.a)(Ul,2),Bl=Yl[0],wl=Yl[1],Fl=Object(n.useState)(null===kl||void 0===kl?void 0:kl.GENDER),Gl=Object(r.a)(Fl,2),Xl=Gl[0],ql=Gl[1],Kl=Object(n.useState)(null===kl||void 0===kl?void 0:kl.NAME),Wl=Object(r.a)(Kl,2),Ql=Wl[0],Jl=Wl[1],zl=Object(n.useState)(null===kl||void 0===kl?void 0:kl.PHONE),Zl=Object(r.a)(zl,2),$l=Zl[0],es=Zl[1],ts=Object(n.useState)(null===kl||void 0===kl?void 0:kl.EMAIL),as=Object(r.a)(ts,2),cs=as[0],ns=as[1],ls=Object(n.useState)(null===kl||void 0===kl?void 0:kl.IDCARD),ss=Object(r.a)(ls,2),is=ss[0],rs=ss[1],os=Object(n.useState)(null===kl||void 0===kl?void 0:kl.ADDRESS),ds=Object(r.a)(os,2),us=ds[0],bs=ds[1],js=Object(n.useState)({label:null===kl||void 0===kl?void 0:kl.ADDRESS_FORM,prov:null===kl||void 0===kl?void 0:kl.PROV,dist:null===kl||void 0===kl?void 0:kl.DIST,ward:null===kl||void 0===kl?void 0:kl.WARDS}||{}),hs=Object(r.a)(js,2),Os=hs[0],ms=hs[1],Es=Object(n.useState)(null===kl||void 0===kl?void 0:kl.TAXCODE),vs=Object(r.a)(Es,2),_s=vs[0],Ns=vs[1],As=Object(n.useState)(!1),fs=Object(r.a)(As,2),Cs=fs[0],Ds=fs[1],ps=Object(n.useState)(!1),gs=Object(r.a)(ps,2),Ss=gs[0],xs=gs[1],Ts=Object(n.useState)({}),Is=Object(r.a)(Ts,2),Rs=Is[0],Ls=Is[1],Ps=Object(n.useState)([]),ks=Object(r.a)(Ps,2),ys=(ks[0],ks[1],function(e,t,a){return e.map((function(e,c){return Object(o.a)(Object(o.a)({},e),{},{VAL_CODE:e.VAL_CODE.replace(t,a)})}))}),Hs=function(e){Vl(e.target.value)},Ms=function(e){wl(e.target.value)};Object(n.useEffect)((function(){xe(e.listDefineCar),Ve(e.listDefineCar?e.listDefineCar[2]:[]),we(e.listDefineCar?e.listDefineCar[3]:[]),qe(e.listDefineCar?e.listDefineCar[4]:[]),Je(e.listDefineCar?e.listDefineCar[16]:[]),et(e.listDefineCar?e.listDefineCar[5]:[]),nt(e.listDefineCar?e.listDefineCar[6]:[]),rt(e.listDefineCar?e.listDefineCar[15]:[])}),[e.listDefineCar]),Object(n.useEffect)((function(){Cc||(Fa(""),Ka(""),za("")),Sc||tc(""),Rc||(oc(null),lc(""))}),[Cc,Sc,Rc]),Object(n.useEffect)((function(){he(e.vehicleInsur)}),[e.vehicleInsur]),Object(n.useEffect)((function(){if(e.flagFee){var t=e.listDefineCar[3].filter((function(e){return e.VH_GROUP_DT===Nt}));we(t);var a=e.listDefineCar[5].filter((function(e){return e.VH_GROUP_DT===Nt}));et(a);var c=e.listDefineCar[6].filter((function(e){return e.VH_CODE===Lt}));nt(c)}}),[e.flagFee]),Object(n.useEffect)((function(){if(Dt){var t=e.listDefineCar[3].find((function(e){return e.value===Dt}));t&&Tt(t.CAR_PURPOSE?t.CAR_PURPOSE:null)}}),[Dt]),Object(n.useEffect)((function(){var e=_()().year()-parseInt(sa);e<3&&setTimeout((function(){ln(null===nn||void 0===nn?void 0:nn.filter((function(e){return"BS01/HDI-XCG"!==e.KEY&&"BS02/HDI-XCG"!==e.KEY}))),tn(null===en||void 0===en?void 0:en.filter((function(e){return"BS01/HDI-XCG"!==e.KEY&&"BS02/HDI-XCG"!==e.KEY})))}),200),e<6&&(ln(null===nn||void 0===nn?void 0:nn.filter((function(e){return"BS02/HDI-XCG"!==e.KEY}))),tn(en.filter((function(e){return"BS02/HDI-XCG"!==e.KEY}))))}),[sa]);var Vs=function(t,a){switch(a){case Ae.vehicle_group:if(At(t),e.listDefineCar){Ae.xe_may.includes(t)&&(Tt(null),Bt(null),Xt(null));var c=e.listDefineCar[3].filter((function(e){return e.VH_GROUP_DT===t}));if(we(c),Dt){pt(c.length>0?c[0].value:null);var n=e.listDefineCar[3].find((function(e){return e.value===c[0].value}));Tt(n?n.CAR_PURPOSE:null)}var l=e.listDefineCar[5].filter((function(e){return e.VH_GROUP_DT===t}));et(l);var s=l.length>0?l[0].value:null;Lt&&Pt(s);var i=e.listDefineCar[6].filter((function(e){return e.VH_CODE===s}));nt(i),Ht&&(Mt(i.length>0?i[0].value:null),zc(i.length>0?i[0].PRICE:null))}break;case Ae.vehicle_type:pt(t);break;case Ae.muc_dich_kd:Tt(t);break;case Ae.hang_xe:Pt(t);var r=e.listDefineCar[6].filter((function(e){return e.VH_CODE===t}));nt(r),Ht&&(Mt(r.length>0?r[0].value:null),zc(r.length>0?r[0].PRICE:null));break;case Ae.hieu_xe:Mt(t);var o=e.listDefineCar[6].filter((function(e){return e.value===t}));zc(o.length>0?o[0].PRICE:null)}},Us=function(e){cl(e.target.value)},Ys=function(){var e=Object(j.a)(b.a.mark((function e(){var t,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ds(!0),t={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"API73BHAIB"},Data:{CHANNEL:"SELLING",USERNAME:"ADMIN",LANG:"BH_S",CATEGORY:"XE",PRODUCT_CODE:"XCG_VCX_NEW",TYPE_RECORD:"NUMBER_PLATE",OBJ_DATA:{a:"tuan"}},Signature:"034F0DA18BCBDDDB216211594505FB0D8877BB41BE73F6285AECFF7939FA051A"},e.prev=2,e.next=5,He.post("/OpenApi/hdi/v1/record/qr",t);case 5:(a=e.sent).Success?(console.log("rs",a),F(null===(c=a.Data)||void 0===c?void 0:c.BASE64_QR),Ds(!1)):Y(a.ErrorMessage),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(l.a.Fragment,{children:[Object(c.jsx)("div",{className:"form-content",children:Object(c.jsx)("label",{className:"col-form-label",children:"Th\xf4ng tin xe"})}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{label:"Nh\xf3m xe",disable:!1,required:!0,value:Nt,changeEvent:function(e){return Vs(e,Ae.vehicle_group)},dropdown:!0,data:ke||[],error:Rs.vehicleGroup})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"Lo\u1ea1i xe",value:Dt,changeEvent:function(e){return Vs(e,Ae.vehicle_type)},dropdown:!0,required:!0,search:!0,data:Be||[],error:Rs.typeVehicle})}),Ae.check_type_car.includes(Nt)&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"M\u1ee5c \u0111\xedch s\u1eed d\u1ee5ng",value:xt,changeEvent:function(e){return Vs(e,Ae.muc_dich_kd)},dropdown:!0,required:!0,data:Xe||[],error:Rs.usesPurpose})}),Object(c.jsx)("div",{className:"col-3 form-group",children:Object(c.jsx)(Ie,{label:"H\xe3ng xe",disable:!1,required:!0,search:!0,value:Lt,changeEvent:function(e){return Vs(e,Ae.hang_xe)},dropdown:!0,data:$e||[],error:Rs.manufacturer})}),Object(c.jsx)("div",{className:"col-3 form-group",children:Object(c.jsx)(Ie,{label:"Hi\u1ec7u xe",disable:!1,required:!0,search:!0,value:Ht,changeEvent:function(e){return Vs(e,Ae.hieu_xe)},dropdown:!0,data:ct||[],error:Rs.vehicleBrand})}),(Ae.check_type_car.includes(Nt)||Ae.xe_may.includes(Nt))&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"S\u1ed1 ch\u1ed7 ng\u1ed3i",value:Yt,changeEvent:Bt,required:!0,error:Rs.numberSeats})}),Ae.check_weigh.includes(Nt)&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"Tr\u1ecdng t\u1ea3i (t\u1ea5n)",value:Gt,changeEvent:Xt,required:!0,error:Rs.weigh})})]}),Object(c.jsx)("div",{className:"row form-group",children:Object(c.jsxs)(m.a,{custom:!0,type:"switch",children:[Object(c.jsx)(m.a.Input,{checked:Va}),Object(c.jsx)(m.a.Label,{onClick:function(){Ua(!Va)},children:"Xe m\u1edbi ch\u01b0a c\xf3 bi\u1ec3n s\u1ed1 xe"})]})}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"Bi\u1ec3n ki\u1ec3m so\xe1t",value:Wt,changeEvent:Qt,required:!Va,error:Rs.numberPlate})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"S\u1ed1 m\xe1y",value:aa,changeEvent:ca,required:!!Va,error:Rs.engineNo})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"S\u1ed1 khung",value:Zt,changeEvent:$t,required:!!Va,error:Rs.chassisNo})})]}),Object(c.jsx)("div",{className:"form-group form-group-cus-check",children:Object(c.jsxs)(O.a.Check,{type:"checkbox",id:"cus-checkbox-tnds",children:[Object(c.jsx)(O.a.Check.Input,{type:"checkbox",value:Oc,checked:Oc,onChange:function(e){mc(!Oc)}}),Object(c.jsx)(O.a.Label,{children:e.sdk_params.product_code===Ae.product_code?"B\u1ea3o hi\u1ec3m TNDS b\u1eaft bu\u1ed9c & t\u1ef1 nguy\u1ec7n":"B\u1ea3o hi\u1ec3m TNDS t\u1ef1 nguy\u1ec7n"})]})}),Oc&&Object(c.jsxs)("div",{className:"form-content-type",children:[e.sdk_params.product_code===Ae.product_code&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row form-group",children:Object(c.jsxs)(m.a,{custom:!0,type:"switch",children:[Object(c.jsx)(m.a.Input,{checked:ha}),Object(c.jsx)(m.a.Label,{onClick:function(){Oa(!ha)},children:"\u0110\xe3 c\u1ea5p \u1ea5n ch\u1ec9 b\u1ea3n c\u1ee9ng"})]})}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"S\u1ed1 GCN tr\xean ph\xf4i",value:va,changeEvent:_a,required:!0,disable:!ha,error:Rs.serialNum})}),Object(c.jsx)("div",{className:"col-9",children:Object(c.jsxs)("div",{className:"group-ipu-cus",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(ie,{disable:!1,value:fa,changeEvent:Ca,selectedDay:x(fa),label:"Ng\xe0y hi\u1ec7u l\u1ef1c",required:!0,error:""})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Pe,{label:"Gi\u1edd hi\u1ec7u l\u1ef1c",value:ga,eff:fa,changeEvent:Sa,required:!0})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(ie,{disable:!1,value:Ia,changeEvent:Ra,selectedDay:x(Ia),label:"Ng\xe0y k\u1ebft th\xfac",required:!0,error:""})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Pe,{label:"Gi\u1edd k\u1ebft th\xfac",value:ka,eff:Ia,changeEvent:ya,required:!0})})]})})]}),Object(c.jsx)("div",{className:"form-group-cus-check",children:Object(c.jsxs)(O.a.Check,{type:"checkbox",id:"cus-checkbox-rq-tnds",children:[Object(c.jsx)(O.a.Check.Input,{type:"checkbox",value:_c,checked:_c,onChange:function(e){Nc(!_c)}}),Object(c.jsx)(O.a.Label,{children:"B\u1ea3o hi\u1ec3m TNDS b\u1eaft bu\u1ed9c"})]})})]}),Object(c.jsx)("div",{className:"form-group-cus-check",children:Object(c.jsxs)(O.a.Check,{type:"checkbox",id:"cus-checkbox-tndstn",children:[Object(c.jsx)(O.a.Check.Input,{type:"checkbox",value:Cc,checked:Cc,onChange:function(e){Dc(!Cc)},disabled:!_c}),Object(c.jsx)(O.a.Label,{children:"B\u1ea3o hi\u1ec3m TNDS t\u1ef1 nguy\u1ec7n (v\u01b0\u1ee3t qu\xe1 m\u1ee9c TNDS b\u1eaft bu\u1ed9c)"})]})}),Cc&&Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"Thi\u1ec7t h\u1ea1i th\xe2n th\u1ec3 ng\u01b0\u1eddi th\u1ee9 3",value:wa,changeEvent:Fa,positionSelect:"column",dropdown:!0,required:!0,data:ot||[],error:Rs.insur3D})}),Ae.thiet_hai_than_the_hk.includes(Nt)&&xt===Ae.muc_dich_use&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"Thi\u1ec7t h\u1ea1i th\xe2n th\u1ec3 h\xe0nh kh\xe1ch",value:Ja,changeEvent:za,positionSelect:"column",dropdown:!0,required:!0,data:dt||[],error:Rs.insurPassenger})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"Thi\u1ec7t h\u1ea1i t\xe0i s\u1ea3n ng\u01b0\u1eddi th\u1ee9 3",value:qa,changeEvent:Ka,positionSelect:"column",dropdown:!0,required:!0,data:ut||[],error:Rs.insur3DAssets})})]}),Object(c.jsx)("div",{className:"form-group-cus-check",children:Object(c.jsxs)(O.a.Check,{type:"checkbox",id:"cus-checkbox-lpx",children:[Object(c.jsx)(O.a.Check.Input,{type:"checkbox",value:Sc,checked:Sc,onChange:function(e){xc(!Sc)},disabled:!_c}),Object(c.jsx)(O.a.Label,{children:"B\u1ea3o hi\u1ec3m l\xe1i, ph\u1ee5 xe v\xe0 ng\u01b0\u1eddi ng\u1ed3i tr\xean xe"})]})}),Sc&&Object(c.jsx)("div",{className:"row form-group",children:Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"S\u1ed1 ti\u1ec1n b\u1ea3o hi\u1ec3m",value:ec,changeEvent:tc,positionSelect:"column",dropdown:!0,required:!0,data:bt||[],error:Rs.driverInsur})})}),Object(c.jsx)("div",{className:"form-group-cus-check",children:Object(c.jsxs)(O.a.Check,{type:"checkbox",id:"cus-checkbox-hhx",children:[Object(c.jsx)(O.a.Check.Input,{type:"checkbox",value:Rc,checked:Rc,onChange:function(e){Lc(!Rc)},disabled:!_c}),Object(c.jsx)(O.a.Label,{children:"B\u1ea3o hi\u1ec3m TNDS c\u1ee7a ch\u1ee7 xe \u0111\u1ed1i v\u1edbi h\xe0ng h\xf3a"})]})}),Rc&&Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"H\xe0ng h\xf3a \u0111\u01b0\u1ee3c BH (T\u1ea5n)",value:nc,changeEvent:lc,required:!0,error:Rs.weightCargo})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"M\u1ee9c tr\xe1ch nhi\u1ec7m",value:rc,changeEvent:oc,dropdown:!0,required:!0,data:jt||[],positionSelect:"column",error:Rs.cargoInsur})})]})]}),e.sdk_params.product_code!==Ae.product_code&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"form-group form-group-cus-check",children:Object(c.jsxs)(O.a.Check,{type:"checkbox",id:"cus-checkbox-vcx",children:[Object(c.jsx)(O.a.Check.Input,{type:"checkbox",value:yc,checked:yc}),Object(c.jsx)(O.a.Label,{children:"B\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t xe"})]})}),yc&&Object(c.jsxs)("div",{className:"form-content-type",children:[Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"Ch\u01b0\u01a1ng tr\xecnh b\u1ea3o hi\u1ec3m",value:Vc,changeEvent:Uc,dropdown:!0,required:!0,error:Rs.packCode,data:ht||[]})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"N\u0103m s\u1ea3n xu\u1ea5t",value:sa,changeEvent:ia,dropdown:!0,required:!0,error:Rs.mfg,data:w()})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(ie,{disable:!1,value:da,changeEvent:ua,selectedDay:x(da),label:"Ng\xe0y \u0111\u0103ng k\xfd xe",required:!0,error:Rs.vehicleRegis})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"M\u1ee9c mi\u1ec5n th\u01b0\u1eddng",value:wc,changeEvent:Fc,dropdown:!0,required:!0,error:Rs.insurDeductible,data:Ot||[]})})]}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"Gi\xe1 tr\u1ecb xe tham kh\u1ea3o",value:Jc?k(Jc)+" VND":null,disable:!0})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"Gi\xe1 tr\u1ecb xe",value:qc,changeEvent:function(e){return Kc(H(e))},required:!0,error:Rs.vehicleValue})}),Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsxs)("div",{className:"btn-dkbs-vcx",onClick:function(){return xs(!0)},children:["\u0110i\u1ec1u kho\u1ea3n b\u1ed5 sung ",en.length>0?"( \u0110\xe3 ch\u1ecdn "+en.length+" )":""]}),Object(c.jsxs)(E.a,{show:Ss,onHide:function(){return xs(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(E.a.Header,{closeButton:!0,children:Object(c.jsx)(E.a.Title,{className:"header-dkbs",children:"Ch\u1ecdn \u0111i\u1ec1u kho\u1ea3n b\u1ed5 sung"})}),Object(c.jsxs)(E.a.Body,{children:[it?it.map((function(e,t){var a=_()().year()-parseInt(sa);return!(a<3&&"BS01/HDI-XCG"===e.value)&&(!(a<6&&"BS02/HDI-XCG"===e.value)&&Object(c.jsx)("div",{className:"form-group-cus-check",children:Object(c.jsxs)("div",{className:"form-check form-check-inline",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",name:"checkDKBS",id:"checkbox-dkbs-"+t,value:e.value,checked:nn.some((function(t){return t.KEY===e.value})),onChange:function(t){return function(e,t,a){var c=e.target.value,n=nn.find((function(e){return e.KEY===a.value}));ln(n?nn.filter((function(e){return e.KEY!==a.value})):[].concat(Object(d.a)(nn),[{KEY:c}]))}(t,0,e)}}),Object(c.jsx)("label",{className:"form-check-label",htmlFor:"checkbox-dkbs-"+t,children:e.label})]})}))})):null,Object(c.jsx)("div",{className:"btn-save-dkbs",onClick:function(){tn(nn),xs(!1)},children:"L\u01b0u"})]})]})]})]}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(ie,{disable:!1,value:on,changeEvent:dn,selectedDay:x(on),label:"Ng\xe0y b\u1eaft \u0111\u1ea7u ",required:!0,error:""})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Pe,{label:"Gi\u1edd b\u1eaft \u0111\u1ea7u",value:jn,eff:on,changeEvent:hn,required:!0})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(ie,{disable:!1,value:En,changeEvent:vn,selectedDay:x(En),label:"Ng\xe0y k\u1ebft th\xfac",required:!0,error:""})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Pe,{label:"Gi\u1edd k\u1ebft th\xfac",value:An,eff:En,changeEvent:fn,required:!0})})]}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("div",{className:"vcx-lstt",children:"L\u1ecbch s\u1eed t\u1ed5n th\u1ea5t c\u1ee7a XCG"})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"Xe c\xf3 b\u1ecb t\u1ed5n th\u1ea5t kh\xf4ng?",value:pn,changeEvent:gn,dropdown:!0,required:!0,error:Rs.vehicleLoss,data:[{value:"0",label:"Xe kh\xf4ng b\u1ecb t\u1ed5n th\u1ea5t"},{value:"1",label:"Xe b\u1ecb t\u1ed5n th\u1ea5t"}]})}),"0"===pn&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"S\u1ed1 n\u0103m kh\xf4ng b\u1ecb t\u1ed5n th\u1ea5t",value:Pn,changeEvent:kn,dropdown:!0,required:!0,error:Rs.vehicleLossNum,data:[{value:"1",label:"1 n\u0103m"},{value:"2",label:"2 n\u0103m"},{value:"3",label:"3 n\u0103m"}]})}),"1"===pn&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"S\u1ed1 ti\u1ec1n b\u1ecb t\u1ed5n th\u1ea5t",value:Tn,changeEvent:function(e){return In(H(e))},required:!0,error:Rs.amountOfLoss})})]}),Mn&&Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("div",{style:{marginBottom:8},children:Object(c.jsx)(Ie,{disable:!1,label:"Gi\u1ea3m ph\xed theo",value:Gn,changeEvent:Xn,dropdown:!0,required:!0,error:Rs.discountUnit,data:[{value:"%",label:"% (ph\u1ea7n tr\u0103m)"},{value:"VND",label:"VND"}]})}),Object(c.jsx)(se,{label:"Gi\xe1 tr\u1ecb gi\u1ea3m",value:Yn,changeEvent:Bn,required:!0,error:Rs.discount})]}),Object(c.jsx)("div",{className:"col-9",children:Object(c.jsx)(ye,{label:"L\xfd do gi\u1ea3m ph\xed",value:Wn,changeEvent:Qn,required:!0,error:Rs.reasonDiscount})})]}),Object(c.jsx)("div",{className:"form-group form-group-cus-check",children:Object(c.jsxs)(O.a.Check,{type:"checkbox",id:"cus-check-is-hd",children:[Object(c.jsx)(O.a.Check.Input,{type:"checkbox",value:Zn,checked:Zn,onChange:function(){$n(!Zn)}}),Object(c.jsx)(O.a.Label,{children:"G\u1eedi B\u1ea3o hi\u1ec3m HD duy\u1ec7t gi\xe1m \u0111\u1ecbnh c\u1ea5p \u0111\u01a1n"})]})}),Object(c.jsx)("div",{className:"rd-group",children:Qe?Qe.map((function(e,t){return Object(c.jsxs)("label",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"radio",value:e.value,onChange:Us,checked:al===e.value}),e.label]})})):null}),al===Ae.dl_chup&&Object(c.jsx)("div",{className:"form-scan-qr",onClick:function(){Ys()},children:Cs?Object(c.jsxs)("div",{className:"label-scan-qr",children:[Object(c.jsx)(h.a,{animation:"border",role:"status",style:{width:18,height:18,marginRight:8}}),"Vui l\xf2ng \u0111\u1ee3i..."]}):Object(c.jsx)("label",{className:"label-scan-qr",children:"\u1ea4n v\xe0o \u0111\xe2y \u0111\u1ec3 ch\u1ee5p \u1ea3nh"})}),al===Ae.gd_theo_kh?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(ie,{disable:!1,value:sl,changeEvent:il,selectedDay:x(sl),label:"Ng\xe0y h\u1eb9n",required:!0,error:Rs.calendarEff})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Pe,{label:"T\u1eeb gi\u1edd",value:bl,eff:sl,changeEvent:jl,required:!0,error:Rs.calendarTimeF})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Pe,{label:"\u0110\u1ebfn gi\u1edd",value:ml,eff:sl,changeEvent:El,required:!0,error:Rs.calendarTimeT})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"T\xean kh\xe1ch h\xe0ng",value:Nl,changeEvent:Al,required:!0,error:Rs.calendarContact})})]}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:Dl,changeEvent:pl,required:!0,error:Rs.calendarPhone})}),Object(c.jsx)("div",{className:"col-9",children:Object(c.jsxs)("div",{className:"group-ipu-cus",children:[Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(se,{label:"S\u1ed1 nh\xe0, ng\xf5 / ng\xe1ch, \u0111\u01b0\u1eddng",value:xl,changeEvent:Tl,required:!0,error:Rs.calendarAddress})}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsx)(Re,{disable:!1,changeEvent:Pl,value:Ll,positionSelect:"column",label:"T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3",required:!0,error:Rs.calendarAddressCode})})]})})]})]}):null,Object(c.jsx)("div",{className:"form-content",style:{marginTop:16},children:Object(c.jsx)("label",{className:"col-form-label",children:"Th\xf4ng tin th\u1ee5 h\u01b0\u1edfng cho kh\xe1ch h\xe0ng mua b\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t xe"})}),Object(c.jsxs)("div",{className:"row form-choose-type",children:[Object(c.jsxs)("p",{className:"col-12 col-md-2 col-xl-2 col-sm-12",children:["Ch\u1ecdn ng\u01b0\u1eddi th\u1ee5 h\u01b0\u1edfng ",Object(c.jsx)("label",{style:{color:"red"},children:"*"})]}),Object(c.jsx)("div",{className:"col-12 col-md-10 col-xl-10 col-sm-12 rd-group",children:Me?Me.map((function(e,t){return Object(c.jsxs)("label",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"radio",value:e.value,onChange:Hs,checked:Ml===e.value}),e.label]},t)})):null})]}),"KHAC"===Ml&&Object(c.jsxs)("div",{className:"row form-choose-type",children:[Object(c.jsx)("p",{className:"col-12 col-md-2 col-xl-2 col-sm-12",children:"Ng\u01b0\u1eddi th\u1ee5 h\u01b0\u1edfng kh\xe1c l\xe0? *"}),Object(c.jsx)("div",{className:"col-12 col-md-10 col-xl-10 col-sm-12 rd-group",children:mt?mt.map((function(e,t){return Object(c.jsxs)("label",{className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"radio",value:e.value,onChange:Ms,checked:Bl===e.value}),e.label]},t)})):null})]}),"KHAC"===Ml&&Bl&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"row",children:[Bl===Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(Ie,{disable:!1,label:"Danh x\u01b0ng",value:Xl,changeEvent:ql,dropdown:!0,required:!0,data:Et.length>0?Et:[],error:Rs.genderBNF})}),Bl===Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"H\u1ecd t\xean",value:Ql,changeEvent:Jl,required:!0,error:Rs.nameBNF})}),Bl!==Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"T\xean t\u1ed5 ch\u1ee9c",value:Ql,changeEvent:Jl,required:!0,error:Rs.nameBNF})}),Bl!==Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"M\xe3 s\u1ed1 thu\u1ebf",value:_s,changeEvent:Ns,required:!0,error:Rs.taxCodeBNF})}),Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i",value:$l,changeEvent:es,required:!0,error:Rs.phoneBNF})}),Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"Email",value:cs,changeEvent:ns,error:Rs.emailBNF})})]}),Object(c.jsxs)("div",{className:"row",children:[Bl===Ae.customer_type&&Object(c.jsx)("div",{className:"col-12 col-md-3 form-group",children:Object(c.jsx)(se,{label:"CMND/ CCCD/ H\u1ed9 chi\u1ebfu",value:is,changeEvent:rs,required:!0,error:Rs.idCardBNF})}),Object(c.jsx)("div",{className:"col-12 col-md-9 form-group",children:Object(c.jsxs)("div",{className:"group-ipu-cus",children:[Object(c.jsx)("div",{className:"col-12 col-md-6",children:Object(c.jsx)(se,{label:"S\u1ed1 nh\xe0, ng\xf5 / ng\xe1ch, \u0111\u01b0\u1eddng",value:us,changeEvent:bs,required:!0,error:Rs.addressBNF})}),Object(c.jsx)("div",{className:"col-12 col-md-6 form-group",children:Object(c.jsx)(Re,{disable:!1,changeEvent:ms,value:Os,positionSelect:"column",label:"T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3",required:!0,error:Rs.addressCodeBNF})})]})})]})]})]})]}),Object(c.jsx)("div",{className:"btn-next-step",onClick:function(){if(function(){var t={},a=!0;return Nt||(a=!1,t.vehicleGroup="Vui l\xf2ng ch\u1ecdn nh\xf3m xe"),Dt||(a=!1,t.typeVehicle="Vui l\xf2ng ch\u1ecdn lo\u1ea1i xe"),Ae.check_type_car.includes(Nt)&&(xt||(a=!1,t.usesPurpose="Vui l\xf2ng ch\u1ecdn m\u1ee5c \u0111\xedch s\u1eed d\u1ee5ng"),Yt&&parseInt(Yt)>60&&(a=!1,t.numberSeats="Kh\xf4ng h\u1ed7 tr\u1ee3 v\u1edbi c\xe1c lo\u1ea1i xe l\u1edbn h\u01a1n 60 ch\u1ed7")),Yt||(a=!1,t.numberSeats="Vui l\xf2ng nh\u1eadp s\u1ed1 ch\u1ed7 ng\u1ed3i"),Lt||(a=!1,t.manufacturer="Vui l\xf2ng ch\u1ecdn h\xe3ng xe"),Ht||(a=!1,t.vehicleBrand="Vui l\xf2ng ch\u1ecdn hi\u1ec7u xe"),Ae.check_weigh.includes(Nt)&&(Gt||(a=!1,t.weigh="Vui l\xf2ng nh\u1eadp tr\u1ecdng t\u1ea3i")),Va?(aa||(a=!1,t.engineNo="Vui l\xf2ng nh\u1eadp s\u1ed1 m\xe1y"),Zt||(a=!1,t.chassisNo="Vui l\xf2ng nh\u1eadp s\u1ed1 khung")):Wt||(a=!1,t.numberPlate="Vui l\xf2ng nh\u1eadp bi\u1ec3n ki\u1ec3m so\xe1t"),ha&&(va||(a=!1,t.serialNum="Vui l\xf2ng nh\u1eadp s\u1ed1 GCN tr\xean ph\xf4i")),Cc&&(wa||(a=!1,t.insur3D="Vui l\xf2ng ch\u1ecdn thi\u1ec7t h\u1ea1i th\xe2n th\u1ec3 ng\u01b0\u1eddi th\u1ee9 3"),Ae.thiet_hai_than_the_hk.includes(Nt)&&xt===Ae.muc_dich_use&&(Ja||(a=!1,t.insurPassenger="Vui l\xf2ng ch\u1ecdn thi\u1ec7t h\u1ea1i th\xe2n th\u1ec3 h\xe0nh kh\xe1ch")),qa||(a=!1,t.insur3DAssets="Vui l\xf2ng ch\u1ecdn thi\u1ec7t h\u1ea1i t\xe0i s\u1ea3n ng\u01b0\u1eddi th\u1ee9 3")),Sc&&(ec||(a=!1,t.driverInsur="Vui l\xf2ng ch\u1ecdn s\u1ed1 ti\u1ec1n b\u1ea3o hi\u1ec3m")),Rc&&(nc||(a=!1,t.weightCargo="Vui l\xf2ng nh\u1eadp h\xe0ng h\xf3a \u0111\u01b0\u1ee3c BH (T\u1ea5n)"),rc||(a=!1,t.cargoInsur="Vui l\xf2ng ch\u1ecdn m\u1ee9c tr\xe1ch nhi\u1ec7m")),e.sdk_params.product_code!==Ae.product_code&&(Vc||(a=!1,t.packCode="Vui l\xf2ng ch\u1ecdn ch\u01b0\u01a1ng tr\xecnh b\u1ea3o hi\u1ec3m"),sa||(a=!1,t.mfg="Vui l\xf2ng ch\u1ecdn n\u0103m s\u1ea3n xu\u1ea5t"),da||(a=!1,t.vehicleRegis="Vui l\xf2ng nh\u1eadp ng\xe0y \u0111\u0103ng k\xfd xe"),qc||(a=!1,t.vehicleValue="Vui l\xf2ng nh\u1eadp gi\xe1 tr\u1ecb xe"),wc||(a=!1,t.insurDeductible="Vui l\xf2ng ch\u1ecdn m\u1ee9c mi\u1ec5n thu\u1eddng"),pn||(a=!1,t.vehicleLoss="Vui l\xf2ng ch\u1ecdn xe c\xf3 b\u1ecb t\u1ed5n th\u1ea5t kh\xf4ng? "),"0"!==pn||Pn||(a=!1,t.vehicleLossNum="Vui l\xf2ng ch\u1ecdn s\u1ed1 n\u0103m kh\xf4ng b\u1ecb t\u1ed5n th\u1ea5t"),"1"!==pn||Tn||(a=!1,t.amountOfLoss="Vui l\xf2ng nh\u1eadp s\u1ed1 ti\u1ec1n b\u1ecb t\u1ed5n th\u1ea5t"),Mn&&!Gn&&(a=!1,t.discountUnit="Vui l\xf2ng ch\u1ecdn \u0111\u01a1n v\u1ecb gi\u1ea3m ph\xed"),Mn&&!Yn&&(a=!1,t.discount="Vui l\xf2ng nh\u1eadp gi\xe1 tr\u1ecb gi\u1ea3m"),Mn&&!Wn&&(a=!1,t.reasonDiscount="Vui l\xf2ng nh\u1eadp l\xfd do gi\u1ea3m ph\xed"),al===Ae.gd_theo_kh&&(sl||(a=!1,t.calendarEff="Vui l\xf2ng nh\u1eadp ng\xe0y h\u1eb9n"),bl||(a=!1,t.calendarTimeF="Vui l\xf2ng nh\u1eadp th\u1eddi gian h\u1eb9n t\u1eeb"),ml||(a=!1,t.calendarTimeT="Vui l\xf2ng nh\u1eadp th\u1eddi gian h\u1eb9n \u0111\u1ebfn"),Nl||(a=!1,t.calendarContact="Vui l\xf2ng nh\u1eadp t\xean kh\xe1ch h\xe0ng"),Dl||(a=!1,t.calendarPhone="Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),xl||(a=!1,t.calendarAddress="Vui l\xf2ng nh\u1eadp s\u1ed1 nh\xe0, ng\xf5/ ng\xe1ch, \u0111\u01b0\u1eddng"),!Ll||""!==Ll.label&&void 0!==Ll.label||(a=!1,t.calendarAddressCode="Vui l\xf2ng ch\u1ecdn T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3")),"KHAC"===Ml&&Bl&&(Bl===Ae.customer_type?(Xl||(a=!1,t.genderBNF="Vui l\xf2ng chon danh x\u01b0ng"),Ql||(a=!1,t.nameBNF="Vui l\xf2ng nh\u1eadp t\xean ch\u1ee7 xe"),is||(a=!1,t.idCardBNF="Vui l\xf2ng nh\u1eadp CMND ho\u1eb7c CCCD ")):(Ql||(a=!1,t.nameBNF="Vui l\xf2ng nh\u1eadp t\xean c\u01a1 quan"),_s||(a=!1,t.taxCodeBNF="Vui l\xf2ng nh\u1eadp m\xe3 s\u1ed1 thu\u1ebf")),$l||(a=!1,t.phoneBNF="Vui l\xf2ng nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),us||(a=!1,t.addressBNF="Vui l\xf2ng nh\u1eadp s\u1ed1 nh\xe0, ng\xf5/ ng\xe1ch, \u0111\u01b0\u1eddng"),!Os||""!==Os.label&&void 0!==Os.label||(a=!1,t.addressCodeBNF="Vui l\xf2ng ch\u1ecdn T\u1ec9nh/TP - Qu\u1eadn/huy\u1ec7n - Ph\u01b0\u1eddng/ x\xe3"))),Ls(t),a}()){var t,a={},c={},n={},l="",s="",i=null,r=null,d=null,u=null,b=_()(fa,"DD/MM/YYYY"),j=_()(Ia,"DD/MM/YYYY"),h=_()(on,"DD/MM/YYYY"),O=_()(En,"DD/MM/YYYY");l=j.diff(b,"days"),t=O.diff(h,"days");var m="";if(en.length>0&&en.map((function(e,t){return m+=e.KEY+"@"})),Se){if(Gt){var E=Se[22].filter((function(e){return parseFloat(e.MIN_VALUE)<=parseFloat(Gt)&&parseFloat(Gt)<=parseFloat(e.MAX_VALUE)}));E.length>0&&(i=E[0].value)}if(Yt){var v=Se[23].filter((function(e){return e.NUM_OF_SEAT===Yt}));v.length>0&&(r=v[0].value)}if(qc){var N=qc.split(",").join(""),A=Se[20].filter((function(e){return parseFloat(e.MIN_VALUE)<=parseFloat(N)&&parseFloat(N)<=parseFloat(e.MAX_VALUE)}));A.length>0&&(d=A[0].value)}if(sa){s=_()().year()-parseInt(sa);var f=Se[21].filter((function(e){return parseFloat(e.MIN_VALUE)<=parseFloat(s)&&parseFloat(s)<=parseFloat(e.MAX_VALUE)}));f.length>0&&(u=f[0].value)}}a=ys(De,"VH_TYPE",Dt||"VH_TYPE"),a=ys(a,"CAR_WEIGHT",i||"CAR_WEIGHT"),a=ys(a,"CAR_SEAT",r||"CAR_SEAT"),a=ys(a,"CAR_PURPOSE",xt||"CAR_PURPOSE"),c=ys(pe,"VH_TYPE",Dt||"VH_TYPE"),c=ys(c,"BH_NTX",ec||"BH_NTX"),c=ys(c,"CAR_PURPOSE",xt||"CAR_PURPOSE"),c=ys(c,"TH_HK",Ja||"TH_HK"),c=ys(c,"CAR_WEIGHT",i||"CAR_WEIGHT"),c=ys(c,"TH_TSN3",qa||"TH_TSN3"),c=ys(c,"TH_N3",wa||"TH_N3"),c=ys(c,"CAR_SEAT",r||"CAR_SEAT"),c=ys(c,"BH_HH",rc||"BH_HH"),c=ys(c,"TTAI_TAN",nc||"TTAI_TAN"),c=ys(c,"NUM_OF_DAY",l||"NUM_OF_DAY");var C=a.findIndex((function(e){return"HS_T30D"===e.KEY_CODE})),D=a.findIndex((function(e){return"HS_D30D"===e.KEY_CODE}));l>30?(a[C].VAL_CODE=l.toString(),a[D].VAL_CODE="0"):(a[C].VAL_CODE="0",a[D].VAL_CODE="1"),n=ys(ge,"STBH_VCX",qc?qc.split(",").join(""):"STBH_VCX"),n=ys(n,"VH_TYPE",Dt||"VH_TYPE"),n=ys(n,"CAR_WEIGHT",i||"CAR_WEIGHT"),n=ys(n,"CAR_PRICE",d||"CAR_PRICE"),n=ys(n,"YEAR_OF_USE",u||"YEAR_OF_USE"),n=ys(n,"DAY_OF_VCX",t||"DAY_OF_VCX"),n=ys(n,"BOSUNG",m||"BOSUNG"),n=ys(n,"BH_HH",rc||"BH_HH"),n=ys(n,"CAR_SEAT",r||"CAR_SEAT"),n=ys(n,"TH_N3",wa||"TH_N3"),n=ys(n,"BH_NTX",ec||"BH_NTX"),n=ys(n,"CAR_PURPOSE",xt||"CAR_PURPOSE"),n=ys(n,"TH_HK",Ja||"TH_HK"),n=ys(n,"TH_TSN3",qa||"TH_TSN3"),n=ys(n,"TTAI_TAN",nc||"TTAI_TAN"),Ee(a),Ne(c),e.setVehicleInsur(Object(o.a)(Object(o.a)({},e.vehicleInsur),{},{CONTRACT_CODE:je?je.CONTRACT_CODE:"",VEHICLE_GROUP:Nt,VEHICLE_TYPE:Dt,VEHICLE_USE:xt,NONE_NUMBER_PLATE:Va?"0":"1",IS_SPLIT_ORDER:bc,NUMBER_PLATE:Wt,CHASSIS_NO:Zt,ENGINE_NO:aa,SEAT_NO:Yt,SEAT_CODE:r,WEIGH:Gt,WEIGH_CODE:i,BRAND:Lt,MODEL:Ht,MFG:sa,CAPACITY:"",REF_VEHICLE_VALUE:Jc,VEHICLE_REGIS:da,VEHICLE_REGIS_CODE:u,objFeeTNDS:a,objFeeTN:c,objFeeVcx:n,IS_TNDS:Oc,IS_COMPULSORY:e.sdk_params.product_code===Ae.product_code?"1":"0",IS_VOLUNTARY_ALL:Cc||Sc||Rc?"1":"0",IS_PHYSICAL:e.sdk_params.product_code!==Ae.product_code?"1":"0",IS_VOLUNTARY:Cc?"1":"0",IS_DRIVER:Sc?"1":"0",IS_CARGO:Rc?"1":"0",VEHICLE_VALUE:qc?qc.split(",").join(""):0,VEHICLE_VALUE_CODE:d,COMPULSORY_CIVIL:e.sdk_params.product_code===Ae.product_code?{DETAIL_CODE:je.COMPULSORY_CIVIL?je.COMPULSORY_CIVIL.DETAIL_CODE:"",PRODUCT_CODE:"XCG_TNDSBB",PACK_CODE:"TNDSBB",IS_SERIAL_NUM:ha?"1":"0",SERIAL_NUM:va,EFF:fa,TIME_EFF:ga,EXP:Ia,TIME_EXP:ka}:null,VOLUNTARY_CIVIL:{PRODUCT_CODE:"XCG_TNDSTN",PACK_CODE:"TNDSTN",INSUR_3RD:wa,INSUR_3RD_ASSETS:qa,INSUR_PASSENGER:Ja,TOTAL_LIABILITY:"0",DRIVER_NUM:"0",DRIVER_INSUR:ec,WEIGHT_CARGO:nc,CARGO_INSUR:rc,TOTAL_VOLUNTARY_3RD:"0",TOTAL_DRIVER:"0",TOTAL_CARGO:"0",TOTAL_3RD_INSUR:"0",TOTAL_3RD_ASSETS:"0",TOTAL_PASSENGER:"0"},PHYSICAL_DAMAGE:e.sdk_params.product_code!==Ae.product_code?{DETAIL_CODE:je.PHYSICAL_DAMAGE?je.PHYSICAL_DAMAGE.DETAIL_CODE:"",PRODUCT_CODE:"XCG_VCX_NEW",PACK_CODE:Vc,INSUR_DEDUCTIBLE:wc,EFF:on,TIME_EFF:jn,EXP:En,TIME_EXP:An,IS_VEHICLE_LOSS:pn,VEHICLE_LOSS_NUM:Pn,VEHICLE_LOSS_AMOUNT:Tn?Tn.split(",").join(""):0,IS_DISCOUNT:Mn?"1":"0",DISCOUNT:Yn||"0",REASON_DISCOUNT:Wn,DISCOUNT_UNIT:Gn,IS_SEND_HD:Zn?"1":"0",SURVEYOR_TYPE:al,CALENDAR_EFF:al===Ae.gd_theo_kh?sl:null,CALENDAR_EXP:"",CALENDAR_TIME_F:al===Ae.gd_theo_kh?bl:null,CALENDAR_TIME_T:al===Ae.gd_theo_kh?ml:null,CALENDAR_CONTACT:Nl,CALENDAR_PHONE:Dl,CALENDAR_PROV:Ll?Ll.prov:"",CALENDAR_DIST:Ll?Ll.dist:"",CALENDAR_WARDS:Ll?Ll.ward:"",CALENDAR_ADDRESS:xl,CALENDAR_ADDRESS_FORM:Ll?Ll.label:"",ADDITIONAL:en,BENEFICIARY:[{ORG_CODE:"",RELATIONSHIP:Ml,TYPE:Ml===Ae.relationship?null===je||void 0===je?void 0:je.TYPE:Bl,NAME:Ml===Ae.relationship?null===je||void 0===je?void 0:je.NAME:Ql,DOB:"",GENDER:Ml===Ae.relationship?null===je||void 0===je?void 0:je.GENDER:Xl,ADDRESS:Ml===Ae.relationship?null===je||void 0===je?void 0:je.ADDRESS:us,IDCARD:Ml===Ae.relationship?null===je||void 0===je?void 0:je.IDCARD:is,EMAIL:Ml===Ae.relationship?null===je||void 0===je?void 0:je.EMAIL:cs,PHONE:Ml===Ae.relationship?null===je||void 0===je?void 0:je.PHONE:$l,PROV:Ml===Ae.relationship?null===je||void 0===je?void 0:je.PROV:null===Os||void 0===Os?void 0:Os.prov,DIST:Ml===Ae.relationship?null===je||void 0===je?void 0:je.DIST:null===Os||void 0===Os?void 0:Os.dist,WARDS:Ml===Ae.relationship?null===je||void 0===je?void 0:je.WARDS:null===Os||void 0===Os?void 0:Os.ward,ADDRESS_FORM:Ml===Ae.relationship?null===je||void 0===je?void 0:je.ADDRESS_LABEL:null===Os||void 0===Os?void 0:Os.label,IDCARD_D:"",IDCARD_P:"",FAX:"",TAXCODE:Ml===Ae.relationship?je.TAXCODE:_s}]}:null})),e.onNextStep()}},style:{margin:0},children:"Ti\u1ebfp t\u1ee5c"})]})},Ue=(a(294),new le),Ye=function(e){var t,a,l,s,i,d,u,O,v=Object(n.useRef)(null),_=Object(n.useState)(0),N=Object(r.a)(_,2),A=N[0],f=N[1],C=Object(n.useState)(0),D=Object(r.a)(C,2),p=D[0],g=D[1],S=Object(n.useState)(!1),x=Object(r.a)(S,2),T=x[0],I=x[1],R=Object(n.useState)(!1),L=Object(r.a)(R,2),P=L[0],k=L[1],M=Object(n.useState)([]),V=Object(r.a)(M,2),U=V[0],B=V[1],w=Object(n.useState)(!1),F=Object(r.a)(w,2),G=(F[0],F[1],Object(n.useState)("")),X=Object(r.a)(G,2),q=X[0],K=X[1],W=Object(n.useState)("CX"),Q=Object(r.a)(W,2),J=(Q[0],Q[1],Object(n.useState)(fe)),z=Object(r.a)(J,2),Z=z[0],$=z[1],ee=Object(n.useState)(Ce),te=Object(r.a)(ee,2),ae=te[0],ce=te[1],ne=Object(n.useState)(null),le=Object(r.a)(ne,2),ie=le[0],oe=le[1],de=Object(n.useState)(!1),ue=Object(r.a)(de,2),be=ue[0],je=(ue[1],Object(n.useState)(!1)),he=Object(r.a)(je,2),Oe=he[0],me=(he[1],Object(n.useState)(!1)),Ee=Object(r.a)(me,2),ve=Ee[0],_e=Ee[1],Ne=Object(n.useState)(!1),De=Object(r.a)(Ne,2),pe=De[0],ge=De[1],Se=Object(n.useState)(""),xe=Object(r.a)(Se,2),Te=xe[0],Re=xe[1],Pe=Object(n.useState)(""),ke=Object(r.a)(Pe,2),ye=ke[0],He=ke[1],Me=Object(n.useState)(""),Ye=Object(r.a)(Me,2),Be=Ye[0],we=Ye[1],Fe=Object(n.useState)(""),Ge=Object(r.a)(Fe,2),Xe=Ge[0],qe=Ge[1],Ke=Object(n.useState)(""),We=Object(r.a)(Ke,2),Qe=We[0],Je=We[1],ze=Object(n.useState)(0),Ze=Object(r.a)(ze,2),$e=Ze[0],et=Ze[1],tt=Object(n.useState)(!1),at=Object(r.a)(tt,2),ct=at[0],nt=at[1],lt=Object(n.useState)(!1),st=Object(r.a)(lt,2),it=st[0],rt=st[1],ot=Object(n.useState)(!1),dt=Object(r.a)(ot,2),ut=dt[0],bt=dt[1],jt=Object(n.useState)(!1),ht=Object(r.a)(jt,2),Ot=ht[0],mt=ht[1],Et=Object(n.useState)(""),vt=Object(r.a)(Et,2),_t=vt[0],Nt=vt[1];Object(n.useEffect)((function(){e.sdk_params&&("ADD"===e.sdk_params.action?(I(!0),f(0),g(0),ce(Ce)):"EDIT"===e.sdk_params.action&&(f(3),g(3),pt(e.sdk_params.contract_code,e.sdk_params.detail_code)))}),[e.sdk_params]),Object(n.useEffect)((function(){2===p&&(e.sdk_params.product_code===Ae.product_code?gt(ae.objFeeTNDS,ae.objFeeTN):St(ae.objFeeVcx))}),[ae]),Object(n.useEffect)((function(){Ct()}),[]);var At=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=A,e.next=0===e.t0?3:1===e.t0?6:2===e.t0?9:10;break;case 3:return f(1),g(1),e.abrupt("break",11);case 6:return f(2),g(2),e.abrupt("break",11);case 9:case 10:return e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(e){1===e&&k(!0),f(e),g(e)},Ct=function(){var t=Object(j.a)(b.a.mark((function t(){var a,c,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _e(!0),c={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"APISZ0XSJ1"},Data:{channel:"SDK_CAR",username:null===(a=e.sdk_params)||void 0===a?void 0:a.user_name,org_code:"HDI",product_code:"",language:""}},t.prev=2,t.next=5,Ue.post("/OpenApi/Post",c);case 5:(n=t.sent).Success?(B(n.Data),_e(!1),console.log("rs.Data",n.Data)):(Y(n.ErrorMessage),_e(!1)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}(),Dt=function(){var t=Object(j.a)(b.a.mark((function t(a){var c,n,l,s,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="",n=e.sdk_params.product_code===Ae.product_code?"":"/ver2",!ut||q){t.next=5;break}return Y("Vui l\xf2ng ch\u1ecdn h\xecnh th\u1ee9c thanh to\xe1n"),t.abrupt("return");case 5:return l="","SAVE"===a?(nt(!0),l="/OpenApi"+n+"/insur/vehicle/create"):"PAY"===a&&(rt(!0),l="/OpenApi"+n+"/insur/vehicle/create_pay"),s={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"APIZTPI8X1"},Data:{ORG_CODE:"HDI",CHANNEL:"SELLING",USERNAME:null===(c=e.sdk_params)||void 0===c?void 0:c.user_name,ACTION:"ADD"===e.sdk_params.action?"BH_M":"BH_S",BUYER:Z,VEHICLE_INSUR:[ae],PAY_INFO:{PAYMENT_TYPE:q||"",IS_SMS:be?"1":"0",IS_EMAIL:Oe?"1":"0",PAYMENT_MIX:null}}},t.prev=8,t.next=11,Ue.post(l,s);case 11:(i=t.sent).Success?("SAVE"===a?(nt(!1),"ADD"===e.sdk_params.action?Y("T\u1ea1o \u0111\u01a1n th\xe0nh c\xf4ng"):Y("C\u1eadp nh\u1eadt \u0111\u01a1n th\xe0nh c\xf4ng")):"PAY"===a&&(rt(!1),"CTT"===q?window.open(i.Data.url_redirect,"_self"):"CK"===q?i.Data&&i.Data[0]&&i.Data[0][0]&&(mt(!0),Nt(i.Data[0][0].CONTENT_PAY)):"TM"!==q&&"TH"!==q||Y("Thanh to\xe1n th\xe0nh c\xf4ng")),e.sdk_params.onClose((function(e){return console.log(e),e}))):(Y(i.ErrorMessage),nt(!1),rt(!1)),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e){return t.apply(this,arguments)}}(),pt=function(){var t=Object(j.a)(b.a.mark((function t(a,c){var n,l,s,i,r,d,u,j,h,O,m;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"API4CQ0Z1U"},Data:{channel:"WEB_B2B",username:null===(n=e.sdk_params)||void 0===n?void 0:n.user_name,language:"VN",category:"XE",product_code:null===(l=e.sdk_params)||void 0===l?void 0:l.product_code,contract_code:a,detail_code:c}},t.prev=1,t.next=4,Ue.post("/OpenApi/hdi/v1/product/detail",s);case 4:(i=t.sent).Success?i.Data&&(j=i.Data.BUYER,i.Data.VEHICLE_INSUR.length>0&&i.Data.VEHICLE_INSUR.length>0&&(h=i.Data.VEHICLE_INSUR[0],Ae.ord_status_ed.includes((null===(O=h.COMPULSORY_CIVIL)||void 0===O?void 0:O.STATUS)||(null===(m=h.PHYSICAL_DAMAGE)||void 0===m?void 0:m.STATUS))?I(!0):I(!1)),He(null===(r=h.COMPULSORY_CIVIL)||void 0===r?void 0:r.TOTAL_AMOUNT),we(null===(d=h.PHYSICAL_DAMAGE)||void 0===d?void 0:d.TOTAL_AMOUNT),qe(null===(u=h.VOLUNTARY_CIVIL)||void 0===u?void 0:u.TOTAL_AMOUNT),Re(h.TOTAL_AMOUNT),ce(Object(o.a)(Object(o.a)({},ae),{},{CONTRACT_CODE:h.CONTRACT_CODE,TYPE:j.TYPE,IS_SEND_MAIL:h.IS_SEND_MAIL,GENDER:j.GENDER,NAME:j.NAME,PHONE:j.PHONE,TAXCODE:j.TAXCODE,EMAIL:j.EMAIL,IDCARD:j.IDCARD,ADDRESS:j.ADDRESS,ADDRESS_LABEL:h.ADDRESS_FORM,PROV:j.PROV,DIST:j.DIST,WARDS:j.WARDS,VEHICLE_GROUP:h.VEHICLE_GROUP,VEHICLE_TYPE:h.VEHICLE_TYPE,VEHICLE_USE:h.VEHICLE_USE,NONE_NUMBER_PLATE:h.NONE_NUMBER_PLATE,IS_SPLIT_ORDER:h.IS_SPLIT_ORDER,NUMBER_PLATE:h.NUMBER_PLATE,CHASSIS_NO:h.CHASSIS_NO,ENGINE_NO:h.ENGINE_NO,SEAT_NO:h.SEAT_NO,SEAT_CODE:h.SEAT_CODE,WEIGH:h.WEIGH,WEIGH_CODE:h.WEIGH_CODE,BRAND:h.BRAND,MODEL:h.MODEL,MFG:h.MFG,CAPACITY:h.CAPACITY,REF_VEHICLE_VALUE:h.REF_VEHICLE_VALUE,VEHICLE_REGIS:h.VEHICLE_REGIS,VEHICLE_REGIS_CODE:h.VEHICLE_REGIS_CODE,VEHICLE_VALUE:h.VEHICLE_VALUE,VEHICLE_VALUE_CODE:h.VEHICLE_VALUE_CODE,IS_VOLUNTARY:h.IS_VOLUNTARY,IS_DRIVER:h.IS_DRIVER,IS_CARGO:h.IS_CARGO,TOTAL_AMOUNT:h.TOTAL_AMOUNT,COMPULSORY_CIVIL:h.COMPULSORY_CIVIL,VOLUNTARY_CIVIL:h.VOLUNTARY_CIVIL,PHYSICAL_DAMAGE:h.PHYSICAL_DAMAGE})),$({TYPE:j.TYPE,NAME:j.NAME,DOB:"",GENDER:j.GENDER,ADDRESS:j.ADDRESS,IDCARD:j.IDCARD,EMAIL:j.EMAIL,PHONE:j.PHONE,PROV:j.PROV,DIST:j.DIST,WARDS:j.WARDS,IDCARD_D:"",IDCARD_P:"",FAX:"",TAXCODE:j.TAXCODE})):Y(i.ErrorMessage),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}(),gt=function(){var t=Object(j.a)(b.a.mark((function t(a,c){var n,l,s,i,r,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ge(!0),l={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"APIZTPI8X1"},Data:{channel:"WEB_B2B",userName:null===(n=e.sdk_params)||void 0===n?void 0:n.user_name,ORG_CODE:"HDI",PRODUCT_INFO:[{CATEGORY:"XE",PRODUCT_CODE:"XCG_TNDSBB",STBH:"800000",DYNAMIC_FEES:a},{CATEGORY:"XE",PRODUCT_CODE:"XCG_TNDSTN",STBH:"",DYNAMIC_FEES:c}],GIFTS:null},Signature:"9496EA5EBD92B58D3D217E2F3C2DE1E73993A1CFD871685FDE12EAE03EF6BCD4"},t.prev=2,t.next=5,Ue.post("/OpenApi/insur/calculate/v2/fees",l);case 5:(s=t.sent).Success?s.Data&&((i=s.Data).PRODUCT_DETAIL.length>0&&(r=i.PRODUCT_DETAIL[0].TOTAL_AMOUNT,He(r),o=i.PRODUCT_DETAIL[1].TOTAL_AMOUNT,qe(o)),Re(i.TOTAL_AMOUNT),ge(!1)):(ge(!1),Y(s.ErrorMessage)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}(),St=function(){var t=Object(j.a)(b.a.mark((function t(a){var c,n,l,s,i,r,o,d,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ge(!0),n={Action:{ParentCode:"HDI_WEB",UserName:"HDI_WEB",Secret:"B72088C7067CJF9FE0551F6E21B40329",ActionCode:"APIZTPI8X1"},Data:{channel:"WEB_B2B",userName:null===(c=e.sdk_params)||void 0===c?void 0:c.user_name,ORG_CODE:"HDI",PRODUCT_INFO:[{INX:"0",CATEGORY:"XE",PRODUCT_CODE:"XCG_VCX_NEW",PACK_CODE:"",DISCOUNT:"0",DISCOUNT_UNIT:"",DYNAMIC_FEES:a}],GIFTS:null},Signature:"9496EA5EBD92B58D3D217E2F3C2DE1E73993A1CFD871685FDE12EAE03EF6BCD4"},t.prev=2,t.next=5,Ue.post("/OpenApi/insur/calculate/v3/fees",n);case 5:(l=t.sent).Success?l.Data&&((s=l.Data).PRODUCT_DETAIL.length>0&&(i=s.PRODUCT_DETAIL[0],Re(null===i||void 0===i?void 0:i.TOTAL_AMOUNT),i.OUT_DETAIL.length>0&&(d=i.OUT_DETAIL.filter((function(e){return"XCG_VCX_FEES"===e.CODE})),u=i.OUT_DETAIL.filter((function(e){return"XCGTN_BS"===e.CODE})),we(null===(r=d[0])||void 0===r?void 0:r.TOTAL_AMOUNT),qe(null===(o=u[0])||void 0===o?void 0:o.TOTAL_AMOUNT))),ge(!1)):(ge(!1),Y(l.ErrorMessage)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();Object(n.useEffect)((function(){et(Te-Qe)}),[Qe]);return Object(c.jsxs)("div",{className:"form-car",children:[ve&&Object(c.jsx)(re,{}),e.sdk_params&&"EDIT"===e.sdk_params.action&&Object(c.jsxs)("div",{className:"form-btn-confirm",children:[((null===ae||void 0===ae||null===(t=ae.COMPULSORY_CIVIL)||void 0===t?void 0:t.STATUS)||(null===ae||void 0===ae||null===(a=ae.PHYSICAL_DAMAGE)||void 0===a?void 0:a.STATUS))===Ae.ord_status_paid&&Object(c.jsxs)("div",{className:"btn-next-step btn-preview-gcn",onClick:function(){return alert("S\u1eafp ra m\u1eaft")},children:[Object(c.jsx)("i",{className:"fa fa-print","aria-hidden":"true"}),"Xem v\xe0 in GCN"]}),Ae.ord_status_ed.includes((null===ae||void 0===ae||null===(l=ae.COMPULSORY_CIVIL)||void 0===l?void 0:l.STATUS)||(null===ae||void 0===ae||null===(s=ae.PHYSICAL_DAMAGE)||void 0===s?void 0:s.STATUS))&&"1"!==(null===ae||void 0===ae||null===(i=ae.COMPULSORY_CIVIL)||void 0===i?void 0:i.IS_SERIAL_NUM)?Object(c.jsxs)("div",{className:"btn-next-step btn-payment-tt",onClick:function(){f(2),g(2),v&&v.current&&v.current.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})},children:[Object(c.jsx)("i",{className:"fas fa-cash-register"}),"Thanh to\xe1n"]}):null,Ae.ord_status_ed.includes((null===ae||void 0===ae||null===(d=ae.COMPULSORY_CIVIL)||void 0===d?void 0:d.STATUS)||(null===ae||void 0===ae||null===(u=ae.PHYSICAL_DAMAGE)||void 0===u?void 0:u.STATUS))&&Object(c.jsxs)("div",{className:"btn-download-document btn-delete-order",onClick:function(){return alert("S\u1eafp ra m\u1eaft")},children:[Object(c.jsx)("i",{className:"fa fa-trash","aria-hidden":"true"}),"X\xf3a \u0111\u01a1n"]})]}),Object(c.jsxs)("div",{className:"form-create-ord",children:[Object(c.jsxs)("div",{className:"step-vertical-timeline",children:[Object(c.jsxs)("div",{className:"header-step-timeline",children:[Object(c.jsx)("label",{className:"title-step-timeline",children:"Th\xf4ng tin ch\u1ee7 xe"}),0!==p&&T&&Object(c.jsx)("label",{className:"edit-step-1",onClick:function(){return ft(0)},children:"S\u1eeda"})]}),Object(c.jsx)("div",{className:"content-step-timeline",children:Object(c.jsxs)("div",{className:"active-step-1",children:[0===A&&0===p&&Object(c.jsx)(Le,{onNextStep:At,listDefineCar:U,vehicleInsur:ae,setBuyer:$,setVehicleInsur:ce}),0!==p&&function(){var e=ae.ADDRESS_LABEL?ae.ADDRESS_LABEL.split("-"):"",t=e[2]+","+e[1]+","+e[0];return Object(c.jsxs)("div",{className:"unactive-step-1 typing-value-form",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ch\u1ee7 xe:"}),Object(c.jsx)("label",{className:"col-form-label",children:ae.TYPE===Ae.customer_type?"C\xe1 nh\xe2n":"C\u01a1 quan"})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"G\u1eedi GCN qua email:"}),Object(c.jsx)("label",{className:"col-form-label",children:"1"===ae.IS_SEND_MAIL?"C\xf3":"Kh\xf4ng"})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsxs)("label",{className:"col-form-label",children:["M"===ae.GENDER?"\xd4ng":"B\xe0",":"]}),Object(c.jsx)("label",{className:"col-form-label",children:ae.NAME})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"}),Object(c.jsx)("label",{className:"col-form-label",children:ae.PHONE})]}),ae.TYPE===Ae.customer_type&&Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"CMND/CCCD/H\u1ed9 chi\u1ebfu:"}),Object(c.jsx)("label",{className:"col-form-label",children:ae.IDCARD})]}),ae.TYPE!==Ae.customer_type&&Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"M\xe3 s\u1ed1 thu\u1ebf:"}),Object(c.jsx)("label",{className:"col-form-label",children:ae.TAXCODE})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Email:"}),Object(c.jsx)("label",{className:"col-form-label",children:ae.EMAIL})]}),Object(c.jsxs)("div",{className:"col-8",children:[Object(c.jsx)("label",{className:"col-form-label",children:"\u0110\u1ecba ch\u1ec9:"}),Object(c.jsx)("label",{className:"col-form-label",children:ae.ADDRESS+" , "+t})]})]})]})}()]})}),Object(c.jsx)("div",{className:"number-step-timeline",children:"1"})]}),Object(c.jsxs)("div",{className:"step-vertical-timeline",children:[Object(c.jsxs)("div",{className:"header-step-timeline",children:[Object(c.jsx)("label",{className:"title-step-timeline",children:"Th\xf4ng tin xe & g\xf3i b\u1ea3o hi\u1ec3m"}),(2===A||3===A)&&1!==p&&T&&Object(c.jsx)("label",{className:"edit-step-1",onClick:function(){return ft(1)},children:"S\u1eeda"})]}),Object(c.jsxs)("div",{className:"content-step-timeline",children:[1===A&&1===p&&Object(c.jsx)(Ve,{onNextStep:At,listDefineCar:U,vehicleInsur:ae,setVehicleInsur:ce,flagFee:P,sdk_params:e.sdk_params}),(2===A||3===A)&&1!==p&&function(){var t=e.sdk_params.product_code,a=ae.PHYSICAL_DAMAGE,n=ae.COMPULSORY_CIVIL,l=ae.VOLUNTARY_CIVIL,s=ae.VEHICLE_TYPE,i=ae.BRAND,r=ae.MODEL,o=ae.NUMBER_PLATE,d=ae.ENGINE_NO,u=ae.CHASSIS_NO,b=ae.IS_VOLUNTARY,j=ae.IS_DRIVER,h=ae.IS_CARGO,O=ae.SEAT_NO,m=ae.VEHICLE_USE,E=ae.MFG,v=ae.VEHICLE_REGIS,_=ae.VEHICLE_VALUE,N=(null===n||void 0===n?void 0:n.TIME_EFF)+" "+(null===n||void 0===n?void 0:n.EFF)+" - "+(null===n||void 0===n?void 0:n.TIME_EXP)+" "+(null===n||void 0===n?void 0:n.EXP),A=U.length>0?U[3].filter((function(e){return e.value===s})):"",f=U.length>0?U[5].filter((function(e){return e.value===i})):"",C=U.length>0?U[6].filter((function(e){return e.value===r})):"",D=U.length>0?U[4].filter((function(e){return e.value===m})):"",p=U.length>0?U[7].filter((function(e){return e.value===(null===l||void 0===l?void 0:l.INSUR_3RD)})):"",g=U.length>0?U[9].filter((function(e){return e.value===(null===l||void 0===l?void 0:l.INSUR_3RD_ASSETS)})):"",S=U.length>0?U[11].filter((function(e){return e.value===(null===l||void 0===l?void 0:l.DRIVER_INSUR)})):"",x=U.length>0?U[12].filter((function(e){return e.value===(null===l||void 0===l?void 0:l.CARGO_INSUR)})):"",T="",I="",R="";return e.sdk_params!==Ae.product_code&&(T=(null===a||void 0===a?void 0:a.TIME_EFF)+" "+(null===a||void 0===a?void 0:a.EFF)+" - "+(null===a||void 0===a?void 0:a.TIME_EXP)+" "+(null===a||void 0===a?void 0:a.EXP),I=U.length>0?U[13].filter((function(e){return e.value===(null===a||void 0===a?void 0:a.PACK_CODE)})):"",R=U.length>0?U[14].filter((function(e){return e.value===(null===a||void 0===a?void 0:a.INSUR_DEDUCTIBLE)})):""),Object(c.jsxs)("div",{className:"unactive-step-2 typing-value-form",children:[Object(c.jsxs)("div",{className:"row ",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 GCN:"}),Object(c.jsx)("label",{className:"col-form-label",children:null===n||void 0===n?void 0:n.SERIAL_NUM})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Lo\u1ea1i xe:"}),Object(c.jsx)("label",{className:"col-form-label",children:A.length>0?A[0].label:""})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"H\xe3ng xe:"}),Object(c.jsx)("label",{className:"col-form-label",children:f.length>0?f[0].label:""})]})]}),Object(c.jsxs)("div",{className:"row ",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Hi\u1ec7u xe:"}),Object(c.jsx)("label",{className:"col-form-label",children:C.length>0?C[0].label:""})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 ch\u1ed7:"}),Object(c.jsx)("label",{className:"col-form-label",children:O})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"M\u1ee5c \u0111\xedch s\u1eed d\u1ee5ng:"}),Object(c.jsx)("label",{className:"col-form-label",children:D.length>0?D[0].label:""})]})]}),Object(c.jsxs)("div",{className:"row ",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Bi\u1ec3n KS:"}),Object(c.jsx)("label",{className:"col-form-label",children:o})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 m\xe1y:"}),Object(c.jsx)("label",{className:"col-form-label",children:d})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 khung: "}),Object(c.jsx)("label",{className:"col-form-label",children:u})]})]}),t===Ae.product_code&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Th\u1eddi h\u1ea1n b\u1ea3o hi\u1ec3m TNDS:"}),Object(c.jsx)("label",{className:"col-form-label",children:N})]})}),Object(c.jsx)("p",{className:"txt-sumary-st2",children:"1. B\u1ea3o hi\u1ec3m TNDS b\u1eaft bu\u1ed9c"})]}),t!==Ae.product_code&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{className:"txt-sumary-st2",children:"1. B\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t xe"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ch\u01b0\u01a1ng tr\xecnh:"}),Object(c.jsx)("label",{className:"col-form-label",children:I.length>0?I[0].label:""})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"N\u0103m s\u1ea3n xu\u1ea5t :"}),Object(c.jsx)("label",{className:"col-form-label",children:E})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ng\xe0y \u0111\u0103ng k\xfd xe:"}),Object(c.jsx)("label",{className:"col-form-label",children:v})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"M\u1ee9c mi\u1ec5n th\u01b0\u1eddng:"}),Object(c.jsx)("label",{className:"col-form-label",children:R.length>0?R[0].label:""})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 ti\u1ec1n BH:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[_?H(_):0," VN\u0110"]})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"TGBH:"}),Object(c.jsx)("label",{className:"col-form-label",children:T})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"T\u1ed5n th\u1ea5t:"}),Object(c.jsx)("label",{className:"col-form-label",children:"0"===(null===a||void 0===a?void 0:a.IS_VEHICLE_LOSS)?"Xe kh\xf4ng b\u1ecb t\u1ed5n th\u1ea5t":"Xe b\u1ecb t\u1ed5n th\u1ea5t"})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 n\u0103m kh\xf4ng b\u1ecb t\u1ed5n th\u1ea5t:"}),Object(c.jsx)("label",{className:"col-form-label",children:null===a||void 0===a?void 0:a.VEHICLE_LOSS_NUM})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Gi\u1ea3m ph\xed:"}),Object(c.jsx)("label",{className:"col-form-label",children:(null===a||void 0===a?void 0:a.DISCOUNT)?null===a||void 0===a?void 0:a.DISCOUNT:null===a||void 0===a?void 0:a.DISCOUNT_UNIT})]}),Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"L\xed do gi\u1ea3m:"}),Object(c.jsx)("label",{className:"col-form-label",children:(null===a||void 0===a?void 0:a.REASON_DISCOUNT)||""})]})]})]}),"1"===b&&Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"txt-sumary-st2",children:"2. B\u1ea3o hi\u1ec3m TNDS t\u1ef1 nguy\u1ec7n (v\u01b0\u1ee3t qu\xe1 m\u1ee9c TNDS b\u1eaft bu\u1ed9c)"}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Thi\u1ec7t h\u1ea1n th\xe2n th\u1ec3 ng\u01b0\u1eddi th\u1ee9 3:  "}),Object(c.jsx)("label",{className:"col-form-label",children:p.length>0?p[0].label:""})]}),Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Thi\u1ec7t h\u1ea1i t\xe0i s\u1ea3n ng\u01b0\u1eddi th\u1ee9 3:"}),Object(c.jsx)("label",{className:"col-form-label",children:g.length>0?g[0].label:""})]})]})]}),"1"===j&&Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"txt-sumary-st2",children:"3. B\u1ea3o hi\u1ec3m l\xe1i xe v\xe0 ng\u01b0\u1eddi ng\u1ed3i tr\xean xe"}),Object(c.jsx)("div",{className:"row ",children:Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("label",{className:"col-form-label",children:"S\u1ed1 ti\u1ec1n b\u1ea3o hi\u1ec3m:"}),Object(c.jsx)("label",{className:"col-form-label",children:S.length>0?S[0].label:""})]})})]}),"1"===h&&Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{className:"txt-sumary-st2",children:"4. B\u1ea3o hi\u1ec3m TNDS c\u1ee7a ch\u1ee7 xe \u0111\u1ed1i v\u1edbi h\xe0ng h\xf3a"}),Object(c.jsxs)("div",{className:"row ",children:[Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("label",{className:"col-form-label",children:"H\xe0ng h\xf3a \u0111\u01b0\u1ee3c BH:"}),Object(c.jsxs)("label",{className:"col-form-label",children:[null===l||void 0===l?void 0:l.WEIGHT_CARGO," t\u1ea5n"]})]}),Object(c.jsxs)("div",{className:"col-6",children:[Object(c.jsx)("label",{className:"col-form-label",children:"M\u1ee9c tr\xe1ch nhi\u1ec7m:"}),Object(c.jsx)("label",{className:"col-form-label",children:S.length>0?x[0].label:""})]})]})]})]})}()]}),Object(c.jsx)("div",{className:"number-step-timeline",children:"2"})]}),Object(c.jsxs)("div",{className:"step-vertical-timeline",children:[Object(c.jsxs)("div",{className:"header-step-timeline",ref:v,children:[Object(c.jsx)("label",{className:"title-step-timeline",children:"Th\xf4ng tin thanh to\xe1n"}),3===A&&2!==p&&T&&Object(c.jsx)("label",{className:"edit-step-2",onClick:function(){return ft(2)},children:"S\u1eeda"})]}),2===A&&2===p&&Object(c.jsxs)("div",{className:"content-step-timeline",children:[pe&&Object(c.jsx)(re,{}),Object(c.jsx)("div",{className:"form-content",children:Object(c.jsx)("label",{className:"col-form-label",children:"T\u1ed5ng ph\xed b\u1ea3o hi\u1ec3m (C\xf3 VAT)"})}),Object(c.jsxs)("div",{className:"row form-total-premium",children:[Object(c.jsxs)("div",{className:"col-6",children:[e.sdk_params.product_code===Ae.product_code?Object(c.jsxs)("p",{children:["Ph\xed b\u1ea3o hi\u1ec3m TNDS b\u1eaft bu\u1ed9c (C\xf3 VAT)",Object(c.jsxs)("label",{children:[ye?y(ye):0," VN\u0110"]})]}):Object(c.jsxs)("p",{children:["Ph\xed b\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t xe (C\xf3 VAT)",Object(c.jsxs)("label",{children:[Be?y(Be):0," VN\u0110"]})]}),Object(c.jsxs)("p",{children:["T\u1ed5ng ph\xed b\u1ea3o hi\u1ec3m t\u1ef1 nguy\u1ec7n (C\xf3 VAT)",Object(c.jsxs)("label",{children:[Xe?y(Xe):0," VN\u0110"]})]}),Object(c.jsxs)("p",{children:["Gi\u1ea3m ph\xed",Object(c.jsx)("label",{style:{color:"#DA2128"},children:"-0 VN\u0110"})]}),Object(c.jsxs)("p",{children:["T\u1ed5ng ti\u1ec1n (\u0111\xe3 bao g\u1ed3m VAT)",Object(c.jsxs)("label",{children:[Te?y(Te):0," VN\u0110"]})]})]}),Object(c.jsx)("div",{className:"col-6",children:Object(c.jsxs)("div",{className:"form-voucher",children:[Object(c.jsx)("p",{children:"M\xe3 voucher ch\u1ec9 \xe1p d\u1ee5ng cho B\u1ea3o hi\u1ec3m TNDS t\u1ef1 nguy\u1ec7n, l\xe1i ph\u1ee5 xe, ng\u01b0\u1eddi ng\u1ed3i tr\xean xe, h\xe0ng h\xf3a v\xe0 BH v\u1eadt ch\u1ea5t. Kh\xf4ng \xe1p d\u1ee5ng cho TNDS b\u1eaft bu\u1ed9c"}),Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-9",children:Object(c.jsx)(se,{label:"M\xe3 voucher",value:ie,changeEvent:oe})}),Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)("div",{className:"btn-apply-voucher",children:"\xc1p d\u1ee5ng"})})]})]})})]}),"1"!==(null===ae||void 0===ae||null===(O=ae.COMPULSORY_CIVIL)||void 0===O?void 0:O.IS_SERIAL_NUM)&&Object(c.jsx)("div",{className:"row form-group",children:Object(c.jsxs)(m.a,{custom:!0,type:"switch",children:[Object(c.jsx)(m.a.Input,{checked:ut}),Object(c.jsx)(m.a.Label,{onClick:function(){return bt(!ut)},children:"Thanh to\xe1n lu\xf4n"})]})}),ut&&Object(c.jsxs)("div",{className:"row form-group",children:[Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(Ie,{disable:!1,label:"H\xecnh th\u1ee9c thanh to\xe1n",value:q,changeEvent:K,dropdown:!0,required:!0,positionSelect:"column",data:U?U[19]:[]})}),Ae.payment_mix.includes(q)&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"Nh\u1eadp s\u1ed1 ti\u1ec1n m\u1eb7t thanh to\xe1n",value:Qe,changeEvent:Je,required:!1})}),Ae.payment_mix.includes(q)&&Object(c.jsx)("div",{className:"col-3",children:Object(c.jsx)(se,{label:"S\u1ed1 ti\u1ec1n thanh to\xe1n tr\u1ef1c tuy\u1ebfn",value:$e,required:!1,disable:!0})})]}),Object(c.jsxs)("div",{className:"form-btn-confirm",children:[ut&&Object(c.jsx)("div",{children:it?Object(c.jsxs)("div",{className:"btn-next-step",children:[Object(c.jsx)(h.a,{animation:"border",role:"status",style:{width:18,height:18,marginRight:8}}),"Vui l\xf2ng \u0111\u1ee3i..."]}):Object(c.jsx)("div",{className:"btn-next-step",onClick:function(){return Dt("PAY")},children:"L\u01b0u v\xe0 thanh to\xe1n"})}),ct?Object(c.jsxs)("div",{className:"btn-download-document",children:[Object(c.jsx)(h.a,{animation:"border",role:"status",style:{width:18,height:18,marginRight:8}}),"Vui l\xf2ng \u0111\u1ee3i..."]}):Object(c.jsx)("div",{className:"btn-download-document",onClick:function(){return Dt("SAVE")},children:"L\u01b0u"})]})]}),3===A&&2!==p&&function(){var t=ae.COMPULSORY_CIVIL,a=ae.VOLUNTARY_CIVIL,n=ae.PHYSICAL_DAMAGE,l=ae.TOTAL_AMOUNT;return Object(c.jsxs)("div",{className:"unactive-step-1 typing-value-form",children:[e.sdk_params.product_code===Ae.product_code?Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ph\xed b\u1ea3o hi\u1ec3m TNDS b\u1eaft bu\u1ed9c (C\xf3 VAT): "}),Object(c.jsxs)("label",{className:"col-form-label",children:[(null===t||void 0===t?void 0:t.TOTAL_AMOUNT)?y(null===t||void 0===t?void 0:t.TOTAL_AMOUNT):0,"  VN\u0110"]})]}),Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("label",{className:"col-form-label",children:"M\xe3 voucher: "}),Object(c.jsx)("label",{className:"col-form-label"})]})]}):Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Ph\xed b\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t xe (C\xf3 VAT): "}),Object(c.jsxs)("label",{className:"col-form-label",children:[(null===n||void 0===n?void 0:n.TOTAL_AMOUNT)?y(null===n||void 0===n?void 0:n.TOTAL_AMOUNT):0,"  VN\u0110"]})]}),Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("label",{className:"col-form-label",children:"M\xe3 voucher: "}),Object(c.jsx)("label",{className:"col-form-label"})]})]}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("label",{className:"col-form-label",children:"T\u1ed5ng ph\xed b\u1ea3o hi\u1ec3m t\u1ef1 nguy\u1ec7n (C\xf3 VAT): "}),Object(c.jsxs)("label",{className:"col-form-label",children:[(null===a||void 0===a?void 0:a.TOTAL_AMOUNT)?y(null===a||void 0===a?void 0:a.TOTAL_AMOUNT):0," VN\u0110"]})]}),Object(c.jsxs)("div",{className:"col-5",children:[Object(c.jsx)("label",{className:"col-form-label",children:"Gi\u1ea3m ph\xed: "}),Object(c.jsxs)("label",{className:"col-form-label",children:[0," VN\u0110"]})]})]}),Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-4",children:[Object(c.jsx)("label",{className:"col-form-label",children:"T\u1ed5ng ph\xed: "}),Object(c.jsxs)("label",{className:"col-form-label",children:[l?y(l):0," VN\u0110"]})]})})]})}(),Object(c.jsx)("div",{className:"number-step-timeline",children:"3"}),Object(c.jsxs)(E.a,{show:Ot,onHide:function(){return mt(!1)},"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(E.a.Header,{closeButton:!0,children:Object(c.jsx)(E.a.Title,{className:"header-sms",children:"Th\xf4ng b\xe1o"})}),Object(c.jsxs)(E.a.Body,{children:[Object(c.jsxs)("label",{children:['Qu\xfd kh\xe1ch vui l\xf2ng Chuy\u1ec3n kho\u1ea3n v\u1edbi n\u1ed9i dung "',Object(c.jsx)("label",{className:"sms-ck",children:_t}),'" cho t\xe0i kho\u1ea3n:']}),Object(c.jsx)("p",{children:"- Ch\u1ee7 t\xe0i kho\u1ea3n: C\xd4NG TY TNHH B\u1ea2O HI\u1ec2M HD"}),Object(c.jsx)("p",{children:"- STK: 168704079888888"}),Object(c.jsx)("p",{children:"- Ng\xe2n h\xe0ng HD Bank chi nh\xe1nh Nguy\u1ec5n \u0110\xecnh Chi\u1ec3u"}),Object(c.jsx)("div",{className:"btn-save-dkbs",onClick:function(){return mt(!1)},children:"\u0110\xf3ng"})]})]})]})]})]})},Be=a(359),we=a(136),Fe=a(363),Ge=a(96),Xe=a(143),qe=a.n(Xe),Ke=a(73),We=a(140),Qe=a.n(We),Je=a(54),ze=a(141),Ze=a.n(ze),$e=a.p+"static/media/remove~GhGIDACB.3c662b75.png",et=a(142),tt=a.n(et),at={media_transshipment_container:"_wQEgi",galery_container:"_1raBZ",footer_transshipment:"_3HjWv",footer_transshipment_button:"_1YdgC",transshipment_loading_page:"_Uphlo",transshipment_loading_page_jld:"_2am2o",carinfo:"_33S5A",if_row:"_2MQq_",if_row_l:"_3RZM6",if_row_r:"_1ZpW3",photo_note:"_2VQsb",photo_title:"_3jQ5Y",jtitle:"_2Gwdl",line_1:"_17AtY",add_another_photo:"_1ioJi",camera_item:"_3yese",photo_item_other:"_2TM81",img_other:"_9UdNa",cancel_icon:"_2uSaO",wrap_img_other:"_3djHS",row_photo:"_2ESx6",more_img:"_2_Fwm",more_photo_item_other:"_33mp3",overlay_more:"_3I9Je",other_img_slide:"_wBtz1","slick-list":"_Em9gH",arleft:"_1HmWF",arright:"_1tm7u"};function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e}).apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function nt(e,t){try{var a=e()}catch(c){return t(c)}return a&&a.then?a.then(void 0,t):a}var lt,st="_18AhS",it="_3m5Kr",rt="_kpYYZ",ot="_2Xh7S",dt="_2V8Ao",ut="_2eoUb",bt="_11HhH",jt="_2s52G",ht="_1AIMr",Ot="_910PP",mt="_1ds6F",Et="_1T2CA",vt="_34i4z",_t="_CpT5R",Nt="_2Z5Ll",At="_15q2C",ft="_3-Gzr",Ct="_1THsq",Dt="_Hds_D",pt="_9TQfc",gt="_1IOQg",St="_z3Jyu",xt="_xtvrM",Tt="_1ydHA",It="_2Gcee",Rt="_p2Rig",Lt="_NiBHi",Pt="_3rvVW",kt="_3_GIL",yt="_3nH2Z",Ht="_26M-o",Mt="_Jy5vS",Vt="_3ElHn",Ut="_lmqfD",Yt=function(e){var t=Object(n.useState)(e.dthumb),a=Object(r.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!1),o=Object(r.a)(i,2),d=o[0],u=o[1];return Object(n.useEffect)((function(){e.dthumb!=c&&(u(!0),setTimeout((function(){s(e.dthumb),setTimeout((function(){u(!1)}),e.isVideo?1e3:500)}),e.isVideo?2e3:500))}),[e.dthumb]),l.a.createElement(qe.a,{ratio:"3/4",img:c,onClick:function(){return e.onClick()}},l.a.createElement("div",{className:dt},l.a.createElement("img",{className:ut,src:"/assets/sdk/camera-frame.svg",alt:"aa"}),l.a.createElement("img",{className:kt,src:c}),l.a.createElement("div",{className:d?"".concat(st," ").concat(it):"".concat(st)},l.a.createElement("div",{className:rt},l.a.createElement(Ke.SyncLoader,{color:"#329945"}))),!d&&l.a.createElement("img",{className:bt,src:e.isVideo?"/assets/sdk/btn-video.svg":"/assets/sdk/btn-camera.svg"})))},Bt=null,wt=function(){function e(t){Object(ee.a)(this,e),this.domain=t,this.post=this.post.bind(this),this.postFormData=this.postFormData.bind(this),this.patch=this.patch.bind(this),this.get=this.get.bind(this),this.handleError=this.handleError.bind(this),this.getHeader=this.getHeader.bind(this),Bt=this}return Object(te.a)(e,[{key:"getHeader",value:function(){return{headers:{"Access-Control-Allow-Headers":"Content-Type","Access-Control-Allow-Methods":"POST","Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}}},{key:"post",value:function(e,t,a){var c=this;return new Promise((function(a,n){ce.a.post(c.domain+e,t,c.getHeader()).then((function(e){return a(e.data)})).catch((function(e){return n(e)}))}))}},{key:"postFormData",value:function(e,t){var a=this;return new Promise((function(c,n){ce()({method:"post",url:a.domain+e,data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return c(e.data)})).catch((function(e){return n()}))}))}},{key:"patch",value:function(e,t){var a=this;return new Promise((function(c,n){ce.a.patch(a.domain+e,t).then((function(e){return c(e.data)})).catch((function(e){console.log(e),Bt.handleError(e,n)}))}))}},{key:"get",value:function(e){var t=this;return new Promise((function(a,c){ce.a.get(t.domain+e).then((function(e){return a(e.data)})).catch((function(e){console.log(e),Bt.handleError(e,c)}))}))}},{key:"delete",value:function(e){var t=this;return new Promise((function(a,c){ce.a.delete(t.domain+e).then((function(e){return a(e.data)})).catch((function(e){Bt.handleError(e,c)}))}))}},{key:"handleError",value:function(e,t){e.response&&(401==e.response.status||403==e.response.status)||(console.log("ERROR----\x3e",e),t(e,null))}}]),e}(),Ft=(a(98),a(134).RTCPeerConnection,a(134).RTCSessionDescription,0),Gt=null,Xt=function(e){var t=e.config.host,a=e.config.ssl?"https://":"http://",c=new wt(a+t),s=Object(n.useRef)(null),i=Object(n.useState)(e.type),d=Object(r.a)(i,2),u=d[0],b=d[1],j=Object(n.useState)(e.currentImg||null),h=Object(r.a)(j,2),O=h[0],m=h[1],E=Object(n.useState)(!0),v=Object(r.a)(E,2),_=v[0],N=v[1],A=Object(n.useState)(!1),f=Object(r.a)(A,2),C=f[0],D=f[1],p=Object(n.useState)(!1),g=Object(r.a)(p,2),S=g[0],x=g[1],T=Object(n.useState)(0),I=Object(r.a)(T,2),R=I[0],L=I[1],P=Object(n.useState)(null),k=Object(r.a)(P,2),y=(k[0],k[1],Object(n.useState)(!1)),H=Object(r.a)(y,2),M=H[0],V=H[1],U=Object(n.useState)(e.currentVideo||null),Y=Object(r.a)(U,2),B=Y[0],w=Y[1],F=Object(n.useState)(!1),G=Object(r.a)(F,2),X=G[0],q=G[1],K=Object(n.useState)(!1),W=Object(r.a)(K,2),Q=W[0],J=W[1],z=l.a.useRef(null),Z=l.a.useState(!1),$=Object(r.a)(Z,2),ee=($[0],$[1]),te=l.a.useState([]),ae=Object(r.a)(te,2),ce=ae[0],ne=ae[1],le=l.a.useState({facingMode:"user"}),se=Object(r.a)(le,2),ie=se[0],re=se[1];Object(n.useEffect)((function(){Gt=null,Je.a.on(),"preview_video"!=u&&"preview_photo"!=u?"photo"==u?oe():de():N(!1),Ft=0}),[]);var oe=function(){try{return Promise.resolve()}catch(e){return Promise.reject(e)}},de=function(){try{return Promise.resolve()}catch(e){return Promise.reject(e)}},ue=l.a.useCallback((function(){console.log("handleStartCaptureClick"),ee(!0),z.current=new MediaRecorder(s.current.stream,{mimeType:"video/webm"}),z.current.addEventListener("dataavailable",be),z.current.start()}),[s,ee,z]),be=l.a.useCallback((function(e){var t=e.data;if(t.size>0){var a=ce.concat(t);if(ne(a),a.length){var c=new Blob(a,{type:"video/webm"}),n=URL.createObjectURL(c);w("".concat(n))}}}),[ne]),je=l.a.useCallback((function(){console.log("handleStopCaptureClick"),z.current.stop(),ee(!1)}),[z,s,ee]),he=function(){Ft<60?(++Ft>1&&V(!0),L(Ft)):(x(!1),clearInterval(Gt))},Oe=function(){Je.a.off(),e.onBackCamera()},me=function(){try{return Promise.resolve(nt((function(){var t=function(){if(e.currentImg==O){e.currentImg.split("/")[e.currentImg.split("/").length-1];Oe()}else{D(!0);var t=e.mediaId.includes("f_")?Promise.resolve(c.post("/api/media-transshipment/upload-other/".concat(e.transId),{data:O,media_id:e.mediaId})).then((function(t){D(!1),e.onCloseCamera(e.type,e.mediaId,t.file_key)})):Promise.resolve(c.post("/api/media-transshipment/upload/".concat(e.transId),{data:O,media_id:e.mediaId})).then((function(t){D(!1),Je.a.off(),e.onCloseCamera(e.type,e.mediaId,t.file_key)}));if(t&&t.then)return t.then((function(){}))}}();if(t&&t.then)return t.then((function(){}))}),(function(e){D(!1),console.log(e)})))}catch(t){return Promise.reject(t)}},Ee=function(){try{return Promise.resolve(nt((function(){var t=function(){if(e.currentVideo==B)Oe();else{D(!0);var t=function(){if(ce.length){function t(){ne([])}var a=new Blob(ce,{type:"video/webm"}),n=(URL.createObjectURL(a),new FormData);n.append("video",a);var l=nt((function(){return N(!0),Promise.resolve(c.postFormData("/api/media-transshipment/upload-video/".concat(e.transId,"/").concat(e.mediaId),n)).then((function(t){console.log(t),setTimeout((function(){Je.a.off(),e.onCloseCamera(e.type,e.mediaId,t.fileId),D(!1),N(!1)}),500)}))}),(function(e){console.log(e)}));return l&&l.then?l.then(t):t()}}();if(t&&t.then)return t.then((function(){}))}}();if(t&&t.then)return t.then((function(){}))}),(function(e){D(!1),console.log(e)})))}catch(t){return Promise.reject(t)}};return l.a.createElement("div",{className:jt},l.a.createElement("div",{className:"preview_photo"==u?ft:ht},l.a.createElement("div",{className:Rt},l.a.createElement("div",{className:S?Lt:Pt})),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:vt,onClick:function(){return Oe()}},l.a.createElement("i",{className:"fas fa-chevron-left"}))),l.a.createElement("div",{className:"col-4 ".concat(Nt)},"photo"==u?l.a.createElement("span",null,"Ch\u1ee5p \u1ea3nh"):l.a.createElement(l.a.Fragment,null,null==B&&l.a.createElement("div",null,l.a.createElement("span",null,function(e){var t=Math.floor(e/60),a=e-60*t;return t<10&&(t="0"+t),a<10&&(a="0"+a),t+":"+a}(R)),l.a.createElement("div",{className:It})))),l.a.createElement("div",{className:"col-4"},null==B&&l.a.createElement("div",{className:_t,onClick:function(){M&&(J(!Q),ie.facingMode=Q?"user":"environment",re(Object(o.a)({},ie)))}},l.a.createElement("i",{className:"fas fa-sync"}))))),l.a.createElement("div",{className:"preview_photo"==u||"preview_video"==u?Ct:Ot},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"}),l.a.createElement("div",{className:"col-4"},"photo"==u?l.a.createElement("div",{className:"".concat(mt," ").concat(Et),onClick:function(){return function(){var e=s.current.getScreenshot();b("preview_photo"),m(e)}()}},l.a.createElement("i",{className:"fas fa-camera"})):l.a.createElement("div",{className:""},l.a.createElement("input",{type:"checkbox",name:"checkbox",className:Tt,onChange:function(e){try{if(M){var t=e.target.checked;x(t),t?(Gt=setInterval(he,1e3),V(!1),ue(),console.log("Start Streaming")):(je(),console.log("Stop Streaming"),N(!0),clearInterval(Gt),b("preview_video"),setTimeout((function(){N(!1)}),1500))}return Promise.resolve()}catch(e){return Promise.reject(e)}},id:"checkbox",checked:S}),l.a.createElement("label",{htmlFor:"checkbox"}))),l.a.createElement("div",{className:"col-4"}))),O&&"preview_photo"==u?l.a.createElement("img",{src:O,alt:"Image preview",className:At}):B&&"preview_video"==u?l.a.createElement(Qe.a,{url:B,autosize:!0,loop:!0}):l.a.createElement(Ze.a,{className:Q?"".concat(xt," ").concat(Ut):"".concat(xt),videoConstraints:ie,onUserMediaError:function(e){return q(!0)},onUserMedia:function(){return V(!0),void setTimeout((function(){N(!1)}),1500)},ref:s}),_&&l.a.createElement("div",{className:St},l.a.createElement("div",{className:ot},l.a.createElement(Ke.BeatLoader,{color:"#dfe6e9"}))),O&&"preview_photo"==u?l.a.createElement("div",{className:O?Ot:Ct},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:Dt,onClick:function(){return N(!0),m(null),void b("photo")}},"Ch\u1ee5p l\u1ea1i")),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:e.currentImg==O?gt:pt,onClick:me,disabled:C},C?l.a.createElement("div",null,"Uploading..."):e.currentImg==O?l.a.createElement("div",null,"Tho\xe1t"):l.a.createElement("div",null,"S\u1eed d\u1ee5ng"))))):B&&"preview_video"==u?l.a.createElement("div",{className:B?Ot:Ct},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:Dt,onClick:function(){return N(!0),w(null),b("video"),void x(!1)}},"Quay l\u1ea1i")),l.a.createElement("div",{className:"col-6"},l.a.createElement("button",{className:e.currentImg==O?gt:pt,onClick:Ee,disabled:C},C?l.a.createElement("div",null,"Uploading..."):e.currentVideo==B?l.a.createElement("div",null,"Tho\xe1t"):l.a.createElement("div",null,"S\u1eed d\u1ee5ng"))))):void 0,X&&l.a.createElement("div",{className:yt},l.a.createElement("div",{className:Ht},l.a.createElement("i",{className:"fas fa-exclamation-triangle ".concat(Vt)}),l.a.createElement("p",{className:Mt},"Camera permission denied!"),l.a.createElement("p",null,"Vui l\xf2ng cho ph\xe9p quy\u1ec1n truy c\u1eadp camera v\xe0 reload l\u1ea1i trang"))))},qt="_1WLz3",Kt="_3UGXN",Wt="_1BVo2",Qt="_2xAou",Jt="_21sMp",zt=function(e){return l.a.createElement("div",{className:qt},l.a.createElement("section",{className:Kt},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 "},l.a.createElement("div",{className:"col-sm-10 col-sm-offset-1  text-center"},l.a.createElement("div",{className:Qt},l.a.createElement("h1",{className:Wt},"404")),l.a.createElement("div",{className:Jt},l.a.createElement("h3",{className:"h2"},"C\xf3 l\u1ed7i x\u1ea3y ra"),l.a.createElement("p",null,"\u0110\u01b0\u1eddng d\u1eabn hi\u1ec7n kh\xf4ng kh\u1ea3 d\u1ee5ng!"))))))))},Zt=((lt={dots:!1,infinite:!0,arrows:!1,speed:500,slidesToShow:3,slidesToScroll:3,className:at.other_img_slide}).infinite=!1,lt),$t=function(e){var t=Object(n.createRef)(),a=e.config,c=a.ssl?"https://":"http://",s=new wt(c+a.host),i=Object(n.useState)(a.trans_id),r=i[0],o=i[1],d=Object(n.useState)(!0),u=d[0],b=d[1],j=Object(n.useState)(!1),h=j[0],O=j[1],m=Object(n.useState)(!1),E=(m[0],m[1]),v=Object(n.useState)([]),_=v[0],N=v[1],A=Object(n.useState)({}),f=A[0],C=A[1],D=Object(n.useState)({}),p=D[0],g=D[1],S=Object(n.useState)(null),x=S[0],T=S[1],I=Object(n.useState)(null),R=I[0],L=I[1],P=Object(n.useState)(null)[1],k=(Object(n.useState)(!1),Object(n.useState)(null)),y=k[0],H=k[1],M=Object(n.useState)(null),V=M[0],U=M[1],Y=function(){var e=!1;return _.map((function(t,a){t.map((function(t,a){null==f[t.id]&&(e=!0)}))})),!e},B=function(e,t,a){"preview_photo"==e&&a?H(a):"preview_video"==e&&a&&U(a),T(e),L(t)};Object(n.useEffect)((function(){f.id=a.trans_id,o(a.trans_id),function(e){try{var t=nt((function(){return Promise.resolve(s.get("/api/media/transshipment/"+e)).then((function(e){if(e.layout){if(e.media_object){P(e.media_object),e.media_object.other&&(Object.keys(e.media_object.other).map((function(t,a){p[t]=e.media_object.other[t]})),g(p));for(var t={},a=0,c=Object.entries(e.media_object);a<c.length;a++){var n=c[a],l=n[0],s=n[1];s.file&&(t[l]=s)}C(t),Y()&&E(!0)}N(e.layout)}else O(!0);b(!1)}))}),(function(){console.log("Loi"),b(!1),O(!0)}));Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(a){return Promise.reject(a)}}(a.trans_id)}),[]);return l.a.createElement("div",{className:x?at.disablescroll:at.media_transshipment_container},u&&l.a.createElement("div",{className:at.transshipment_loading_page},l.a.createElement("div",{className:at.transshipment_loading_page_jld},l.a.createElement(Ke.SyncLoader,{color:"#329945"}))),h&&l.a.createElement(zt,null),l.a.createElement("div",{className:null==x?at.galery_container:at.galery_container_hidden},_.map((function(e,t){return l.a.createElement(Be.a,{key:t},e.map((function(e,t){var n,s="video"==e.type?"/api/media/cache/videothumbnail/"+r+"/":"/api/media/cache/photothumbnail/"+r+"/";return l.a.createElement(we.a,{key:t},l.a.createElement("p",{className:at.photo_title},e.title),l.a.createElement(Yt,{dthumb:f[null===e||void 0===e?void 0:e.id]?c+a.host+s+(null===(n=f[null===e||void 0===e?void 0:e.id])||void 0===n?void 0:n.file):null===e||void 0===e?void 0:e.thumb,isVideo:"video"==(null===e||void 0===e?void 0:e.type),onClick:function(){var t,n,l;return B(f[null===e||void 0===e?void 0:e.id]?"preview_"+(null===e||void 0===e?void 0:e.type):null===e||void 0===e?void 0:e.type,null===e||void 0===e?void 0:e.id,"video"==(null===e||void 0===e?void 0:e.type)?f[null===e||void 0===e?void 0:e.id]?c+a.host+"/media_cache/"+r+"/video-"+(null===(t=f[null===e||void 0===e?void 0:e.id])||void 0===t?void 0:t.file)+".webm":null:null!==(n=f[e.id])&&void 0!==n&&n.file?c+(null===a||void 0===a?void 0:a.host)+s+(null===(l=f[null===e||void 0===e?void 0:e.id])||void 0===l?void 0:l.file):null)}}),l.a.createElement("p",{className:at.photo_note},"Ch\u1ea1m v\xe0o h\xecnh \u0111\u1ec3 b\u1eadt Camera"))})))})),l.a.createElement("div",{className:at.footer_transshipment},a.note_label&&l.a.createElement("p",null,a.note_label),l.a.createElement("div",{className:at.line_1}),l.a.createElement("p",null,"C\xe1c \u1ea3nh kh\xe1c"),function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return JSON.stringify(e)===JSON.stringify({})}(p)?l.a.createElement("div",{className:at.add_another_photo,onClick:function(){return B("photo","f_"+(new Date).getTime(),null)}},l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-camera"})," ",l.a.createElement("span",null,"Ch\u1ee5p \u1ea3nh"))):l.a.createElement("div",{className:at.row_photo},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"position-relative pt-1"},l.a.createElement("div",{className:at.camera_item,onClick:function(){return B("photo","f_"+(new Date).getTime(),null)}},l.a.createElement("i",{className:"fas fa-camera"})))),l.a.createElement("div",{className:"col-9 p-0 position-relative"},l.a.createElement("div",{style:Object.keys(p).length>3?{}:{display:"none"},className:at.arleft,onClick:function(){return t.slickPrev()}},l.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAACMUlEQVRIie2WTWgTURDH//N2kxS/ENEIglhFUJIchKJCdVMxHoxgD7GgqCBerActCEIjgopS6vYoXnJTEKxWPPRS0QQ/kgpFenMriqDpoaApxYJBY7M7HgzNswi7+9J46hx/7Mxv530MD1iK/xTUSPI2c89KnUUWwK4/hJ9b6cJ+L7lC2XoNQnfEvboUAGiV13Rd1RtpMW4A6JTQDFg75jVfaamj/cYREIak/CoTDk705nNea/he6uhA+w4Q7kL+acIFP1LAZ8exvt3rWQ++AWOjhO9Y6fxpP3UAHx23ZdoCLIIPFkhfV5atOOtX6kv889vy2yB0SGiS7F+pjz0jlaaJY+beHjCfkdAPsOh6e3nsi4oU8LDHEdNIEOMJ6lePARy30vlBVSng0vH2/n2txBjEX/ed+xqVAi4DRCP7IYC1dSeGrUrhaqNSwH2PeTEkvsU2a0cBTM8DQmc0FL++GGL3wzXQYZDjZAEEa4jBfMK6VLjfiFhz+6D0rDi57sCmWQKSNUQgOhRObH5ayhWnVMWeR2bUjGcW3OWpKjk73/eOKsk9T66W1eVzYLyU0AadxdDWW8lQU8Xj3eNzcwGtC8AnCbeHyt8zTRUDwIeLL6Yh7BSA8jwknIrcNM77FSs9BGJmPMXMj6R8m+EcnkiPjnit4Xqq/xVfs8V34URrAIR4DQkCJcOJLY9Luc8zXmooP/asyqsrYAxLaA3I9jzDG3llOlXhnAQwJtFZ5XpL0az4DcJ4pUCv6NmhAAAAAElFTkSuQmCC"})),l.a.createElement(tt.a,ct({},Zt,{ref:function(e){return t=e}}),Object.keys(p).map((function(e,t){var n="/api/media/cache/photothumbnail/"+r+"/";return l.a.createElement("div",{className:"col",key:e},l.a.createElement("div",{className:"position-relative pt-1"},l.a.createElement("div",{className:at.cancel_icon},l.a.createElement("img",{src:$e,onClick:function(t){return function(e){try{console.log("Delete >> ",e);var a=nt((function(){return Promise.resolve(s.get("/api/wrtc/"+r+"/delete-other-media/"+e)).then((function(t){t.data.delete?(delete p[e],g(ct({},p))):Ge.a.error("Delete media failed!")}))}),(function(){console.log("Loi")}));return Promise.resolve(a&&a.then?a.then((function(){})):void 0)}catch(t){return Promise.reject(t)}}(e)}})),l.a.createElement("div",{className:at.photo_item_other,onClick:function(){return B("preview_photo",e,c+a.host+n+p[e].file)}},l.a.createElement("div",{className:at.wrap_img_other},l.a.createElement("img",{className:at.img_other,src:c+a.host+n+p[e].file})))))}))),l.a.createElement("div",{style:Object.keys(p).length>3?{}:{display:"none"},className:at.arright,onClick:function(){return t.slickNext()}},l.a.createElement("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAACNElEQVRIie2WT2gTQRTGv7ebP0VFRDSCIFbxINkchKJC6aZKejCCPaQ9WUG8qActFIREBC1KadOjeMlNQbHS4qGXijaiphGq9OZWKoKmh4KmFIsGjc3u8xLNWMTM7JKe+p12Pua937z5u8C61kgk08kYansK0NFq81WFnI65ZP6rF7Am1402C41DPke7i37ZWA9gm/VuAIu1caDTCEavewFLTTUAhIfbTXKcSQCBqsVg7rEuT913A9ZlOxafFOa3d+xeJiBetQhEx0OxPY+L2cKCKli64t8y0tEMmM8K1kKFnINzybwSXHmDNG0pXQDjuWDt9LE2uu9mPNhQ8My5mZUVv94N4INgtwZL3zINBQPAu0vPFqHZCQClPybhdHjIvCibQ3mNRUXS0QQzjwl5bIZzYjaVn6gXK72r/6XPk4W3oVizH4Ro1dIIFA/F9j4sZj8u/S/W0+0DAFb5xVUwxgVrK8i+Vy/OM9itfF4ThJvMGwA6BWsJrPfUi/O0uYxBswuEUSFPhQnHZpO5bL1Y11NtDLceAOEOxMET+mSggMuKIwOHd7Av8BqMXYJ920rlzsjmUK64JdPiZy3wYBX0ZXnDpvMqeZTBP75svAVCu2DNk/0z8b53otwwcCTd1rvqZfpO5HS9uTL9SSUPoPIjkDZjxHiE2hFkACetVG5EFQpIVrx/8EgzMUbw17nnAbdQQPIC0ckeA7CtxsS4VZ665hYKyK/xsvA9XdGcU+iH4wW8rjXTL2bhpT7RNC51AAAAAElFTkSuQmCC"}))))),l.a.createElement(Fe.a,{onClick:function(){try{var t=nt((function(){return Promise.resolve(s.post("/api/media/transshipment/emit/"+r,{data:f})).then((function(t){e.onSubmit&&(f.other=p,e.onSubmit(f,r))}))}),(function(e){Ge.a.error("Submit media failed!"),console.log("Loi ",e)}));return Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(a){return Promise.reject(a)}},className:at.footer_transshipment_button,disabled:!Y()},"Ti\u1ebfp t\u1ee5c"))),x&&l.a.createElement(Xt,{config:a,transId:r,onCloseCamera:function(e,t,a){if(t.includes("f_")){var c=p;a&&(c[t]={type:e,file:a,format:"photo"==e?"png":"webm"});var n=Object.keys(c).sort((function(e,t){return t.localeCompare(e)})).reduce((function(e,t){return e[t]=c[t],e}),{});g(ct({},n))}else{var l=f;a&&(l[t]={type:e,file:a,format:"photo"==e?"png":"webm"}),C(ct({},f,l))}T(null),Y()&&E(!0)},onBackCamera:function(){T(null)},mediaId:R,type:x,currentImg:y,currentVideo:V}))},ea=function(e){var t=e.config,a=e.onSubmit;return console.log(t,a),l.a.createElement($t,{config:t,onSubmit:a})},ta=(a(349),a(350),a(135),function(e,t){console.log("onMediaSubmit ",e,t)}),aa=function(e){var t,a={host:"dev-hyperservices.hdinsurance.com.vn",trans_id:null===(t=e.sdk_params)||void 0===t?void 0:t.trans_id,ssl:!0,note_label:"Vui l\xf2ng ch\u1ee5p t\u1ea5t c\u1ea3 \u1ea3nh v\xe0 quay video \u0111\u1ec3 ti\u1ebfn h\xe0nh mua b\u1ea3o hi\u1ec3m v\u1eadt ch\u1ea5t."};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(ea,{config:a,onSubmit:ta})})};var ca=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],s=t[1];return"undefined"!=typeof window&&(window.testForm=function(e){console.log("dklmmm",e),s(e)}),window.openForm=function(e){console.log("paramsss",e),s(e)},Object(c.jsx)(l.a.Fragment,{children:function(){if(a)switch(a.category){case"CN.04":return Object(c.jsx)(Te,{sdk_params:a});case"XE":return Object(c.jsx)(Ye,{sdk_params:a});case"MEDIA":return Object(c.jsx)(aa,{sdk_params:a})}}()})},na=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,364)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,l=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),l(e),s(e)}))};i.a.render(Object(c.jsx)(l.a.StrictMode,{children:Object(c.jsx)(ca,{})}),document.getElementById("root")),na()},85:function(e,t,a){}},[[351,1,2]]]);
//# sourceMappingURL=main.e1586dab.chunk.js.map